(function(e){function g(){var a,b=this;if(this._boundCallbacks)return this._boundCallbacks;a=this._boundCallbacks={};Object.keys(f).forEach(function(c){a[c]=f[c].bind(b)});return a}function k(){this._scrubber.style.top=Math.round(this._el.scrollTop/this._adjustedHeight*this._scrollableHeight)+"px"}function h(){var a=g.call(this);!1!==this._config.inactivityDuration&&(clearTimeout(this._timer),this._timer=setTimeout(a.hide,this._config.inactivityDuration))}e=e.__internal__.Injector;var l=e.dependencies.Helpers,
m=function(a,b){this._config=l.extendObject(!0,{},n,b);this._el=a;this._scrollTop=this._mouseClickPosition=null;(0<a.offsetWidth||0<a.offsetHeight)&&this.render();this.attachEventListeners()},n={inactivityDuration:1500,markup:'\x3cdiv class\x3d"li-scroll-track"\x3e\x3cdiv class\x3d"li-scroll-thumb"\x3e\x3cdiv class\x3d"li-scroll-scrollbar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',elements:{track:".li-scroll-track",scrubber:".li-scroll-thumb"},classes:{content:"li-scroll-content",visible:"show",active:"scrolling-active"}},
f,c=document.body,d=m.prototype;d.attachEventListeners=function(){var a=g.call(this),b=this._el;b.addEventListener("scroll",a.handleScroll);b.addEventListener("mouseenter",a.handleMouseEnter);b.addEventListener("mouseleave",a.handleMouseLeave);b.addEventListener("mousemove",a.handleElementMouseMove);b.addEventListener("listupdated",a.render)};d.detachEventListeners=function(){var a=g.call(this),b=this._el;b.removeEventListener("scroll",a.handleScroll);b.removeEventListener("mouseenter",a.handleMouseEnter);
b.removeEventListener("mouseleave",a.handleMouseLeave);b.removeEventListener("mousemove",a.handleElementMouseMove)};d.hide=function(){this._track.classList.remove(this._config.classes.visible)};d.redraw=function(){this.render();k.call(this)};d.render=function(){var a=this._config.elements,b=this._el,c=b.parentNode,d=g.call(this),e=parseInt(l.getComputedStyle(b,"height"),10),f=b.scrollHeight,k=f-e,h=Math.round(e/f*e);this._scrubber&&this._track||(b.classList.add(this._config.classes.content),b.insertAdjacentHTML("afterend",
this._config.markup),this._scrubber=c.querySelector(a.scrubber),this._scrubber.addEventListener("mousedown",d.handleMouseDown));this._scrubber.style.height=h+"px";this._track=c.querySelector(a.track);this._contentHeight=f;this._portalHeight=e;this._adjustedHeight=k;this._scrollableHeight=parseInt(l.getComputedStyle(this._track,"height"),10)-h};d.show=function(){this._contentHeight<=this._portalHeight||(this._track.classList.add(this._config.classes.visible),h.call(this))};f={handleBodyMouseMove:function(a){this._el.scrollTop=
this._scrollTop+(a.clientY-this._mouseClickPosition.y)/this._portalHeight*this._contentHeight},handleElementMouseMove:function(a){clearTimeout(this._timer)},handleMouseDown:function(a){var b=g.call(this);c.classList.add(this._config.classes.active);c.setAttribute("unselectable","on");c.addEventListener("mousemove",b.handleBodyMouseMove);c.addEventListener("mouseup",b.handleMouseUp);c.addEventListener("selectstart",b.handleSelectStart);this._mouseClickPosition={x:a.clientX,y:a.clientY};this._scrollTop=
this._el.scrollTop},handleMouseEnter:function(a){clearTimeout(this._timer);this.show()},handleMouseLeave:function(a){a.target!==this._track&&a.target!==this._scrubber&&h.call(this)},handleMouseUp:function(a){a=g.call(this);c.classList.remove(this._config.classes.active);c.removeAttribute("unselectable");c.removeEventListener("mousemove",a.handleBodyMouseMove);c.removeEventListener("mouseup",a.handleMouseUp);c.removeEventListener("selectstart",a.handleSelectStart)},handleScroll:function(a){k.call(this);
clearTimeout(this._timer)},hide:d.hide,handleSelectStart:function(a){a.preventDefault();return!1},render:d.render};e.register("DragonBars",m)})(window.globalNav);(function(g){function l(e){e=this.distanceFromBottomTrigger;var b=e+1,c,a,d=this._el,b=document.documentElement;this.enabled&&(d===window?(c=b.scrollHeight,a=b.clientHeight,b=c-window.scrollY-a):(b=m.getComputedStyle(d,"max-height"),c=d.scrollHeight,a=parseInt(b,10)||c,b=c-d.scrollTop-d.clientHeight),b<=e&&c>a?this.triggered||(d.dispatchEvent(new window.CustomEvent(h,{detail:{distanceFromBottom:b}})),this.triggered=!0):this.triggered=!1)}var k=g.__internal__.Injector,m=k.dependencies.Helpers,h="scrolltop:distance-reached",
a=function(a,b){this._el=a;this.distanceFromBottomTrigger=b.distanceFromBottomTrigger||n;this.enabled=!0;this.triggered=!1;this.attachEventListeners()},n=40,f=a.prototype;f.attachEventListeners=function(){this._el.addEventListener("scroll",l.bind(this))};f.enable=function(a){this.enabled=!0===a};f.reset=function(){this.triggered=!1};a.EVENTS={DISTANCE_REACHED:h};g.ScrollTopObserver=a;k.register("ScrollTopObserver",a)})(window.globalNav);