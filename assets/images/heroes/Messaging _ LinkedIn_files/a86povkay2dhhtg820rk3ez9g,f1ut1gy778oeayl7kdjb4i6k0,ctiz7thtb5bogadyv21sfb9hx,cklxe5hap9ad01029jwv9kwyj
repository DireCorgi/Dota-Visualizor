/* Auto generated, hash = 9jdhsg7q0zrat3cpoau5mpe8r */
(function(){function c(b,a){return b.write("\n\n\n").section(a.get(["messages"],!1),a,{block:d},{})}function d(c,a){return c.section(a.get(["sender"],!1),a,{block:b},{}).write("\n\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\n").exists(a.get(["subject"],!1),a,{block:e},{}).reference(a.get(["body"],!1),a,"h").write("\n\n")}function b(b,a){return b.helper("format",a,{},{type:"name.full",key:"fullName",output:"json",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1)}).helper("format",
a,{},{type:"date.md.medium",key:"fmt_date_msg",date:a.get(["timestamp"],!1),useTimeZone:"true",output:"json"}).helper("format",a,{},{type:"time.hm",key:"fmt_time_msg",date:a.get(["timestamp"],!1),useTimeZone:"true",output:"json"}).helper("i18n",a,{},{key:"i18n_user_on_time",filters:"et|s",templateName:"templates/shared/forwarded-messages"})}function e(b,a){return b.helper("i18n",a,{},{key:"i18n_subject",templateName:"templates/shared/forwarded-messages"}).write("\n\n")}dust.register("templates/shared/forwarded-messages",
c);return c})();(function(){function c(c,b){return c.reference(b.get(["fullName"],!1),b,"h").write(" on ").reference(b.get(["fmt_date_msg"],!1),b,"h").write(", ").reference(b.get(["fmt_time_msg"],!1),b,"h")}dust.register("__i18n__templates/shared/forwarded-messages__i18n_user_on_time",c);return c})();(function(){function c(c,b){return c.write("Subject: ").reference(b.get(["subject"],!1),b,"h")}dust.register("__i18n__templates/shared/forwarded-messages__i18n_subject",c);return c})();
(function(){function c(b,a){return b.helper("i18n",a,{},{key:"i18n_enter_a_group_name",output:"json",templateName:"templates/shared/editGroupName"}).helper("i18n",a,{},{key:"i18n_enter_a_group_name_no_option",output:"json",templateName:"templates/shared/editGroupName"}).helper("i18n",a,{},{key:"i18n_must_enter_name_before_saving",output:"json",templateName:"templates/shared/editGroupName"}).write('\x3cform id\x3d"group-name-form"\x3e\x3cdiv class\x3d"field-wrapper"\x3e\x3clabel for\x3d"group-name" class\x3d"screen-reader-text"\x3e').reference(a.get(["i18n_enter_a_group_name"],
!1),a,"h").write('\x3c/label\x3e\x3cinput type\x3d"text" autocomplete\x3d"off" name\x3d"group-name" class\x3d"group-name ').notexists(a.get(["isEdit"],!1),a,{block:d},{}).write('" placeholder\x3d"').exists(a.get(["name"],!1),a,{"else":e,block:f},{}).write('" maxlength\x3d40 value\x3d"').reference(a.get(["cachedName"],!1),a,"h").write('" /\x3e').exists(a.get(["isEdit"],!1),a,{block:g},{}).write("\x3c/div\x3e").exists(a.get(["isEdit"],!1),a,{block:h},{}).write("\x3c/form\x3e")}function d(b,a){return b.write("compose")}
function e(b,a){return b.reference(a.get(["i18n_enter_a_group_name"],!1),a,"h")}function f(b,a){return b.reference(a.get(["i18n_enter_a_group_name_no_option"],!1),a,"h")}function g(b,a){return b.partial("templates/shared/partials/_error-container",a,{showDismiss:"true"})}function h(b,a){return b.write('\x3cdiv class\x3d"actions-wrapper"\x3e\x3cbutton type\x3d"button" class\x3d"edit-group-name-cancel"\x3e').helper("i18n",a,{},{key:"i18n_cancel",templateName:"templates/shared/editGroupName"}).write('\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"edit-group-name-save primary-action"\x3e').helper("i18n",
a,{},{key:"i18n_save",templateName:"templates/shared/editGroupName"}).write("\x3c/button\x3e\x3c/div\x3e")}dust.register("templates/shared/editGroupName",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/editGroupName"]={i18n_enter_a_group_name:"Name this conversation (optional)",i18n_enter_a_group_name_no_option:"Name this conversation",i18n_must_enter_name_before_saving:"You must enter a name before saving.",i18n_cancel:"Cancel",i18n_save:"Save"}})();
(function(){function c(b,a){return b.section(a.get(["annotatedContent"],!1),a,{block:d},{})}function d(b,a){return b.exists(a.get(["mentionURL"],!1),a,{"else":e,block:f},{})}function e(b,a){return b.exists(a.get(["mentionType"],!1),a,{"else":g,block:h},{})}function g(b,a){return b.exists(a.get(["url"],!1),a,{"else":k,block:l},{})}function k(b,a){return b.reference(a.get(["value"],!1),a,"h")}function l(b,a){return b.write('\x3ca href\x3d"').reference(a.get(["url"],!1),a,"h").write('" target\x3d"_blank" class\x3d"linkified"\x3e').reference(a.get(["value"],
!1),a,"h").write("\x3c/a\x3e")}function h(b,a){return b.write('\x3cspan class\x3d"mention ').reference(a.get(["mentionType"],!1),a,"h").write('-mention"\x3e').reference(a.get(["value"],!1),a,"h",["et","s"]).write("\x3c/span\x3e")}function f(b,a){return b.write('\x3ca href\x3d"').reference(a.get(["mentionURL"],!1),a,"h").write('" target\x3d"_blank" class\x3d"mention ').reference(a.get(["mentionType"],!1),a,"h").write('-mention" data-pv-key\x3d"wonton-mentions-tap"\x3e').reference(a.get(["value"],!1),
a,"h",["et","s"]).write("\x3c/a\x3e")}dust.register("templates/shared/partials/_annotated-content",c);return c})();
(function(){function c(b,a){return b.write('\x3cdiv class\x3d"error-container hidden').exists(a.get(["showDismiss"],!1),a,{block:d},{}).write('"\x3e\x3cdiv class\x3d"error-contents"\x3e\x3csvg class\x3d"yield-icon icon"\x3e\x3cuse xlink:href\x3d"#yield-pebble-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"error-text"\x3e').block(a.getBlock("errorMsg"),a,{block:e},{}).write("\x3c/span\x3e\x3c/div\x3e").exists(a.get(["showDismiss"],!1),a,{block:f},{}).write("\x3c/div\x3e")}
function d(b,a){return b.write(" dismissable")}function e(b,a){return b.helper("i18n",a,{},{key:"i18n_standard_error_msg",templateName:"templates/shared/partials/_error-container"})}function f(b,a){return b.write('\x3cbutton class\x3d"dismiss-action"\x3e\x3csvg class\x3d"cancel-icon icon"\x3e\x3cuse xlink:href\x3d"#cancel-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e\x3c/button\x3e')}dust.register("templates/shared/partials/_error-container",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/_error-container"]={i18n_standard_error_msg:"An error occurred. Please try again."}})();
(function(){function a(a,b){return a.write('\x3cdiv class\x3d"retry-container hidden" tabindex\x3d"0"\x3e\x3cdiv class\x3d"retry-overlay"\x3e\x3cbutton class\x3d"retry-action"\x3e\x3csvg class\x3d"retry-icon icon"\x3e\x3cuse xlink:href\x3d"#refresh-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e').helper("i18n",b,{},{key:"i18n_retry",templateName:"templates/shared/partials/_retry-container"}).write("\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e")}dust.register("templates/shared/partials/_retry-container",
a);return a})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/_retry-container"]={i18n_retry:"Retry"}})();
(function(){function a(a,b){return a.write('\x3cul class\x3d"').reference(b.get(["customClass"],!1),b,"h").write('"\x3e\x3c/ul\x3e')}dust.register("templates/shared/partials/_scroller",a);return a})();
(function(){function c(b,a){return b.write('\x3cdiv class\x3d"loader"\x3e\x3cspan class\x3d"loader-text"\x3e').block(a.getBlock("loaderText"),a,{block:d},{}).write("\x3c/span\x3e\x3c/div\x3e")}function d(b,a){return b.helper("i18n",a,{},{key:"i18n_loading_default",filter:"et|s",templateName:"templates/shared/partials/_loader"})}dust.register("templates/shared/partials/_loader",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/_loader"]={i18n_loading_default:"Loading\x26hellip;"}})();
(function(){function c(b,a){return b.helper("select",a,{block:d},{key:a.get(["dateFormatter"],!1)})}function d(b,a){return b.helper("eq",a,{block:e},{value:"hour"}).helper("eq",a,{block:f},{value:"today"}).helper("eq",a,{block:g},{value:"yesterday"}).helper("default",a,{block:h},{})}function e(b,a){return b.helper("format",a,{},{type:"time.hm",key:"fmt_time_msg",date:a.get(["timestamp"],!1),useTimeZone:"true"})}function f(b,a){return b.helper("i18n",a,{},{key:"i18n_today",templateName:"templates/shared/partials/_date"})}
function g(b,a){return b.helper("i18n",a,{},{key:"i18n_yesterday",templateName:"templates/shared/partials/_date"})}function h(b,a){return b.helper("format",a,{},{type:k,key:"fmt_date_msg",date:a.get(["timestamp"],!1),useTimeZone:"true"})}function k(b,a){return b.reference(a.get(["dateFormatter"],!1),a,"h")}dust.register("templates/shared/partials/_date",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/_date"]={i18n_today:"Today",i18n_yesterday:"Yesterday"}})();
(function(){function c(b,a){return b.helper("addToContext",a,{block:d},{name:"unreadText"}).helper("addToContext",a,{block:e},{name:"readText"}).write('\x3cbutton class\x3d"action unread-toggle-action mark-as-unread').exists(a.get(["inDropdown"],!1),a,{block:f},{}).write('"').notexists(a.get(["read"],!1),a,{block:g},{}).write('\x3e\x3cdiv class\x3d"label"\x3e\x3cdiv class\x3d"icon-container"\x3e\x3csvg class\x3d"').reference(a.get(["unreadIcon"],!1),a,"h").write(' icon"\x3e\x3cuse xlink:href\x3d"#envelope-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3c/div\x3e').exists(a.get(["hideText"],
!1),a,{"else":h,block:k},{}).write('\x3c/div\x3e\x3c/button\x3e\x3cbutton class\x3d"action unread-toggle-action mark-as-read').exists(a.get(["inDropdown"],!1),a,{block:l},{}).write('"').exists(a.get(["read"],!1),a,{block:m},{}).write('\x3e\x3cdiv class\x3d"label"\x3e\x3cdiv class\x3d"icon-container"\x3e\x3csvg class\x3d"').reference(a.get(["readIcon"],!1),a,"h").write(' icon"\x3e\x3cuse xlink:href\x3d"#check-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3c/div\x3e').exists(a.get(["hideText"],!1),a,{"else":n,
block:p},{}).write("\x3c/div\x3e\x3c/button\x3e")}function d(b,a){return b.block(a.getBlock("markAsUnreadText"),a,{block:q},{})}function q(b,a){return b.helper("i18n",a,{},{key:"i18n_mark_as_unread_action_text",templateName:"templates/shared/partials/actions/_toggle-unread-action"})}function e(b,a){return b.block(a.getBlock("markAsReadText"),a,{block:r},{})}function r(b,a){return b.helper("i18n",a,{},{key:"i18n_mark_as_read_action_text",templateName:"templates/shared/partials/actions/_toggle-unread-action"})}
function f(b,a){return b.write(" dropdown-item")}function g(b,a){return b.write(' disabled\x3d"disabled" aria-hidden\x3d"true"')}function h(b,a){return b.write('\x3cspan class\x3d"action-text"\x3e').reference(a.get(["unreadText"],!1),a,"h",["et","s"]).write("\x3c/span\x3e")}function k(b,a){return b.write('\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["unreadText"],!1),a,"h",["et","s"]).write("\x3c/span\x3e")}function l(b,a){return b.write(" dropdown-item")}function m(b,a){return b.write(' disabled\x3d"disabled" aria-hidden\x3d"true"')}
function n(b,a){return b.write('\x3cspan class\x3d"action-text"\x3e').reference(a.get(["readText"],!1),a,"h",["et","s"]).write("\x3c/span\x3e")}function p(b,a){return b.write('\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["readText"],!1),a,"h",["et","s"]).write("\x3c/span\x3e")}dust.register("templates/shared/partials/actions/_toggle-unread-action",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/actions/_toggle-unread-action"]={i18n_mark_as_unread_action_text:"Mark as unread",i18n_mark_as_read_action_text:"Mark as read"}})();
(function(){function c(b,a){return b.write('\x3cbutton class\x3d"action forward-action').exists(a.get(["inDropdown"],!1),a,{block:d},{}).exists(a.get(["isPrimaryAction"],!1),a,{block:e},{}).write('"\x3e\x3cdiv class\x3d"label"\x3e\x3csvg class\x3d"forward-icon icon"\x3e\x3cuse xlink:href\x3d"#forward-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"action-text"\x3e').exists(a.get(["isPrimaryAction"],!1),a,{"else":f,block:g},{}).write("\x3c/span\x3e\x3c/div\x3e\x3c/button\x3e")}function d(b,a){return b.write(" dropdown-item")}
function e(b,a){return b.write(" primary-action")}function f(b,a){return b.helper("i18n",a,{},{key:"i18n_forward_conversation",templateName:"templates/shared/partials/actions/_forward-action"})}function g(b,a){return b.helper("i18n",a,{},{key:"i18n_forward",templateName:"templates/shared/partials/actions/_forward-action"})}dust.register("templates/shared/partials/actions/_forward-action",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/actions/_forward-action"]={i18n_forward:"Forward",i18n_forward_conversation:"Forward conversation"}})();
(function(){function c(b,a){return b.helper("addToContext",a,{block:d},{name:"deleteActionText"}).write('\x3cbutton class\x3d"action delete-action').exists(a.get(["inDropdown"],!1),a,{block:e},{}).write('"\x3e\x3cdiv class\x3d"label"\x3e\x3csvg class\x3d"').reference(a.get(["deleteIcon"],!1),a,"h").write(' icon"\x3e\x3cuse xlink:href\x3d"#').reference(a.get(["deleteIcon"],!1),a,"h").write('"').exists(a.get(["useSmallIcon"],!1),a,{block:f},{}).write("\x3e\x3c/use\x3e\x3c/svg\x3e").exists(a.get(["hideText"],
!1),a,{"else":g,block:h},{}).write("\x3c/div\x3e\x3c/button\x3e")}function d(b,a){return b.block(a.getBlock("deleteText"),a,{block:k},{})}function k(b,a){return b.helper("i18n",a,{},{key:"i18n_delete_text",templateName:"templates/shared/partials/actions/_delete-action"})}function e(b,a){return b.write(" dropdown-item")}function f(b,a){return b.write(' data-size\x3d"small"')}function g(b,a){return b.write('\x3cspan class\x3d"action-text"\x3e').reference(a.get(["deleteActionText"],!1),a,"h",["et","s"]).write("\x3c/span\x3e")}
function h(b,a){return b.write('\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["deleteActionText"],!1),a,"h",["et","s"]).write("\x3c/span\x3e")}dust.register("templates/shared/partials/actions/_delete-action",c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/actions/_delete-action"]={i18n_delete_text:"Delete"}})();
(function(){function c(b,a){return b.helper("addToContext",a,{block:d},{name:"leaveActionText"}).write('\x3cbutton class\x3d"action leave-action').exists(a.get(["inDropdown"],!1),a,{block:e},{}).write('"\x3e\x3cdiv class\x3d"label"\x3e\x3csvg class\x3d"').reference(a.get(["leaveIcon"],!1),a,"h").write(' icon"\x3e\x3cuse xlink:href\x3d"#').reference(a.get(["leaveIcon"],!1),a,"h").write('"').exists(a.get(["useSmallIcon"],!1),a,{block:f},{}).write("\x3e\x3c/use\x3e\x3c/svg\x3e").exists(a.get(["hideText"],
!1),a,{"else":g,block:h},{}).write("\x3c/div\x3e\x3c/button\x3e")}function d(b,a){return b.block(a.getBlock("leaveText"),a,{block:k},{})}function k(b,a){return b.helper("i18n",a,{},{key:"i18n_leave_text",templateName:"templates/shared/partials/actions/_leave-action"})}function e(b,a){return b.write(" dropdown-item")}function f(b,a){return b.write(' data-size\x3d"small"')}function g(b,a){return b.write('\x3cspan class\x3d"action-text"\x3e').reference(a.get(["leaveActionText"],!1),a,"h",["et","s"]).write("\x3c/span\x3e")}
function h(b,a){return b.write('\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["leaveActionText"],!1),a,"h",["et","s"]).write("\x3c/span\x3e")}dust.register("templates/shared/partials/actions/_leave-action",c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/actions/_leave-action"]={i18n_leave_text:"Leave conversation"}})();
(function(){function c(b,a){return b.write('\x3cbutton class\x3d"action report-as-spam-action').exists(a.get(["inDropdown"],!1),a,{block:d},{}).exists(a.get(["isPrimaryAction"],!1),a,{block:e},{}).write('"\x3e\x3cdiv class\x3d"label"\x3e\x3csvg class\x3d"spam-icon icon"\x3e\x3cuse xlink:href\x3d"#block-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"action-text"\x3e').helper("i18n",a,{},{key:"i18n_report_as_spam",templateName:"templates/shared/partials/actions/_report-as-spam-action"}).write("\x3c/span\x3e\x3c/div\x3e\x3c/button\x3e")}
function d(b,a){return b.write(" dropdown-item")}function e(b,a){return b.write(" primary-action")}dust.register("templates/shared/partials/actions/_report-as-spam-action",c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/actions/_report-as-spam-action"]={i18n_report_as_spam:"Report as Spam"}})();
(function(){function c(b,a){return b.write('\x3cbutton class\x3d"action cancel-action').exists(a.get(["inDropdown"],!1),a,{block:d},{}).write('"\x3e').helper("i18n",a,{},{key:"i18n_cancel",templateName:"templates/shared/partials/actions/_cancel-action"}).write("\x3c/button\x3e")}function d(b,a){return b.write(" dropdown-item")}dust.register("templates/shared/partials/actions/_cancel-action",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/actions/_cancel-action"]={i18n_cancel:"Cancel"}})();
(function(){function a(a,b){return a.write('\x3cdiv class\x3d"quick-jump"\x3e').partial("templates/shared/partials/jump-links/_active-conversation-details",b,{}).write("\x3c/div\x3e")}dust.register("templates/shared/partials/jump-links/_quick-jump",a);return a})();
(function(){function b(b,a){return b.write('\x3cbutton class\x3d"jump-link ').reference(a.get(["jumpLinkType"],!1),a,"h").write('" data-jump-link-location\x3d"').reference(a.get(["jumpLinkType"],!1),a,"h").write('"\x3e').block(a.getBlock("jumpLinkText"),a,{},{}).write("\x3c/button\x3e")}dust.register("templates/shared/partials/jump-links/_base-jump-link",b);return b})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.partial("templates/shared/partials/jump-links/_base-jump-link",a,{jumpLinkType:"list-of-conversations"})}dust.register("templates/shared/partials/jump-links/_list-of-conversations",c);var d={jumpLinkText:function(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_jump_to_list_of_conversations",templateName:"templates/shared/partials/jump-links/_list-of-conversations"})}};return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/jump-links/_list-of-conversations"]={i18n_jump_to_list_of_conversations:"Jump to list of conversations"}})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.partial("templates/shared/partials/jump-links/_base-jump-link",a,{jumpLinkType:"active-conversation-details"})}dust.register("templates/shared/partials/jump-links/_active-conversation-details",c);var d={jumpLinkText:function(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_jump_to_active_conversation_details",templateName:"templates/shared/partials/jump-links/_active-conversation-details"})}};return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/jump-links/_active-conversation-details"]={i18n_jump_to_active_conversation_details:"Jump to active conversation details"}})();
(function(){function c(b,a){return b.write('\x3cdiv class\x3d"inner" role\x3d"document"\x3e').exists(a.get(["showDismissBtn"],!1),a,{block:d},{}).notexists(a.get(["isMini"],!1),a,{block:e},{}).block(a.getBlock("modalBody"),a,{},{}).write("\x3cfooter\x3e").exists(a.get(["showSkipBtn"],!1),a,{block:f},{}).write('\x3cdiv class\x3d"primary-actions"\x3e').exists(a.get(["showNoBtn"],!1),a,{block:g},{}).exists(a.get(["showYesBtn"],!1),a,{block:h},{}).write("\x3c/div\x3e\x3c/footer\x3e\x3c/div\x3e")}function d(b,
a){return b.write('\x3cbutton class\x3d"dismiss" ').block(a.getBlock("dismissAttributes"),a,{},{}).write('\x3e\x3csvg aria-hidden\x3d"true"\x3e\x3cuse xlink:href\x3d"#cancel-icon" data-size\x3d"small"\x3e \x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"a11y-hidden"\x3e').block(a.getBlock("dismissText"),a,{block:k},{}).write("\x3c/span\x3e\x3c/button\x3e")}function k(b,a){return b.helper("i18n",a,{},{key:"i18n_dismiss",templateName:"templates/shared/partials/modals/_base"})}function e(b,a){return b.write('\x3cdiv class\x3d"header"\x3e').block(a.getBlock("modalHeader"),
a,{},{}).write("\x3c/div\x3e")}function f(b,a){return b.write('\x3cbutton class\x3d"skip-btn" ').block(a.getBlock("skipAttributes"),a,{},{}).write("\x3e").block(a.getBlock("skipText"),a,{block:l},{}).write("\x3c/button\x3e")}function l(b,a){return b.helper("i18n",a,{},{key:"i18n_skip",templateName:"templates/shared/partials/modals/_base"})}function g(b,a){return b.write('\x3cbutton class\x3d"no-btn" ').block(a.getBlock("noAttributes"),a,{},{}).write("\x3e").block(a.getBlock("noText"),a,{block:m},
{}).write("\x3c/button\x3e")}function m(b,a){return b.helper("i18n",a,{},{key:"i18n_no",templateName:"templates/shared/partials/modals/_base"})}function h(b,a){return b.write('\x3cbutton class\x3d"yes-btn" ').block(a.getBlock("yesAttributes"),a,{},{}).write("\x3e").block(a.getBlock("yesText"),a,{block:n},{}).write("\x3c/button\x3e")}function n(b,a){return b.helper("i18n",a,{},{key:"i18n_yes",templateName:"templates/shared/partials/modals/_base"})}dust.register("templates/shared/partials/modals/_base",
c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/shared/partials/modals/_base"]={i18n_dismiss:"Dismiss",i18n_skip:"Skip",i18n_no:"No",i18n_yes:"Yes"}})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.partial("templates/shared/partials/modals/_base",a,{isMini:"true",showNoBtn:"true",showYesBtn:"true"})}dust.register("templates/shared/partials/modals/_confirmation",c);var d={modalBody:function(b,a){a=a.shiftBlocks(d);return b.write('\x3ch4 id\x3d"').reference(a.get(["labelledBy"],!1),a,"h").write('" class\x3d"confirm-header"\x3e').block(a.getBlock("confirmHeader"),a,{},{}).write('\x3c/h4\x3e\x3cp class\x3d"confirm-description"\x3e').block(a.getBlock("confirmDescription"),
a,{},{}).write("\x3c/p\x3e")}};return c})();
(function(){function a(a,b){return a.write('\x3ciframe class\x3d"text-ad"scrolling\x3d"no"frameborder\x3d"0"allowtransparency\x3d"true"border\x3d"0"src\x3d"').reference(b.get(["adUrl"],!1),b,"h").write('"\x3e\x3c/iframe\x3e')}dust.register("templates/components/ads/top-text-ad",a);return a})();
(function(){function c(b,a){return b.exists(a.get(["sponsoredInMailAd"],!1),a,{"else":d,block:e},{})}function d(b,a){return b.write('\x3cul class\x3d"ad-list"\x3e').section(a.get(["normalAds"],!1),a,{block:f},{}).write("\x3c/ul\x3e")}function f(b,a){return b.write('\x3cli class\x3d"ad"\x3e\x3ciframe width\x3d"300"height\x3d"250"frameborder\x3d"0"src\x3d"').reference(a.get(["actionUrl"],!1),a,"h").write('"border\x3d"0"allowtransparency\x3d"true"scrolling\x3d"no"\x3e\x3c/iframe\x3e\x3c/li\x3e')}function e(b,
a){return b.helper("i18n",a,{},{key:"i18n_sponsored_ad",output:"json",templateName:"templates/components/ads/display-ad"}).exists(a.getPath(!1,["sponsoredInMailAd","actionUrl"]),a,{"else":g,block:h},{})}function g(b,a){return b.write('\x3cimg class\x3d"sponsored-inmail-ad" alt\x3d"').reference(a.get(["i18n_sponsored_ad"],!1),a,"h").write('" ').exists(a.get(["lazyLoadImages"],!1),a,{"else":k,block:l},{}).write('\x3d"').reference(a.getPath(!1,["sponsoredInMailAd","imageUrl"]),a,"h").write('" /\x3e')}
function k(b,a){return b.write("src")}function l(b,a){return b.write("data-delayed-url")}function h(b,a){return b.write('\x3ca target\x3d"_blank" href\x3d"').reference(a.getPath(!1,["sponsoredInMailAd","actionUrl"]),a,"h").write('"\x3e\x3cimg class\x3d"sponsored-inmail-ad" alt\x3d"').reference(a.get(["i18n_sponsored_ad"],!1),a,"h").write('" ').exists(a.get(["lazyLoadImages"],!1),a,{"else":m,block:n},{}).write('\x3d"').reference(a.getPath(!1,["sponsoredInMailAd","imageUrl"]),a,"h").write('" /\x3e\x3c/a\x3e')}
function m(b,a){return b.write("src")}function n(b,a){return b.write("data-delayed-url")}dust.register("templates/components/ads/display-ad",c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/components/ads/display-ad"]={i18n_sponsored_ad:"Sponsored Ad"}})();
(function(){function c(b,a){return b.write('\x3cdiv id\x3d"').exists(a.get(["sourceID"],!1),a,{block:d},{}).write("item-").reference(a.get(["id"],!1),a,"h").write('"class\x3d"item-container"aria-selected\x3d"false"role\x3d"option"aria-label\x3d"').reference(a.get(["displayName"],!1),a,"h",["et","s"]).write('"\x3e').exists(a.get(["imageUrl"],!1),a,{"else":e,block:f},{}).write('\x3cspan class\x3d"item-info"\x3e\x3cp class\x3d"name"\x3e').reference(a.get(["displayName"],!1),a,"h",["et","s"]).write("\x3c/p\x3e").exists(a.get(["subLine"],
!1),a,{block:g},{}).write("\x3c/span\x3e\x3c/div\x3e")}function d(b,a){return b.reference(a.get(["sourceID"],!1),a,"h").write("-")}function e(b,a){return b.write('\x3cdiv class\x3d"profile-pic"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["displayName"],!1),a,"h",["et","s"]).write('\x3c/span\x3e\x3cspan class\x3d"person-icon medium"\x3e\x3c/span\x3e\x3c/div\x3e')}function f(b,a){return b.write('\x3cimg class\x3d"profile-pic" height\x3d"100" width\x3d"100" src\x3d"').reference(a.get(["imageUrl"],
!1),a,"h").write('" alt\x3d"').reference(a.get(["displayName"],!1),a,"h",["et","s"]).write('"/\x3e')}function g(b,a){return b.write('\x3cp class\x3d"headline"\x3e').reference(a.get(["subLine"],!1),a,"h",["et","s"]).write("\x3c/p\x3e")}dust.register("templates/components/typeahead/typeahead-result",c);return c})();
(function(){function a(a,b){return a.write('\x3cul class\x3d"pillbox-list" id\x3d"pillbox-list"\x3e\x3c/ul\x3e')}dust.register("templates/components/pillbox/list",a);return a})();
(function(){function a(a,b){return a.write('\x3cinput type\x3d"text"class\x3d"pillbox-input mousetrap"tabindex\x3d"0"id\x3d"pillbox-input"placeholder\x3d"').helper("i18n",b,{},{key:"i18n_type_a_name",templateName:"templates/components/pillbox/input"}).write('"name\x3d"to"/\x3e')}dust.register("templates/components/pillbox/input",a);return a})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/components/pillbox/input"]={i18n_type_a_name:"Type a name"}})();
(function(){function a(a,b){return a.write('\x3clabel id\x3d"ta-label" for\x3d"pillbox-input" class\x3d"screen-reader-text"\x3e').helper("i18n",b,{},{key:"i18n_type_a_name",templateName:"templates/components/pillbox/label"}).write("\x3c/label\x3e")}dust.register("templates/components/pillbox/label",a);return a})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/components/pillbox/label"]={i18n_type_a_name:"Type a name"}})();
(function(){function b(b,a){return b.helper("format",a,{},{type:"name.full",key:"fullName",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1),output:"json"}).helper("i18n",a,{},{key:"i18n_name_backspace_to_delete",filters:"et|s",output:"json",templateName:"templates/components/pillbox/pill"}).write('\x3cli aria-label\x3d"').helper("i18n",a,{},{key:"i18n_name_backspace_to_delete",templateName:"templates/components/pillbox/pill"}).write('"tabindex\x3d"0"class\x3d"pill"data-member-id\x3d"').reference(a.get(["memberId"],
!1),a,"h").write('"\x3e\x3cspan class\x3d"pill-name"\x3e').reference(a.get(["fullName"],!1),a,"h",["et","s"]).write("\x3c/span\x3e\x3c/li\x3e")}dust.register("templates/components/pillbox/pill",b);return b})();(function(){function b(b,a){return b.reference(a.get(["fullName"],!1),a,"h").write(". Press backspace to delete recipient")}dust.register("__i18n__templates/components/pillbox/pill__i18n_name_backspace_to_delete",b);return b})();
(function(){function b(b,a){return b.helper("i18n",a,{},{key:"i18n_could_not_init_user_lookup",output:"json",templateName:"templates/components/pillbox/container"}).helper("i18n",a,{},{key:"i18n_typeahead_zero_results",output:"json",templateName:"templates/components/pillbox/container"}).helper("i18n",a,{},{key:"i18n_typeahead_single_result",output:"json",templateName:"templates/components/pillbox/container"}).helper("i18n",a,{},{key:"i18n_typeahead_multiple_results",output:"json",templateName:"templates/components/pillbox/container"}).write('\x3ch4 class\x3d"screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_add_people_to_conversation",templateName:"templates/components/pillbox/container"}).write('\x3c/h4\x3e\x3cdiv class\x3d"pillbox-list-container"\x3e\x3c/div\x3e').partial("templates/shared/partials/_error-container",a,{})}dust.register("templates/components/pillbox/container",b);return b})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/components/pillbox/container"]={i18n_could_not_init_user_lookup:"We could not setup user lookup. Please go back and try again.",i18n_typeahead_zero_results:"No suggestions found.",i18n_typeahead_single_result:"One suggestion. Use up and down keys to navigate.",i18n_typeahead_multiple_results:"Multiple suggestions. Use up and down keys to navigate.",i18n_add_people_to_conversation:"Add people to the conversation"}})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/shared/partials/modals/_confirmation",a,{})}dust.register("templates/components/modals/mute-confirmation",d);var c={confirmHeader:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_confirm_mute_conversation",templateName:"templates/components/modals/mute-confirmation"})},confirmDescription:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_no_longer_receive_notifications",templateName:"templates/components/modals/mute-confirmation"})},
yesText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_ok",templateName:"templates/components/modals/mute-confirmation"})},noText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_cancel",templateName:"templates/components/modals/mute-confirmation"})}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/components/modals/mute-confirmation"]={i18n_confirm_mute_conversation:"Mute conversation",i18n_no_longer_receive_notifications:"You'll no longer receive notifications for this conversation.",i18n_ok:"Ok",i18n_cancel:"Cancel"}})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/shared/partials/modals/_confirmation",a,{})}dust.register("templates/components/modals/delete-confirmation",d);var c={confirmHeader:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_confirm_delete_conversation",templateName:"templates/components/modals/delete-confirmation"})},confirmDescription:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_are_you_sure_delete_conversation",templateName:"templates/components/modals/delete-confirmation"})},
yesText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_yes",templateName:"templates/components/modals/delete-confirmation"})},noText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_cancel",templateName:"templates/components/modals/delete-confirmation"})}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/components/modals/delete-confirmation"]={i18n_confirm_delete_conversation:"Delete conversation",i18n_are_you_sure_delete_conversation:"Delete your entire conversation history?",i18n_yes:"Delete",i18n_cancel:"Cancel"}})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/shared/partials/modals/_confirmation",a,{})}dust.register("templates/components/modals/leave-confirmation",d);var c={confirmHeader:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_confirm_leave_conversation",templateName:"templates/components/modals/leave-confirmation"})},confirmDescription:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_are_you_sure_delete_conversation",templateName:"templates/components/modals/leave-confirmation"})},
yesText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_yes",templateName:"templates/components/modals/leave-confirmation"})},noText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_cancel",templateName:"templates/components/modals/leave-confirmation"})}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/components/modals/leave-confirmation"]={i18n_confirm_leave_conversation:"Are you sure you want to leave this conversation?",i18n_are_you_sure_delete_conversation:"You will no longer be able to send or receive messages from this conversation.",i18n_yes:"Leave",i18n_cancel:"Cancel"}})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/shared/partials/modals/_confirmation",a,{})}dust.register("templates/components/modals/spam-confirmation",d);var c={confirmHeader:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_confirm_spam_conversation",templateName:"templates/components/modals/spam-confirmation"})},confirmDescription:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_are_you_sure_report_as_spam",templateName:"templates/components/modals/spam-confirmation"})},
yesText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_yes",templateName:"templates/components/modals/spam-confirmation"})},noText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_cancel",templateName:"templates/components/modals/spam-confirmation"})}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/components/modals/spam-confirmation"]={i18n_confirm_spam_conversation:"Report as spam",i18n_are_you_sure_report_as_spam:"Are you sure you want to report this conversation as spam?",i18n_yes:"Yes",i18n_cancel:"Cancel"}})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.partial("templates/shared/partials/modals/_base",a,{showDismissBtn:"true",isMini:"false",showFooter:"false"})}dust.register("templates/components/modals/keyboard-shortcuts-list",c);var d={modalBody:function(b,a){a=a.shiftBlocks(d);return b.write('\x3cdiv id\x3d"keyboard-shortcuts" class\x3d"header"\x3e').helper("i18n",a,{},{key:"i18n_shortcuts_title",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/div\x3e\x3cdiv class\x3d"description"\x3e\x3cdiv class\x3d"content-column"\x3e\x3cdiv class\x3d"section-title"\x3e').helper("i18n",
a,{},{key:"i18n_shortcuts_conversation_list_title",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/div\x3e\x3cdl class\x3d"shortcut-section"\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",a,{},{key:"i18n_shortcuts_previous_conversation",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3eup\x3c/span\x3e\x3c/dd\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",
a,{},{key:"i18n_shortcuts_next_conversation",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3edown\x3c/span\x3e\x3c/dd\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",a,{},{key:"i18n_shortcuts_focus_list",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ectrl\x3c/span\x3e + \x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3ee\x3c/span\x3e\x3c/dd\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",
a,{},{key:"i18n_shortcuts_focus_conversation",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ectrl\x3c/span\x3e + \x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3eg\x3c/span\x3e\x3c/dd\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",a,{},{key:"i18n_shortcuts_focus_details",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ectrl\x3c/span\x3e + \x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3ed\x3c/span\x3e\x3c/dd\x3e\x3c/dl\x3e\x3cdiv class\x3d"section-title"\x3e').helper("i18n",
a,{},{key:"i18n_shortcuts_conversation_title",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/div\x3e\x3cdl class\x3d"shortcut-section"\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",a,{},{key:"i18n_shortcuts_delete_conversation",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3edelete\x3c/span\x3e\x3c/dd\x3e\x3cdt class\x3d"shortcut"\x3e\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3ebackspace\x3c/span\x3e\x3c/dd\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",
a,{},{key:"i18n_shortcuts_mark_read",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ectrl\x3c/span\x3e + \x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3er\x3c/span\x3e\x3c/dd\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",a,{},{key:"i18n_shortcuts_toggle_mute",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ectrl\x3c/span\x3e + \x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3em\x3c/span\x3e\x3c/dd\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",
a,{},{key:"i18n_shortcuts_forward_conversation",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ectrl\x3c/span\x3e + \x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3ef\x3c/span\x3e\x3c/dd\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",a,{},{key:"i18n_shortcuts_add_participants",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ectrl\x3c/span\x3e + \x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3ea\x3c/span\x3e\x3c/dd\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",
a,{},{key:"i18n_shortcuts_mark_spam",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ectrl\x3c/span\x3e + \x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3ey\x3c/span\x3e\x3c/dd\x3e\x3c/dl\x3e\x3c/div\x3e\x3cdiv class\x3d"content-column"\x3e\x3cdiv class\x3d"section-title"\x3e').helper("i18n",a,{},{key:"i18n_shortcuts_global_title",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/div\x3e\x3cdl class\x3d"shortcut-section"\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",
a,{},{key:"i18n_shortcuts_compose",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3ectrl\x3c/span\x3e + \x3cspan class\x3d"key"\x3ealt\x3c/span\x3e + \x3cspan class\x3d"key"\x3ec\x3c/span\x3e\x3c/dd\x3e\x3cdt class\x3d"shortcut"\x3e').helper("i18n",a,{},{key:"i18n_shortcuts_display",templateName:"templates/components/modals/keyboard-shortcuts-list"}).write('\x3c/dt\x3e\x3cdd class\x3d"keys"\x3e\x3cspan class\x3d"key"\x3e?\x3c/span\x3e\x3c/dd\x3e\x3c/dl\x3e\x3c/div\x3e\x3c/div\x3e')}};
return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/components/modals/keyboard-shortcuts-list"]={i18n_shortcuts_title:"Keyboard Shortcuts",i18n_shortcuts_conversation_list_title:"Conversation List Shortcuts",i18n_shortcuts_previous_conversation:"Previous conversation",i18n_shortcuts_next_conversation:"Next conversation",i18n_shortcuts_focus_list:"Focus conversation list",i18n_shortcuts_focus_conversation:"Focus active conversation",i18n_shortcuts_focus_details:"Focus active conversation details",i18n_shortcuts_conversation_title:"Conversation Detail Shortcuts",
i18n_shortcuts_delete_conversation:"Delete conversation",i18n_shortcuts_mark_read:"Toggle conversation read",i18n_shortcuts_toggle_mute:"Toggle conversation mute",i18n_shortcuts_forward_conversation:"Forward conversation",i18n_shortcuts_add_participants:"Add participants",i18n_shortcuts_mark_spam:"Mark conversation as spam",i18n_shortcuts_global_title:"Global Shortcuts",i18n_shortcuts_compose:"Compose a message",i18n_shortcuts_display:"Display shortcuts"}})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},{type:"name.full",key:"senderFullName",output:"json",firstName:a.getPath(!1,["sender","attributes","firstName"]),lastName:a.getPath(!1,["sender","attributes","lastName"])}).helper("i18n",a,{},{key:"i18n_unsubscribe_successful",output:"json",templateName:"templates/components/modals/unsubscribe-confirmation"}).helper("i18n",a,{},{key:"i18n_unsubscribe_failed",output:"json",templateName:"templates/components/modals/unsubscribe-confirmation"}).partial("templates/shared/partials/modals/_confirmation",
a,{}).helper("i18n",a,{},{key:"i18n_are_you_sure_block_user",output:"json",templateName:"templates/components/modals/unsubscribe-confirmation"}).helper("i18n",a,{},{key:"i18n_block_user",output:"json",templateName:"templates/components/modals/unsubscribe-confirmation"})}dust.register("templates/components/modals/unsubscribe-confirmation",d);var c={confirmHeader:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_opt_out",templateName:"templates/components/modals/unsubscribe-confirmation"})},
confirmDescription:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"block_user_copy",templateName:"templates/components/modals/unsubscribe-confirmation"}).write('\x3ca href\x3d"https://www.linkedin.com/help/linkedin/answer/71495?trk\x3dlss_unsub" target\x3d"_blank"\x3e').helper("i18n",a,{},{key:"i18n_learn_more",templateName:"templates/components/modals/unsubscribe-confirmation"}).write("\x3c/a\x3e")},yesText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_confirm",
templateName:"templates/components/modals/unsubscribe-confirmation"})},noText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_cancel",templateName:"templates/components/modals/unsubscribe-confirmation"})}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/components/modals/unsubscribe-confirmation"]={i18n_unsubscribe_successful:"You have blocked all messages from this user.",i18n_unsubscribe_failed:"Block request failed, please try again later.",i18n_opt_out:"Opt-out",block_user_copy:"If you opt-out, you will no longer receive InMails from this sender's Sales Navigator account. ",i18n_learn_more:"Learn more",i18n_confirm:"Confirm",i18n_cancel:"Cancel",
i18n_are_you_sure_block_user:"Blocking users outside your network prevents them from sending messages to you on LinkedIn."}})();(function(){function d(c,b){return c.write("Block ").reference(b.get(["senderFullName"],!1),b,"h")}dust.register("__i18n__templates/components/modals/unsubscribe-confirmation__i18n_block_user",d);return d})();
(function(){function a(a,b){return a.write('\x3ch3 class\x3d"content-title"\x3e').helper("i18n",b,{},{key:"i18n_content_title",templateName:"templates/components/callouts/enter-to-send"}).write('\x3c/h3\x3e\x3cdiv id\x3d"enter-to-reply-callout-content"\x3e\x3cbutton class\x3d"reply-actions actions-ok"\x3e').helper("i18n",b,{},{key:"i18n_actions_okay",templateName:"templates/components/callouts/enter-to-send"}).write('\x3c/button\x3e\x3cbutton class\x3d"reply-actions actions-off"\x3e').helper("i18n",
b,{},{key:"i18n_actions_off",templateName:"templates/components/callouts/enter-to-send"}).write("\x3c/button\x3e\x3c/div\x3e")}dust.register("templates/components/callouts/enter-to-send",a);return a})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/components/callouts/enter-to-send"]={i18n_content_title:'The "Enter" key sends your message',i18n_actions_okay:"Send message",i18n_actions_off:"Turn it off"}})();
(function(){function c(b,a){return b.helper("i18n",a,{},{key:"i18n_filters_all_messages",output:"json",templateName:"templates/controls/controls"}).helper("i18n",a,{},{key:"i18n_filters_my_connections",output:"json",templateName:"templates/controls/controls"}).helper("i18n",a,{},{key:"i18n_filters_unread",output:"json",templateName:"templates/controls/controls"}).helper("i18n",a,{},{key:"i18n_filters_inmail",output:"json",templateName:"templates/controls/controls"}).helper("i18n",a,{},{key:"i18n_filters_blocked",
output:"json",templateName:"templates/controls/controls"}).helper("i18n",a,{},{key:"i18n_compose_new_message",output:"json",templateName:"templates/controls/controls"}).helper("i18n",a,{},{key:"i18n_visit_messaging_home",output:"json",templateName:"templates/controls/controls"}).helper("i18n",a,{},{key:"i18n_disabled_visit_messaging_home",output:"json",templateName:"templates/controls/controls"}).helper("i18n",a,{},{key:"i18n_disabled_compose_new_message",output:"json",templateName:"templates/controls/controls"}).helper("i18n",
a,{},{key:"i18n_search_for_messages",output:"json",templateName:"templates/controls/controls"}).write('\x3cdiv class\x3d"action-header"\x3e\x3cdiv class\x3d"filters dropdown"\x3e\x3cbutton class\x3d"dropdown-trigger"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_filters_menu_identifier",templateName:"templates/controls/controls"}).write('\x3c/span\x3e\x3cspan class\x3d"dropdown-label filters-label"\x3e').reference(a.get(["i18n_filters_all_messages"],!1),a,"h").write('\x3c/span\x3e\x3csvg class\x3d"chevron-down-icon"\x3e\x3cuse xlink:href\x3d"#chevron-down-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e\x3c/button\x3e\x3cdiv class\x3d"sub-actions dropdown-menu"\x3e\x3cul class\x3d"dropdown-list" role\x3d"listbox"\x3e\x3cli class\x3d"filter"\x3e\x3cbutton class\x3d"dropdown-item" data-filter\x3d"" role\x3d"option"\x3e').reference(a.get(["i18n_filters_all_messages"],
!1),a,"h").write('\x3c/button\x3e\x3c/li\x3e\x3cli class\x3d"filter"\x3e\x3cbutton class\x3d"dropdown-item" data-filter\x3d"connections"\x3e').reference(a.get(["i18n_filters_my_connections"],!1),a,"h").write('\x3c/button\x3e\x3c/li\x3e\x3cli class\x3d"filter"\x3e\x3cbutton class\x3d"dropdown-item" data-filter\x3d"unread"\x3e').reference(a.get(["i18n_filters_unread"],!1),a,"h").write('\x3c/button\x3e\x3c/li\x3e\x3cli class\x3d"filter"\x3e\x3cbutton class\x3d"dropdown-item" data-filter\x3d"inmail"\x3e').reference(a.get(["i18n_filters_inmail"],
!1),a,"h").write('\x3c/button\x3e\x3c/li\x3e\x3cli class\x3d"filter"\x3e\x3cbutton class\x3d"dropdown-item" data-filter\x3d"blocked"\x3e').reference(a.get(["i18n_filters_blocked"],!1),a,"h").write("\x3c/button\x3e\x3c/li\x3e").exists(a.get(["recruiterInboxUnreadCount"],!1),a,{block:d},{}).exists(a.get(["salesInboxUnreadCount"],!1),a,{block:e},{}).write('\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"messaging-actions-container"\x3e').exists(a.get(["showHomeButton"],!1),a,{block:f},{}).write('\x3cbutton id\x3d"compose-button" data-pv-key\x3d"wonton-compose-button" title\x3d"').helper("i18n",
a,{},{key:"i18n_compose_new_message",templateName:"templates/controls/controls"}).write('"\x3e\x3csvg class\x3d"icon"\x3e\x3cuse xlink:href\x3d"#compose-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_compose_new_message",templateName:"templates/controls/controls"}).write('\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"inbox-search"\x3e\x3c/div\x3e')}function d(b,a){return b.write('\x3cli class\x3d"dropdown-section"\x3e\x3ca class\x3d"dropdown-link" href\x3d"').reference(a.get(["recruiterInboxUrl"],
!1),a,"h").write('" target\x3d"_blank"\x3e').helper("i18n",a,{},{key:"i18n_recruiter_messages",templateName:"templates/controls/controls"}).helper("ne",a,{block:g},{key:a.get(["recruiterInboxUnreadCount"],!1),value:0}).write("\x3c/a\x3e\x3c/li\x3e")}function g(b,a){return b.write('\x3cspan class\x3d"unread-count"\x3e').reference(a.get(["recruiterInboxUnreadCount"],!1),a,"h").write("\x3c/span\x3e")}function e(b,a){return b.write('\x3cli class\x3d"dropdown-section"\x3e\x3ca class\x3d"dropdown-link" href\x3d"').reference(a.get(["salesInboxUrl"],
!1),a,"h").write('" target\x3d"_blank"\x3e').helper("i18n",a,{},{key:"i18n_sales_navigator_messages",templateName:"templates/controls/controls"}).helper("ne",a,{block:h},{key:a.get(["salesInboxUnreadCount"],!1),value:0}).write("\x3c/a\x3e\x3c/li\x3e")}function h(b,a){return b.write('\x3cspan class\x3d"unread-count"\x3e').reference(a.get(["salesInboxUnreadCount"],!1),a,"h").write("\x3c/span\x3e")}function f(b,a){return b.write('\x3cbutton id\x3d"home-button" data-pv-key\x3d"wonton-home-button" title\x3d"').helper("i18n",
a,{},{key:"i18n_visit_messaging_home",templateName:"templates/controls/controls"}).write('"\x3e\x3csvg class\x3d"icon"\x3e\x3cuse xlink:href\x3d"#lightbulb-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_visit_messaging_home",templateName:"templates/controls/controls"}).write("\x3c/span\x3e\x3c/button\x3e")}dust.register("templates/controls/controls",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/controls/controls"]={i18n_filters_all_messages:"All Messages",i18n_filters_my_connections:"My connections",i18n_filters_unread:"Unread",i18n_filters_inmail:"InMail",i18n_filters_blocked:"Blocked",i18n_compose_new_message:"Compose a new message",i18n_visit_messaging_home:"Visit Messaging Home",i18n_disabled_visit_messaging_home:"You're already visiting Messaging Home",i18n_disabled_compose_new_message:"Please finish your message before starting a new one",
i18n_search_for_messages:"Search messages",i18n_filters_menu_identifier:"Filter conversations",i18n_recruiter_messages:"Go to Recruiter ",i18n_sales_navigator_messages:"Go to Sales Navigator "}})();
(function(){function a(a,b){return a.write('\x3cp class\x3d"no-items"\x3e').helper("i18n",b,{},{key:"i18n_no_messages",templateName:"templates/thread-list/no-thread-items"}).write("\x3c/p\x3e")}dust.register("templates/thread-list/no-thread-items",a);return a})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-list/no-thread-items"]={i18n_no_messages:"No Messages"}})();
(function(){function c(b,a){return b.helper("i18n",a,{},{key:"i18n_search_name_placeholder",output:"json",templateName:"templates/thread-list/search"}).helper("i18n",a,{},{key:"i18n_search_all_placeholder",output:"json",templateName:"templates/thread-list/search"}).helper("addToContext",a,{block:d},{name:"searchLabel"}).write('\x3clabel for\x3d"messages-search" class\x3d"screen-reader-text"\x3e').reference(a.get(["searchLabel"],!1),a,"h").write('\x3c/label\x3e\x3cdiv class\x3d"search-icon-wrapper"\x3e\x3csvg class\x3d"search-icon"\x3e\x3cuse xlink:href\x3d"#search-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3c/div\x3e\x3cdiv class\x3d"search-input-wrapper"\x3e\x3cinput type\x3d"text" id\x3d"messages-search" placeholder\x3d"').reference(a.get(["searchLabel"],
!1),a,"h").write('"\x3e\x3cbutton class\x3d"clear-input"\x3e\x3csvg class\x3d"clear-icon"\x3e\x3cuse xlink:href\x3d"#error-pebble-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_clear_search_query",templateName:"templates/thread-list/search"}).write("\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e").partial("templates/shared/partials/_error-container",a,{})}function d(b,a){return b.helper("eq",a,{"else":e,block:f},{key:a.get(["searchType"],
!1),value:"ALL"})}function e(b,a){return b.helper("i18n",a,{},{key:"i18n_search_name_placeholder",templateName:"templates/thread-list/search"})}function f(b,a){return b.helper("i18n",a,{},{key:"i18n_search_all_placeholder",templateName:"templates/thread-list/search"})}dust.register("templates/thread-list/search",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-list/search"]={i18n_search_name_placeholder:"Search for groups or people",i18n_search_all_placeholder:"Search",i18n_clear_search_query:"Clear search query"}})();
(function(){function b(c,a){a=a.shiftBlocks(d);return c.partial("templates/shared/partials/jump-links/_quick-jump",a,{}).write('\x3cdiv class\x3d"result-info hidden"\x3e').helper("i18n",a,{},{key:"i18n_num_of_results",filters:"mk|s",templateName:"templates/thread-list/list"}).write('\x3c/div\x3e\x3ch3 class\x3d"thread-list-header screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_list_of_conversations",templateName:"templates/thread-list/list"}).write('\x3c/h3\x3e\x3cul id\x3d"thread-list"\x3e\x3c/ul\x3e').partial("templates/shared/partials/_error-container",
a,{}).partial("templates/shared/partials/_loader",a,{})}dust.register("templates/thread-list/list",b);var d={loaderText:function(c,a){a=a.shiftBlocks(d);return c.helper("i18n",a,{},{key:"i18n_searching_conversations",filter:"et|s",templateName:"templates/thread-list/list"})}};return b})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-list/list"]={i18n_list_of_conversations:"List of conversations",i18n_searching_conversations:"Searching for conversations\x26hellip;"}})();
(function(){function b(b,c){return b.write('\x3cspan class\x3d"result-count"\x3e').reference(c.get(["totalResultsCount"],!1),c,"h").write("\x3c/span\x3e results")}dust.register("__i18n__templates/thread-list/list__i18n_num_of_results",b);return b})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_inmail_text",output:"json",templateName:"templates/thread-list/thread-types/base"}).helper("i18n",a,{},{key:"i18n_undelete_action_text",output:"json",templateName:"templates/thread-list/thread-types/base"}).helper("i18n",a,{},{key:"i18n_delete_permanently_action_text",output:"json",templateName:"templates/thread-list/thread-types/base"}).helper("i18n",a,{},{key:"i18n_archive_action_text",output:"json",templateName:"templates/thread-list/thread-types/base"}).helper("i18n",
a,{},{key:"i18n_select_message",output:"json",templateName:"templates/thread-list/thread-types/base"}).helper("i18n",a,{},{key:"i18n_aria_label_message_titled",output:"json",templateName:"templates/thread-list/thread-types/base"}).helper("i18n",a,{},{key:"i18n_aria_label_unstar_message",output:"json",templateName:"templates/thread-list/thread-types/base"}).helper("i18n",a,{},{key:"i18n_aria_label_star_message",output:"json",templateName:"templates/thread-list/thread-types/base"}).helper("i18n",a,
{},{key:"i18n_conversation_with",output:"json",templateName:"templates/thread-list/thread-types/base"}).helper("i18n",a,{},{key:"i18n_star",output:"json",templateName:"templates/thread-list/thread-types/base"}).helper("i18n",a,{},{key:"i18n_unstar",output:"json",templateName:"templates/thread-list/thread-types/base"}).helper("i18n",a,{},{key:"i18n_mark_unread_action_text",output:"json",templateName:"templates/thread-list/thread-types/base"}).helper("i18n",a,{},{key:"i18n_mark_read_action_text",output:"json",
templateName:"templates/thread-list/thread-types/base"}).section(a.get(["message"],!1),a,{block:f},{}).partial("templates/shared/partials/_error-container",a,{showDismiss:"true"})}function f(b,a){a=a.shiftBlocks(c);return b.helper("addToContext",a,{block:e},{name:"groupSize"}).helper("addToContext",a,{block:g},{name:"imgSize"}).helper("addToContext",a,{block:h},{name:"recipientNames"}).helper("addToContext",a,{block:k},{name:"bodyText"}).write('\x3cdiv class\x3d"thread-preview"\x3e\x3ca class\x3d"thread-link" ').block(a.getBlock("threadLink"),
a,{block:l},{}).write(' data-id\x3d"').reference(a.get(["threadId"],!1),a,"h").write('"\x3e').exists(a.get(["isActiveThread"],!1),a,{"else":m,block:n},{}).write('\x3cdiv class\x3d"img-container').exists(a.get(["isGroup"],!1),a,{block:p},{}).write(" ").reference(a.get(["groupSize"],!1),a,"h").write('"\x3e').exists(a.get(["truncatedRecipients"],!1),a,{"else":q,block:r},{}).write('\x3c/div\x3e\x3cdiv class\x3d"last-message"\x3e\x3ctime class\x3d"timestamp"\x3e').partial("templates/shared/partials/_date",
a,{}).write("\x3c/time\x3e").block(a.getBlock("itemLabel"),a,{},{}).write('\x3cdiv class\x3d"header"\x3e').block(a.getBlock("itemHeader"),a,{block:s},{}).write('\x3c/div\x3e\x3cp class\x3d"summary"\x3e').block(a.getBlock("itemSummary"),a,{block:t},{}).write('\x3c/p\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_enter_conversation_action",templateName:"templates/thread-list/thread-types/base"}).write("\x3c/span\x3e\x3c/div\x3e\x3c/a\x3e").partial("templates/shared/partials/actions/_toggle-unread-action",
a,{hideText:"true",unreadIcon:"unread-icon",readIcon:"read-icon"}).exists(a.get(["showDeleteAction"],!1),a,{"else":u,block:v},{}).write("\x3c/div\x3e")}function e(b,a){a=a.shiftBlocks(c);return b.helper("gt",a,{"else":w,block:x},{key:a.get(["peopleLeft"],!1),value:0})}function w(b,a){a=a.shiftBlocks(c);return b.write("group-size-").reference(a.getPath(!1,["recipients","length"]),a,"h")}function x(b,a){a.shiftBlocks(c);return b.write("group-size-4-plus")}function g(b,a){a=a.shiftBlocks(c);return b.helper("select",
a,{block:y},{key:a.getPath(!1,["recipients","length"])})}function y(b,a){a=a.shiftBlocks(c);return b.helper("eq",a,{block:z},{value:2}).helper("gt",a,{block:A},{value:2}).helper("default",a,{block:B},{})}function z(b,a){a.shiftBlocks(c);return b.write("small")}function A(b,a){a.shiftBlocks(c);return b.write("xsmall")}function B(b,a){a.shiftBlocks(c);return b.write("large")}function h(b,a){a=a.shiftBlocks(c);return b.section(a.get(["recipients"],!1),a,{block:C},{})}function C(b,a){a=a.shiftBlocks(c);
return b.helper("select",a,{block:D},{key:a.get(["$len"],!1)}).helper("sep",a,{block:E},{})}function D(b,a){a=a.shiftBlocks(c);return b.helper("gt",a,{block:F},{value:1}).helper("eq",a,{block:G},{value:1})}function F(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},{type:"name.familiar",key:"familiarName",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1),output:"json"}).reference(a.get(["familiarName"],!1),a,"h")}function G(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},
{type:"name.full",key:"fullName",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1),output:"json"}).reference(a.get(["fullName"],!1),a,"h")}function E(b,a){a.shiftBlocks(c);return b.write(", ")}function k(b,a){a=a.shiftBlocks(c);return b.block(a.getBlock("messageBody"),a,{block:H},{})}function H(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["body"],!1),a,"h")}function I(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["senderFullName"],!1),a,"h",["et","s"])}function J(b,a){a=a.shiftBlocks(c);
return b.reference(a.get(["recipientNames"],!1),a,"h",["et","s"])}function K(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["bodyText"],!1),a,"h",["et","s"])}function L(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["senderFullName"],!1),a,"h",["et","s"])}function M(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["recipientNames"],!1),a,"h",["et","s"])}function N(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["bodyText"],!1),a,"h",["et","s"])}function l(b,a){a=a.shiftBlocks(c);return b.write('href\x3d"/messaging/thread/').reference(a.get(["threadId"],
!1),a,"h").write('"')}function m(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isDraftThread"],!1),a,{block:O},{})}function O(b,a){a=a.shiftBlocks(c);return b.write('\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_a11y_draft_thread",templateName:"templates/thread-list/thread-types/base"}).write("\x3c/span\x3e")}function n(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isDraftThread"],!1),a,{"else":P,block:Q},{})}function P(b,a){a=a.shiftBlocks(c);return b.write('\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_a11y_active_thread",templateName:"templates/thread-list/thread-types/base"}).write("\x3c/span\x3e")}function Q(b,a){a=a.shiftBlocks(c);return b.write('\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_a11y_active_draft_thread",templateName:"templates/thread-list/thread-types/base"}).write("\x3c/span\x3e")}function p(b,a){a.shiftBlocks(c);return b.write(" group")}function q(b,a){a=a.shiftBlocks(c);return b.write('\x3cdiv class\x3d"profile-pic"\x3e').helper("format",
a,{},{type:"name.full",key:"fullName",output:"json",firstName:a.getPath(!1,["recipients","0","firstName"]),lastName:a.getPath(!1,["recipients","0","lastName"])}).write('\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["fullName"],!1),a,"h",["et","s"]).write('\x3c/span\x3e\x3cspan class\x3d"person-icon large"\x3e\x3c/span\x3e\x3c/div\x3e')}function r(b,a){a=a.shiftBlocks(c);return b.section(a.get(["truncatedRecipients"],!1),a,{block:R},{}).helper("gt",a,{block:S},{key:a.get(["peopleLeft"],
!1),value:0})}function R(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},{type:"name.full",key:"fullName",output:"json",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1)}).exists(a.get(["imageUrl"],!1),a,{"else":T,block:U},{})}function T(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["pictureId"],!1),a,{"else":V,block:W},{})}function V(b,a){a=a.shiftBlocks(c);return b.write('\x3cdiv class\x3d"profile-pic img-').reference(a.get(["$idx"],!1),a,"h").write('"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["fullName"],
!1),a,"h",["et","s"]).write('\x3c/span\x3e\x3cspan class\x3d"person-icon ').reference(a.get(["imgSize"],!1),a,"h").exists(a.get(["squareImg"],!1),a,{block:X},{}).write('"\x3e\x3c/span\x3e\x3c/div\x3e')}function X(b,a){a.shiftBlocks(c);return b.write(" square")}function W(b,a){a=a.shiftBlocks(c);return b.helper("mprImg",a,{},{lazyLoad:a.get(["lazyLoadImages"],!1),mediaId:a.get(["pictureId"],!1),size:"100",alt:Y,"class":Z})}function Y(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["fullName"],!1),
a,"h",["et","s"])}function Z(b,a){a=a.shiftBlocks(c);return b.write("profile-pic img-").reference(a.get(["$idx"],!1),a,"h")}function U(b,a){a=a.shiftBlocks(c);return b.write("\x3cimg ").exists(a.get(["lazyLoadImages"],!1),a,{"else":$,block:aa},{}).write('\x3d"').reference(a.get(["imageUrl"],!1),a,"h").write('" height\x3d"100" width\x3d"100" alt\x3d"').reference(a.get(["fullName"],!1),a,"h",["et","s"]).write('" class\x3d"profile-pic img-').reference(a.get(["$idx"],!1),a,"h").write('"/\x3e')}function $(b,
a){a.shiftBlocks(c);return b.write("src")}function aa(b,a){a.shiftBlocks(c);return b.write("data-delayed-url")}function S(b,a){a=a.shiftBlocks(c);return b.write('\x3cdiv class\x3d"people-left"\x3e').helper("i18n",a,{},{key:"i18n_plus_number_of_people",doc:"if 6 people are left to show in the group, this will be '+6'",templateName:"templates/thread-list/thread-types/base"}).write("\x3c/div\x3e")}function s(b,a){a=a.shiftBlocks(c);return b.write('\x3csvg class\x3d"mute-icon icon small"\x3e\x3cuse xlink:href\x3d"#mute-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e\x3csvg class\x3d"mention-icon icon small"\x3e\x3cuse xlink:href\x3d"#at-pebble-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e\x3ch4 class\x3d"name" aria-hidden\x3d"true"\x3e').exists(a.get(["threadName"],
!1),a,{"else":ba,block:ca},{}).write("\x3c/h4\x3e")}function ba(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["recipients"],!1),a,{"else":da,block:ea},{})}function da(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_no_recipients",templateName:"templates/thread-list/thread-types/base"})}function ea(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["recipientNames"],!1),a,"h",["et","s"])}function ca(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["threadName"],!1),a,"h")}function t(b,
a){a=a.shiftBlocks(c);return b.exists(a.get(["threadId"],!1),a,{"else":fa,block:ga},{})}function fa(b,a){a=a.shiftBlocks(c);return b.write('\x3cspan class\x3d"new-message"\x3e').helper("i18n",a,{},{key:"i18n_draft_message",templateName:"templates/thread-list/thread-types/base"}).write("\x3c/span\x3e")}function ga(b,a){a=a.shiftBlocks(c);return b.helper("gt",a,{"else":ha,block:ia},{key:a.getPath(!1,["stickers","length"]),value:0})}function ha(b,a){a=a.shiftBlocks(c);return b.helper("gt",a,{"else":ja,
block:ka},{key:a.getPath(!1,["attachments","length"]),value:0})}function ja(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["shareContent"],!1),a,{"else":la,block:ma},{})}function la(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["userHasLeft"],!1),a,{"else":na,block:oa},{})}function na(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isCurrentUser"],!1),a,{"else":pa,block:qa},{})}function pa(b,a){a=a.shiftBlocks(c);return b.helper("gt",a,{"else":ra,block:sa},{key:a.getPath(!1,["recipients","length"]),
value:1})}function ra(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["bodyText"],!1),a,"h",["et","s"])}function sa(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},{type:"name.familiar",key:"senderFamiliarName",firstName:a.getPath(!1,["sender","firstName"]),lastName:a.getPath(!1,["sender","lastName"]),output:"json"}).helper("i18n",a,{},{key:"i18n_sender_said_message",senderName:ta,body:ua,filters:"et|s",templateName:"templates/thread-list/thread-types/base"})}function ta(b,a){a=a.shiftBlocks(c);
return b.reference(a.get(["senderFamiliarName"],!1),a,"h",["et","s"])}function ua(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["bodyText"],!1),a,"h",["et","s"])}function qa(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_you_said_message",body:va,filters:"et|s",templateName:"templates/thread-list/thread-types/base"})}function va(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["bodyText"],!1),a,"h",["et","s"])}function oa(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isCurrentUser"],
!1),a,{"else":wa,block:xa},{})}function wa(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_someone_left_conversation",templateName:"templates/thread-list/thread-types/base"})}function xa(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_you_left_conversation",templateName:"templates/thread-list/thread-types/base"})}function ma(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isCurrentUser"],!1),a,{"else":ya,block:za},{})}function ya(b,a){a=a.shiftBlocks(c);return b.helper("format",
a,{},{type:"name.familiar",key:"senderFamiliarName",firstName:a.getPath(!1,["sender","firstName"]),lastName:a.getPath(!1,["sender","lastName"]),output:"json"}).helper("select",a,{block:Aa},{key:a.getPath(!1,["shareContent","type"])})}function Aa(b,a){a=a.shiftBlocks(c);return b.helper("eq",a,{block:Ba},{value:"ARTICLE"}).helper("eq",a,{block:Ca},{value:"JOB"}).helper("eq",a,{block:Da},{value:"NETWORK_UPDATE"}).helper("default",a,{block:Ea},{})}function Ba(b,a){a=a.shiftBlocks(c);return b.helper("i18n",
a,{},{key:"i18n_sender_shared_article",senderName:Fa,filters:"et|s",templateName:"templates/thread-list/thread-types/base"})}function Fa(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["senderFamiliarName"],!1),a,"h",["et","s"])}function Ca(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_sender_shared_job",senderName:Ga,filters:"et|s",templateName:"templates/thread-list/thread-types/base"})}function Ga(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["senderFamiliarName"],!1),a,
"h",["et","s"])}function Da(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_sender_shared_post",senderName:Ha,filters:"et|s",templateName:"templates/thread-list/thread-types/base"})}function Ha(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["senderFamiliarName"],!1),a,"h",["et","s"])}function Ea(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_sender_shared_content",senderName:Ia,filters:"et|s",templateName:"templates/thread-list/thread-types/base"})}function Ia(b,
a){a=a.shiftBlocks(c);return b.reference(a.get(["senderFamiliarName"],!1),a,"h",["et","s"])}function za(b,a){a=a.shiftBlocks(c);return b.helper("select",a,{block:Ja},{key:a.getPath(!1,["shareContent","type"])})}function Ja(b,a){a=a.shiftBlocks(c);return b.helper("eq",a,{block:Ka},{value:"ARTICLE"}).helper("eq",a,{block:La},{value:"JOB"}).helper("eq",a,{block:Ma},{value:"NETWORK_UPDATE"}).helper("default",a,{block:Na},{})}function Ka(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_you_shared_article",
templateName:"templates/thread-list/thread-types/base"})}function La(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_you_shared_job",templateName:"templates/thread-list/thread-types/base"})}function Ma(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_you_shared_update",templateName:"templates/thread-list/thread-types/base"})}function Na(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_you_shared_content",templateName:"templates/thread-list/thread-types/base"})}
function ka(b,a){a=a.shiftBlocks(c);return b.write('\x3csvg class\x3d"attachment-icon icon"\x3e\x3cuse xlink:href\x3d"#paperclip-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e').exists(a.get(["bodyText"],!1),a,{"else":Oa,block:Pa},{})}function Oa(b,a){a=a.shiftBlocks(c);return b.helper("eq",a,{"else":Qa,block:Ra},{key:a.getPath(!1,["attachments","length"]),value:1})}function Qa(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isCurrentUser"],!1),a,{"else":Sa,block:Ta},{})}function Sa(b,a){a=
a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_received_x_attachments",templateName:"templates/thread-list/thread-types/base"})}function Ta(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_sent_x_attachments",templateName:"templates/thread-list/thread-types/base"})}function Ra(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isCurrentUser"],!1),a,{"else":Ua,block:Va},{})}function Ua(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_received_an_attachment",templateName:"templates/thread-list/thread-types/base"})}
function Va(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_sent_an_attachment",templateName:"templates/thread-list/thread-types/base"})}function Pa(b,a){a=a.shiftBlocks(c);return b.helper("eq",a,{"else":Wa,block:Xa},{key:a.getPath(!1,["attachments","length"]),value:1})}function Wa(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isCurrentUser"],!1),a,{"else":Ya,block:Za},{})}function Ya(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_received_message_with_x_attachments",
templateName:"templates/thread-list/thread-types/base"})}function Za(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_sent_message_with_x_attachments",templateName:"templates/thread-list/thread-types/base"})}function Xa(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isCurrentUser"],!1),a,{"else":$a,block:ab},{})}function $a(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_received_message_with_an_attachment",templateName:"templates/thread-list/thread-types/base"})}function ab(b,
a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_sent_message_with_an_attachment",templateName:"templates/thread-list/thread-types/base"})}function ia(b,a){a=a.shiftBlocks(c);return b.section(a.get(["stickers"],!1),a,{block:bb},{})}function bb(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isCurrentUser"],!1),a,{"else":cb,block:db},{})}function cb(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_received_sticker",templateName:"templates/thread-list/thread-types/base"})}
function db(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_sent_sticker",templateName:"templates/thread-list/thread-types/base"})}function u(b,a){a=a.shiftBlocks(c);return b.partial("templates/shared/partials/actions/_leave-action",a,{leaveIcon:"leave-icon",hideText:"true",useSmallIcon:"true"})}function eb(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["recipientNames"],!1),a,"h",["et","s"])}function v(b,a){a=a.shiftBlocks(c);return b.partial("templates/shared/partials/actions/_delete-action",
a,{deleteIcon:"error-pebble-icon",hideText:"true",useSmallIcon:"true"})}function fb(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["recipientNames"],!1),a,"h",["et","s"])}dust.register("templates/thread-list/thread-types/base",d);var c={markAsUnreadText:function(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},{type:"name.full",key:"senderFullName",firstName:a.getPath(!1,["sender","firstName"]),lastName:a.getPath(!1,["sender","lastName"]),output:"json"}).helper("i18n",a,{},{key:"i18n_mark_conversation_with_names_as_unread_and_last_message",
senderName:I,names:J,body:K,filters:"et|s",templateName:"templates/thread-list/thread-types/base"})},markAsReadText:function(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},{type:"name.full",key:"senderFullName",firstName:a.getPath(!1,["sender","firstName"]),lastName:a.getPath(!1,["sender","lastName"]),output:"json"}).helper("i18n",a,{},{key:"i18n_mark_conversation_with_names_as_read_and_last_message",senderName:L,names:M,body:N,filters:"et|s",templateName:"templates/thread-list/thread-types/base"})},
leaveText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_leave_conversation",names:eb,filters:"et|s",templateName:"templates/thread-list/thread-types/base"})},deleteText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_delete_conversation_with_names_and_last_message",names:fb,filters:"et|s",templateName:"templates/thread-list/thread-types/base"})}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-list/thread-types/base"]={i18n_inmail_text:"InMail",i18n_undelete_action_text:"Undelete",i18n_delete_permanently_action_text:"Delete Permanently",i18n_archive_action_text:"Archive",i18n_select_message:"Select message: ",i18n_aria_label_unstar_message:"Message is starred. Click to unstar this message.",i18n_aria_label_star_message:"Message is not starred. Click to star this message",i18n_conversation_with:"Conversation with",
i18n_star:"Star",i18n_unstar:"Unstar",i18n_mark_unread_action_text:"Mark as unread",i18n_mark_read_action_text:"Mark as read",i18n_a11y_active_draft_thread:"Active Draft Conversation",i18n_a11y_active_thread:"Active Conversation",i18n_a11y_draft_thread:"Draft Conversation",i18n_no_recipients:"No recipients",i18n_sent_sticker:"You sent a sticker.",i18n_received_sticker:"You received a sticker.",i18n_sent_message_with_an_attachment:"You sent a message with an attachment.",i18n_received_message_with_an_attachment:"You received a message with an attachment.",
i18n_sent_an_attachment:"You sent an attachment.",i18n_received_an_attachment:"You received an attachment.",i18n_you_shared_article:"You shared an article",i18n_you_shared_job:"You shared a job",i18n_you_shared_update:"You shared an update",i18n_you_shared_content:"You shared content",i18n_you_left_conversation:"You left this conversation.",i18n_someone_left_conversation:"Someone left this conversation.",i18n_draft_message:"New message",i18n_enter_conversation_action:"Hit return to go to conversation details"}})();
(function(){function d(d,e){return d.write("Message titled: ").reference(e.getPath(!1,["attributes","subject"]),e,"h")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_aria_label_message_titled",d);return d})();
(function(){function d(d,e){return d.write("Mark your conversation with ").reference(e.get(["names"],!1),e,"h").write(" as unread. The last message sent was from ").reference(e.get(["senderName"],!1),e,"h").write(" and it reads: ").reference(e.get(["body"],!1),e,"h")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_mark_conversation_with_names_as_unread_and_last_message",d);return d})();
(function(){function d(d,e){return d.write("Mark your conversation with ").reference(e.get(["names"],!1),e,"h").write(" as read. The last message sent was from ").reference(e.get(["senderName"],!1),e,"h").write(" and it reads: ").reference(e.get(["body"],!1),e,"h")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_mark_conversation_with_names_as_read_and_last_message",d);return d})();
(function(){function d(d,e){return d.write("+").reference(e.get(["peopleLeft"],!1),e,"h")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_plus_number_of_people",d);return d})();(function(){function d(d,e){return d.write("You sent a message with ").reference(e.getPath(!1,["attachments","length"]),e,"h").write(" attachments.")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_sent_message_with_x_attachments",d);return d})();
(function(){function d(d,e){return d.write("You received a message with ").reference(e.getPath(!1,["attachments","length"]),e,"h").write(" attachments.")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_received_message_with_x_attachments",d);return d})();
(function(){function d(d,e){return d.write("You sent ").reference(e.getPath(!1,["attachments","length"]),e,"h").write(" attachments.")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_sent_x_attachments",d);return d})();(function(){function d(d,e){return d.write("You received ").reference(e.getPath(!1,["attachments","length"]),e,"h").write(" attachments.")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_received_x_attachments",d);return d})();
(function(){function d(d,e){return d.reference(e.get(["senderName"],!1),e,"h").write(" shared an article")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_sender_shared_article",d);return d})();(function(){function d(d,e){return d.reference(e.get(["senderName"],!1),e,"h").write(" shared a job")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_sender_shared_job",d);return d})();
(function(){function d(d,e){return d.reference(e.get(["senderName"],!1),e,"h").write(" shared an update")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_sender_shared_post",d);return d})();(function(){function d(d,e){return d.reference(e.get(["senderName"],!1),e,"h").write(" shared content")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_sender_shared_content",d);return d})();
(function(){function d(d,e){return d.write("You: ").reference(e.get(["body"],!1),e,"h")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_you_said_message",d);return d})();(function(){function d(d,e){return d.reference(e.get(["senderName"],!1),e,"h").write(": ").reference(e.get(["body"],!1),e,"h")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_sender_said_message",d);return d})();
(function(){function d(d,e){return d.write("Delete conversation with ").reference(e.get(["names"],!1),e,"h")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_delete_conversation_with_names_and_last_message",d);return d})();(function(){function d(d,e){return d.write("Leave conversation with ").reference(e.get(["names"],!1),e,"h")}dust.register("__i18n__templates/thread-list/thread-types/base__i18n_leave_conversation",d);return d})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.partial("templates/thread-list/thread-types/base",a,{})}function f(b,a){a=a.shiftBlocks(d);return b.notexists(a.get(["addedYou"],!1),a,{"else":e,block:g},{})}function e(b,a){a.shiftBlocks(d);return b.write("you")}function g(b,a){a=a.shiftBlocks(d);return b.section(a.get(["newParticipants"],!1),a,{block:h},{})}function h(b,a){a=a.shiftBlocks(d);return b.helper("format",a,{},{type:"name.full",key:"fullName",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],
!1),output:"json"}).reference(a.get(["fullName"],!1),a,"h",["et","s"]).helper("sep",a,{block:k},{})}function k(b,a){a.shiftBlocks(d);return b.write(", ")}function l(b,a){a=a.shiftBlocks(d);return b.helper("format",a,{},{type:"name.familiar",key:"senderFamiliarName",firstName:a.getPath(!1,["sender","firstName"]),lastName:a.getPath(!1,["sender","lastName"]),output:"json"}).helper("i18n",a,{},{key:"i18n_user_added_people_to_conversation",senderName:m,names:n,filters:"et|s",templateName:"templates/thread-list/thread-types/person-added"})}
function m(b,a){a=a.shiftBlocks(d);return b.reference(a.get(["senderFamiliarName"],!1),a,"h",["et","s"])}function n(b,a){a=a.shiftBlocks(d);return b.reference(a.get(["newParticipantsString"],!1),a,"h",["et","s"])}function p(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_you_added_people_to_conversation",names:q,filters:"et|s",templateName:"templates/thread-list/thread-types/person-added"})}function q(b,a){a=a.shiftBlocks(d);return b.reference(a.get(["newParticipantsString"],!1),a,
"h",["et","s"])}dust.register("templates/thread-list/thread-types/person-added",c);var d={itemSummary:function(b,a){a=a.shiftBlocks(d);return b.helper("addToContext",a,{block:f},{name:"newParticipantsString"}).exists(a.get(["isCurrentUser"],!1),a,{"else":l,block:p},{})}};return c})();
(function(){function c(c,e){return c.write("You added ").reference(e.get(["names"],!1),e,"h").write(" to the conversation")}dust.register("__i18n__templates/thread-list/thread-types/person-added__i18n_you_added_people_to_conversation",c);return c})();
(function(){function c(c,e){return c.reference(e.get(["senderName"],!1),e,"h").write(" added ").reference(e.get(["names"],!1),e,"h").write(" to the conversation")}dust.register("__i18n__templates/thread-list/thread-types/person-added__i18n_user_added_people_to_conversation",c);return c})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/thread-list/thread-types/base",a,{})}function f(b,a){a=a.shiftBlocks(c);return b.section(a.get(["removedParticipants"],!1),a,{block:e},{})}function e(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},{type:"name.full",key:"fullName",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1),output:"json"}).reference(a.get(["fullName"],!1),a,"h",["et","s"]).helper("sep",a,{block:g},{})}function g(b,a){a.shiftBlocks(c);
return b.write(", ")}function h(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_others_left_the_conversation",names:k,filters:"et|s",templateName:"templates/thread-list/thread-types/person-removed"})}function k(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["removedParticipantsString"],!1),a,"h",["et","s"])}function l(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_you_left_the_conversation",filters:"et|s",templateName:"templates/thread-list/thread-types/person-removed"})}
dust.register("templates/thread-list/thread-types/person-removed",d);var c={itemSummary:function(b,a){a=a.shiftBlocks(c);return b.helper("addToContext",a,{block:f},{name:"removedParticipantsString"}).exists(a.get(["isCurrentUser"],!1),a,{"else":h,block:l},{})}};return d})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-list/thread-types/person-removed"]={i18n_you_left_the_conversation:"You left the conversation"}})();
(function(){function d(d,e){return d.reference(e.get(["names"],!1),e,"h").write(" left the conversation")}dust.register("__i18n__templates/thread-list/thread-types/person-removed__i18n_others_left_the_conversation",d);return d})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.partial("templates/thread-list/thread-types/base",a,{})}dust.register("templates/thread-list/thread-types/intro",c);var d={messageBody:function(b,a){a=a.shiftBlocks(d);return b.reference(a.get(["subject"],!1),a,"h").write(" ").reference(a.get(["body"],!1),a,"h")}};return c})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/thread-list/thread-types/base",a,{})}function e(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_inmail_label",templateName:"templates/thread-list/thread-types/inmail"})}function f(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_inmail_awaiting_response_label",filter:"|mk|s",templateName:"templates/thread-list/thread-types/inmail"})}dust.register("templates/thread-list/thread-types/inmail",d);var c=
{itemLabel:function(b,a){a=a.shiftBlocks(c);return b.write('\x3cp class\x3d"label"\x3e').exists(a.get(["isPendingFromCurrentUser"],!1),a,{"else":e,block:f},{}).write("\x3c/p\x3e")},itemSummary:function(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["subject"],!1),a,"h")}};return d})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-list/thread-types/inmail"]={i18n_inmail_awaiting_response_label:"InMail \x26middot; Awaiting Response",i18n_inmail_label:"InMail"}})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/thread-list/thread-types/base",a,{})}function e(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isDeclinedFromOtherUser"],!1),a,{"else":f,block:g},{})}function f(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_inmail_label",templateName:"templates/thread-list/thread-types/inmail-reply"})}function g(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_inmail_declined_label",filter:"|mk|s",templateName:"templates/thread-list/thread-types/inmail-reply"})}
function h(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_inmail_accepted_label",filter:"|mk|s",templateName:"templates/thread-list/thread-types/inmail-reply"})}dust.register("templates/thread-list/thread-types/inmail-reply",d);var c={itemLabel:function(b,a){a=a.shiftBlocks(c);return b.write('\x3cp class\x3d"label"\x3e').exists(a.get(["isAcceptedFromOtherUser"],!1),a,{"else":e,block:h},{}).write("\x3c/p\x3e")}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-list/thread-types/inmail-reply"]={i18n_inmail_accepted_label:"InMail \x26middot; Accepted",i18n_inmail_declined_label:"InMail \x26middot; Declined",i18n_inmail_label:"InMail"}})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/thread-list/thread-types/base",a,{squareImg:"true"})}dust.register("templates/thread-list/thread-types/sponsored-inmail",d);var c={itemLabel:function(b,a){a=a.shiftBlocks(c);return b.write('\x3cp class\x3d"label"\x3e').helper("i18n",a,{},{key:"i18n_sponsored_label",templateName:"templates/thread-list/thread-types/sponsored-inmail"}).write("\x3c/p\x3e")},itemSummary:function(b,a){a=a.shiftBlocks(c);return b.write('\x3cspan class\x3d"subject"\x3e').reference(a.get(["subject"],
!1),a,"h").write('\x3c/span\x3e\x3cspan class\x3d"summary"\x3e').reference(a.get(["body"],!1),a,"h").write("\x3c/span\x3e")}};return d})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-list/thread-types/sponsored-inmail"]={i18n_sponsored_label:"Sponsored"}})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/thread-list/thread-types/base",a,{squareImg:"true"})}dust.register("templates/thread-list/thread-types/sponsored-inmail-legacy",d);var c={threadLink:function(b,a){a=a.shiftBlocks(c);return b.write('href\x3d"').reference(a.getPath(!1,["customContent","sponsoredInMailLegacy","url"]),a,"h").write('" target\x3d"_blank"')},itemLabel:function(b,a){a=a.shiftBlocks(c);return b.write('\x3cp class\x3d"label"\x3e').helper("i18n",a,{},
{key:"i18n_sponsored_label",templateName:"templates/thread-list/thread-types/sponsored-inmail-legacy"}).write("\x3c/p\x3e")},itemSummary:function(b,a){a=a.shiftBlocks(c);return b.write('\x3cspan class\x3d"subject"\x3e').reference(a.get(["subject"],!1),a,"h").write('\x3c/span\x3e\x3cspan class\x3d"summary"\x3e').reference(a.get(["body"],!1),a,"h").write("\x3c/span\x3e")}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-list/thread-types/sponsored-inmail-legacy"]={i18n_sponsored_label:"Sponsored"}})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/thread-list/thread-types/base",a,{})}dust.register("templates/thread-list/thread-types/job-referral",d);var c={itemLabel:function(b,a){a=a.shiftBlocks(c);return b.write('\x3cp class\x3d"label"\x3e').helper("i18n",a,{},{key:"i18n_job_referral_label",templateName:"templates/thread-list/thread-types/job-referral"}).write("\x3c/p\x3e")},itemSummary:function(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["subject"],!1),a,"h")}};
return d})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-list/thread-types/job-referral"]={i18n_job_referral_label:"Job Referral"}})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.partial("templates/thread-list/thread-types/base",a,{})}dust.register("templates/thread-list/thread-types/unsupported",c);var d={itemSummary:function(b,a){a.shiftBlocks(d);return b}};return c})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.partial("templates/thread-list/thread-types/base",a,{})}function e(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_user_updated_thread_name",filter:"mk|s",templateName:"templates/thread-list/thread-types/thread-name-updated"})}function b(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_you_updated_thread_name",filter:"mk|s",templateName:"templates/thread-list/thread-types/thread-name-updated"})}dust.register("templates/thread-list/thread-types/thread-name-updated",
c);var d={itemSummary:function(c,a){a=a.shiftBlocks(d);return c.helper("format",a,{},{type:"name.full",key:"senderFullName",firstName:a.getPath(!1,["sender","firstName"]),lastName:a.getPath(!1,["sender","lastName"]),output:"json"}).exists(a.get(["isCurrentUser"],!1),a,{"else":e,block:b},{})}};return c})();
(function(){function c(c,b){return c.write("You changed the name of this conversation to ").reference(b.get(["subject"],!1),b,"h")}dust.register("__i18n__templates/thread-list/thread-types/thread-name-updated__i18n_you_updated_thread_name",c);return c})();
(function(){function c(c,b){return c.reference(b.get(["senderFullName"],!1),b,"h").write(" changed the name of this conversation to ").reference(b.get(["subject"],!1),b,"h")}dust.register("__i18n__templates/thread-list/thread-types/thread-name-updated__i18n_user_updated_thread_name",c);return c})();
(function(){function b(b,a){a=a.shiftBlocks(d);return b.partial("templates/thread-list/thread-types/base",a,{})}function e(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_accepted_invitation",templateName:"templates/thread-list/thread-types/accepted-invitation"})}function c(b,a){a=a.shiftBlocks(d);return b.helper("format",a,{},{type:"name.full",key:"fullName",output:"json",firstName:a.getPath(!1,["recipients","0","firstName"]),lastName:a.getPath(!1,["recipients","0","lastName"])}).helper("i18n",
a,{},{key:"i18n_now_connection",templateName:"templates/thread-list/thread-types/accepted-invitation"})}dust.register("templates/thread-list/thread-types/accepted-invitation",b);var d={itemSummary:function(b,a){a=a.shiftBlocks(d);return b.helper("format",a,{},{type:"name.full",key:"senderFullName",firstName:a.getPath(!1,["sender","firstName"]),lastName:a.getPath(!1,["sender","lastName"]),output:"json"}).exists(a.get(["isCurrentUser"],!1),a,{"else":e,block:c},{})}};return b})();
(function(){function b(b,c){return b.reference(c.get(["fullName"],!1),c,"h").write(" is now a connection.")}dust.register("__i18n__templates/thread-list/thread-types/accepted-invitation__i18n_now_connection",b);return b})();(function(){function b(b,c){return b.reference(c.get(["senderFullName"],!1),c,"h").write(" accepted your invitation.")}dust.register("__i18n__templates/thread-list/thread-types/accepted-invitation__i18n_accepted_invitation",b);return b})();
(function(){function c(b,a){return b.helper("i18n",a,{},{key:"i18n_connected",output:"json",templateName:"templates/thread-detail/container"}).helper("i18n",a,{},{key:"i18n_declined",output:"json",templateName:"templates/thread-detail/container"}).write('\x3ch3 class\x3d"thread-detail-header screen-reader-text"\x3e').exists(a.get(["isNewThread"],!1),a,{"else":e,block:d},{}).write("\x3c/h3\x3e").notexists(a.get(["isNewThread"],!1),a,{block:f},{}).exists(a.get(["isPendingInvitation"],!1),a,{"else":g,
block:h},{}).write('\x3cdiv id\x3d"convo-header"\x3e\x3cdiv id\x3d"name-group-region"\x3e\x3c/div\x3e\x3cdiv id\x3d"participants-region"\x3e\x3c/div\x3e').notexists(a.get(["isNewThread"],!1),a,{block:k},{}).write('\x3c/div\x3e\x3cdiv id\x3d"action-status-bar"\x3e\x3c/div\x3e').notexists(a.get(["isNewThread"],!1),a,{block:l},{}).write('\x3cdiv id\x3d"compose-region"\x3e\x3c/div\x3e').notexists(a.get(["isNewThread"],!1),a,{block:m},{})}function e(b,a){return b.helper("i18n",a,{},{key:"i18n_active_conversation_details",
templateName:"templates/thread-detail/container"})}function d(b,a){return b.helper("i18n",a,{},{key:"i18n_start_new_conversation",templateName:"templates/thread-detail/container"})}function f(b,a){return b.write('\x3cdiv class\x3d"overlay"\x3e\x3c/div\x3e\x3cdiv id\x3d"participants-list-region"\x3e\x3c/div\x3e')}function g(b,a){return b.exists(a.get(["isSentInvitation"],!1),a,{block:n},{})}function n(b,a){return b.write('\x3cdiv id\x3d"invitation-status-region"\x3e\x3csvg class\x3d"success-pebble-icon"\x3e\x3cuse xlink:href\x3d"#success-pebble-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"status-text"\x3e').helper("i18n",
a,{},{key:"i18n_sent_invitation",templateName:"templates/thread-detail/container"}).write('\x3c/span\x3e\x3cspan class\x3d"sent-date"\x3e').helper("format",a,{},{type:"date.mdy.short",key:"fmt_date",date:a.get(["invitationSentDate"],!1),useTimeZone:"false"}).write("\x3c/span\x3e\x3c/div\x3e")}function h(b,a){return b.write('\x3cdiv id\x3d"invitation-status-region"\x3e').helper("i18n",a,{},{key:"i18n_pending_invitation",templateName:"templates/thread-detail/container"}).write("\x3c/div\x3e")}function k(b,
a){return b.write('\x3cdiv id\x3d"actions-region"\x3e\x3c/div\x3e')}function l(b,a){return b.write('\x3cdiv id\x3d"messages-region"\x3e\x3c/div\x3e')}function m(b,a){return b.write('\x3cdiv id\x3d"prompt-region"\x3e\x3c/div\x3e')}dust.register("templates/thread-detail/container",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/container"]={i18n_declined:"You declined this invitation",i18n_start_new_conversation:"Start a new conversation",i18n_active_conversation_details:"Active conversation details",i18n_pending_invitation:"Pending Invitation",i18n_sent_invitation:"You sent an invitation"}})();
(function(){function c(c,d){return c.write("You're now connected with ").reference(d.get(["name"],!1),d,"h")}dust.register("__i18n__templates/thread-detail/container__i18n_connected",c);return c})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isPendingInvitation"],!1),a,{"else":e,block:f},{})}function e(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isMuteable"],!1),a,{block:g},{}).write('\x3cdiv class\x3d"add-person-action').notexists(a.get(["canAddPerson"],!1),a,{block:h},{}).write('"\x3e\x3cbutton class\x3d"action-button add-person-trigger" tabindex\x3d0 role\x3d"button" title\x3d"').helper("i18n",a,{},{key:"i18n_add_people_to_conversation",templateName:"templates/thread-detail/actions"}).write('"\x3e\x3csvg class\x3d"plus-icon icon"\x3e\x3cuse xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"#plus-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_add_people_to_conversation",templateName:"templates/thread-detail/actions"}).write("\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e").exists(a.get(["isNameEditable"],!1),a,{block:k},{}).write('\x3cbutton class\x3d"action-button dropdown-trigger" data-pv-key\x3d"wonton-dimple-select"\x3e\x3csvg class\x3d"more-icon"\x3e\x3cuse xlink:href\x3d"#ellipsis-horizontal-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_action_dropdown_label",
templateName:"templates/thread-detail/actions"}).write('\x3c/span\x3e\x3c/button\x3e\x3cdl class\x3d"dropdown-menu"\x3e').exists(a.get(["isNotifyEnabled"],!1),a,{block:l},{}).exists(a.get(["isAddable"],!1),a,{block:m},{}).write('\x3cdd class\x3d"unread-toggle-container"\x3e').partial("templates/shared/partials/actions/_toggle-unread-action",a,{unreadIcon:"unread-icon",readIcon:"read-icon",inDropdown:"true"}).write("\x3c/dd\x3e").exists(a.get(["isMuteable"],!1),a,{block:n},{}).exists(a.get(["isForwardable"],
!1),a,{block:p},{}).exists(a.get(["isMarkableAsSpam"],!1),a,{block:q},{}).exists(a.get(["isLeaveable"],!1),a,{block:r},{}).write('\x3cdd class\x3d"trash"\x3e').partial("templates/shared/partials/actions/_delete-action",a,{deleteIcon:"trash-icon",inDropdown:"true"}).write('\x3c/dd\x3e\x3cdd class\x3d"error hidden"\x3e').partial("templates/shared/partials/_error-container",a,{}).write("\x3c/dd\x3e\x3c/dl\x3e")}function g(b,a){a=a.shiftBlocks(c);return b.write('\x3cspan class\x3d"muted-indicator"\x3e\x3csvg class\x3d"mute-icon icon"\x3e\x3cuse xlink:href\x3d"#mute-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_conversation_muted",templateName:"templates/thread-detail/actions"}).write("\x3c/span\x3e\x3c/span\x3e")}function h(b,a){a.shiftBlocks(c);return b.write(" hidden")}function k(b,a){a=a.shiftBlocks(c);return b.write('\x3cbutton class\x3d"action-button edit-group-name-trigger" title\x3d"').helper("i18n",a,{},{key:"i18n_edit_group_conversation_name",templateName:"templates/thread-detail/actions"}).write('"\x3e\x3csvg class\x3d"pencil-icon"\x3e\x3cuse xlink:href\x3d"#pencil-icon" data-size\x3d"large"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_edit_group_conversation_name",templateName:"templates/thread-detail/actions"}).write("\x3c/span\x3e\x3c/button\x3e")}function l(b,a){a=a.shiftBlocks(c);return b.write('\x3cdd class\x3d"notifications submenu"\x3e\x3cbutton class\x3d"dropdown-item notification-action"\x3e\x3cdiv class\x3d"label"\x3e\x3csvg class\x3d"bell-icon icon"\x3e\x3cuse xlink:href\x3d"#bell-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"action-text"\x3e').helper("i18n",a,{},{key:"i18n_conversation_notifications",
templateName:"templates/thread-detail/actions"}).write('\x3c/span\x3e\x3c/div\x3e\x3c/button\x3e\x3cdl class\x3d"notifications-options dropdown-submenu"\x3e\x3cdt class\x3d"dropdown-title"\x3e\x3cspan\x3e').helper("i18n",a,{},{key:"i18n_notifications_title",templateName:"templates/thread-detail/actions"}).write('\x3c/span\x3e\x3c/dt\x3e\x3cdd class\x3d"notifications-option notify-all"\x3e\x3cbutton class\x3d"dropdown-item label"\x3e\x3cinput type\x3d"radio" name\x3d"notification-option" value\x3d"all" class\x3d"notification-radio" ').exists(a.get(["notifyAll"],
!1),a,{block:s},{}).write("\x3e\x3cspan\x3e").helper("i18n",a,{},{key:"i18n_notifications_all",templateName:"templates/thread-detail/actions"}).write('\x3c/span\x3e\x3c/button\x3e\x3c/dd\x3e\x3cdd class\x3d"notifications-option notify-mention"\x3e\x3cbutton class\x3d"dropdown-item label"\x3e\x3cinput type\x3d"radio" name\x3d"notification-option" value\x3d"mentions" class\x3d"notification-radio" ').exists(a.get(["notifyMention"],!1),a,{block:t},{}).write("\x3e\x3cspan\x3e").helper("i18n",a,{},{key:"i18n_notifications_mentions",
templateName:"templates/thread-detail/actions"}).write('\x3c/span\x3e\x3c/button\x3e\x3c/dd\x3e\x3cdd class\x3d"notifications-option notify-none"\x3e\x3cbutton class\x3d"dropdown-item label"\x3e\x3cinput type\x3d"radio" name\x3d"notification-option" value\x3d"none" class\x3d"notification-radio" ').exists(a.get(["notifyNone"],!1),a,{block:u},{}).write("\x3e\x3cspan\x3e").helper("i18n",a,{},{key:"i18n_notifications_hide",templateName:"templates/thread-detail/actions"}).write("\x3c/span\x3e\x3c/button\x3e\x3c/dd\x3e\x3c/div\x3e\x3c/dd\x3e")}
function s(b,a){a.shiftBlocks(c);return b.write("checked")}function t(b,a){a.shiftBlocks(c);return b.write("checked")}function u(b,a){a.shiftBlocks(c);return b.write("checked")}function m(b,a){a=a.shiftBlocks(c);return b.write('\x3cdd class\x3d"add-people"\x3e\x3cbutton class\x3d"dropdown-item add-people-action"\x3e\x3cdiv class\x3d"label"\x3e\x3csvg class\x3d"add-people-icon icon"\x3e\x3cuse xlink:href\x3d"#connect-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"action-text"\x3e').helper("i18n",
a,{},{key:"i18n_add_people_to_conversation",templateName:"templates/thread-detail/actions"}).write("\x3c/span\x3e\x3c/div\x3e\x3c/button\x3e\x3c/dd\x3e")}function n(b,a){a=a.shiftBlocks(c);return b.write('\x3cdd class\x3d"mute-toggle-container"\x3e\x3cbutton class\x3d"dropdown-item mute-toggle-action mute"\x3e\x3cdiv class\x3d"label"\x3e\x3csvg class\x3d"muted icon"\x3e\x3cuse xlink:href\x3d"#mute-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"action-text"\x3e').helper("i18n",a,{},{key:"i18n_mute_conversation",
templateName:"templates/thread-detail/actions"}).write('\x3c/span\x3e\x3c/div\x3e\x3c/button\x3e\x3cbutton class\x3d"dropdown-item mute-toggle-action unmute"\x3e\x3cdiv class\x3d"label"\x3e\x3csvg class\x3d"unmute-icon icon"\x3e\x3cuse xlink:href\x3d"#volume-max-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"action-text"\x3e').helper("i18n",a,{},{key:"i18n_unmute_conversation",templateName:"templates/thread-detail/actions"}).write("\x3c/span\x3e\x3c/div\x3e\x3c/button\x3e\x3c/dd\x3e")}function p(b,
a){a=a.shiftBlocks(c);return b.write('\x3cdd class\x3d"forward"\x3e').partial("templates/shared/partials/actions/_forward-action",a,{inDropdown:"true"}).write("\x3c/dd\x3e")}function q(b,a){a=a.shiftBlocks(c);return b.write('\x3cdd class\x3d"spam"\x3e').partial("templates/shared/partials/actions/_report-as-spam-action",a,{inDropdown:"true"}).write("\x3c/dd\x3e")}function r(b,a){a=a.shiftBlocks(c);return b.write('\x3cdd class\x3d"leave"\x3e').partial("templates/shared/partials/actions/_leave-action",
a,{leaveIcon:"leave-icon",inDropdown:"true"}).write("\x3c/dd\x3e")}function f(b,a){a=a.shiftBlocks(c);return b.write('\x3cbutton class\x3d"reject-invitation invitation-action" title\x3d"').helper("i18n",a,{},{key:"i18n_reject_invitation_hint",templateName:"templates/thread-detail/actions"}).write('" ').exists(a.get(["isDisabled"],!1),a,{block:v},{}).write('\x3e\x3csvg class\x3d"cancel-icon icon"\x3e\x3cuse xlink:href\x3d"#cancel-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_reject_invitation_hint",templateName:"templates/thread-detail/actions"}).write('\x3c/span\x3e\x3c/button\x3e\x3cbutton class\x3d"accept-invitation invitation-action" title\x3d"').helper("i18n",a,{},{key:"i18n_accept_invitation_hint",templateName:"templates/thread-detail/actions"}).write('" ').exists(a.get(["isDisabled"],!1),a,{block:w},{}).write('\x3e\x3csvg class\x3d"check-icon icon"\x3e\x3cuse xlink:href\x3d"#check-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_accept_invitation_hint",templateName:"templates/thread-detail/actions"}).write("\x3c/span\x3e\x3c/button\x3e")}function v(b,a){a.shiftBlocks(c);return b.write('aria-disabled\x3d"true" disabled')}function w(b,a){a.shiftBlocks(c);return b.write('aria-disabled\x3d"true" disabled')}dust.register("templates/thread-detail/actions",d);var c={leaveText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_leave_conversation",templateName:"templates/thread-detail/actions"})},
deleteText:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_delete_conversation",templateName:"templates/thread-detail/actions"})}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/actions"]={i18n_action_dropdown_label:"Conversation Actions",i18n_conversation_notifications:"Notifications",i18n_add_people_to_conversation:"Add people",i18n_mute_conversation:"Mute conversation",i18n_unmute_conversation:"Unmute conversation",i18n_conversation_muted:"Conversation muted",i18n_delete_conversation:"Delete conversation",i18n_leave_conversation:"Leave conversation",i18n_edit_group_conversation_name:"Edit group conversation name",
i18n_reject_invitation_hint:"Reject Invitation",i18n_accept_invitation_hint:"Accept Invitation",i18n_notifications_title:"Notify me for:",i18n_notifications_all:"All activity (default)",i18n_notifications_mentions:"Mentions only",i18n_notifications_hide:"Hide notifications"}})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.write('\x3ch3 class\x3d"message-list-header screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_list_of_messages_in_the_active_conversation",templateName:"templates/thread-detail/messages"}).write("\x3c/h3\x3e").partial("templates/shared/partials/_error-container",a,{}).partial("templates/shared/partials/_loader",a,{}).write('\x3cul class\x3d"message-list"\x3e\x3c/ul\x3e')}dust.register("templates/thread-detail/messages",c);var d={loaderText:function(b,
a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_loading_more_messages",filter:"et|s",templateName:"templates/thread-detail/messages"})}};return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/messages"]={i18n_list_of_messages_in_the_active_conversation:"List of messages in the active conversation",i18n_loading_more_messages:"Loading more messages\x26hellip;"}})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/thread-detail/compose/compose",a,{})}function e(b,a){a=a.shiftBlocks(c);return b.write('\x3cdiv class\x3d"share-contact-info-bar"\x3e\x3cinput id\x3d"share-contact-info-checkbox" class\x3d"share-option" type\x3d"checkbox" checked\x3d"checked"\x3e\x3clabel class\x3d"checkbox-label" for\x3d"share-contact-info-checkbox"\x3e').helper("i18n",a,{},{key:"i18n_share_my_contact_info",templateName:"templates/thread-detail/compose/inmail-compose"}).write('\x3c/label\x3e\x3cdiv id\x3d"contact-info-region"\x3e\x3c/div\x3e\x3c/div\x3e')}
dust.register("templates/thread-detail/compose/inmail-compose",d);var c={leftComposeActions:function(b,a){a=a.shiftBlocks(c);return b.section(a.get(["hasShareOption"],!1),a,{block:e},{})}};return d})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/compose/inmail-compose"]={i18n_share_my_contact_info:"Share my contact info"}})();
(function(){function c(b,a){return b.write('\x3cdiv class\x3d"shim"\x3e\x3cp class\x3d"shim-prompt"\x3e').helper("select",a,{block:d},{key:a.get(["blockedReason"],!1)}).write("\x3c/p\x3e\x3c/div\x3e")}function d(b,a){return b.helper("eq",a,{block:e},{value:"BLOCKED"}).helper("eq",a,{block:f},{value:"PENDING_INMAIL"}).helper("eq",a,{block:g},{value:"DECLINED_INMAIL"}).helper("eq",a,{block:h},{value:"LEFT_CONVERSATION"})}function e(b,a){return b.helper("i18n",a,{},{key:"i18n_message_blocked",templateName:"templates/thread-detail/compose/disabled-compose"})}
function f(b,a){return b.helper("i18n",a,{},{key:"i18n_inmail_pending_feedback",templateName:"templates/thread-detail/compose/disabled-compose"})}function g(b,a){return b.helper("i18n",a,{},{key:"i18n_inmail_decline_feedback",templateName:"templates/thread-detail/compose/disabled-compose"})}function h(b,a){return b.helper("i18n",a,{},{key:"i18n_inmail_left_conversation_compose_feedback",templateName:"templates/thread-detail/compose/disabled-compose"})}dust.register("templates/thread-detail/compose/disabled-compose",
c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/compose/disabled-compose"]={i18n_message_blocked:"Sorry, you can not reply to a blocked message.",i18n_inmail_pending_feedback:"You haven't received a response to your message yet.",i18n_inmail_decline_feedback:"Sorry, your message was declined.",i18n_inmail_left_conversation_compose_feedback:"You can't reply to a conversation you have left."}})();
(function(){function c(b,a){return b.helper("i18n",a,{},{key:"i18n_standard_error_msg",output:"json",templateName:"templates/thread-detail/compose/compose"}).helper("i18n",a,{},{key:"i18n_invalid_message_too_large",output:"json",templateName:"templates/thread-detail/compose/compose"}).helper("i18n",a,{},{key:"i18n_invalid_message_need_recipient",output:"json",templateName:"templates/thread-detail/compose/compose"}).helper("i18n",a,{},{key:"i18n_invalid_message_need_content",output:"json",templateName:"templates/thread-detail/compose/compose"}).helper("i18n",
a,{},{key:"i18n_invalid_message_bad_attachments",output:"json",templateName:"templates/thread-detail/compose/compose"}).helper("i18n",a,{},{key:"i18n_invalid_message_too_many_attachments",output:"json",templateName:"templates/thread-detail/compose/compose"}).helper("i18n",a,{},{key:"i18n_group_mebc_limit_reached",output:"json",templateName:"templates/thread-detail/compose/compose"}).helper("i18n",a,{},{key:"i18n_invalid_recipients",output:"json",templateName:"templates/thread-detail/compose/compose"}).helper("i18n",
a,{},{key:"i18n_too_new_to_linkedin",output:"json",templateName:"templates/thread-detail/compose/compose"}).helper("i18n",a,{},{key:"i18n_too_new_to_group",output:"json",templateName:"templates/thread-detail/compose/compose"}).write('\x3cform class\x3d"compose-message-form"\x3e\x3ch3 class\x3d"compose-box-header screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_compose_new_message_to_recipients",templateName:"templates/thread-detail/compose/compose"}).write('\x3c/h3\x3e\x3cdiv id\x3d"compose-textarea-region"\x3e\x3c/div\x3e').partial("templates/shared/partials/_error-container",
a,{}).notexists(a.get(["isSimpleReply"],!1),a,{"else":d,block:e},{}).write('\x3cdiv class\x3d"attachment-previews"\x3e\x3c/div\x3e\x3c/form\x3e')}function d(b,a){return b.write('\x3cbutton type\x3d"submit" class\x3d"message-submit" disabled\x3d"disabled"\x3e').helper("i18n",a,{},{key:"i18n_send",templateName:"templates/thread-detail/compose/compose"}).write("\x3c/button\x3e")}function e(b,a){return b.write('\x3cdiv class\x3d"compose-action-bar"\x3e\x3cdiv class\x3d"left-actions"\x3e').block(a.getBlock("leftComposeActions"),
a,{},{}).write('\x3c/div\x3e\x3cdiv class\x3d"right-actions"\x3e\x3cdiv class\x3d"attachments-bar"\x3e\x3cinput class\x3d"message-attachment message-photo-attachment" type\x3d"file" id\x3d"message-photo-attachment" name\x3d"photos[]" accept\x3d"image/*" multiple\x3e\x3clabel class\x3d"compose-add-on attachment-label" data-pv-key\x3d"wonton-initiate-photo-attach" for\x3d"message-photo-attachment" title\x3d"').helper("i18n",a,{},{key:"i18n_upload_photo_attachment_to_message",templateName:"templates/thread-detail/compose/compose"}).write('"\x3e\x3csvg class\x3d"photo-icon icon"\x3e\x3cuse xlink:href\x3d"#image-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_upload_photo_attachment_to_message",templateName:"templates/thread-detail/compose/compose"}).write('\x3c/span\x3e\x3c/label\x3e\x3cinput class\x3d"message-attachment message-file-attachment" type\x3d"file" id\x3d"message-file-attachment" name\x3d"files[]" accept\x3d".ai,.psd,.pdf,.doc,.docx,.csv,.zip,.rar,.ppt,.pptx,.pps,.ppsx,.odt,.rtf,.xls,.xlsx,.txt,.pub,.html,.7z,.eml" multiple\x3e\x3clabel class\x3d"compose-add-on attachment-label" data-pv-key\x3d"wonton-initiate-file-attach" for\x3d"message-file-attachment" title\x3d"').helper("i18n",
a,{},{key:"i18n_upload_file_attachment_to_message",templateName:"templates/thread-detail/compose/compose"}).write('"\x3e\x3csvg class\x3d"file-icon icon"\x3e\x3cuse xlink:href\x3d"#paperclip-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_upload_file_attachment_to_message",templateName:"templates/thread-detail/compose/compose"}).write('\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"compose-add-on stickers-region"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"send-bar"\x3e\x3cdiv id\x3d"enter-to-send"\x3e\x3cinput id\x3d"enter-to-send-checkbox" class\x3d"send-option" type\x3d"checkbox" ').exists(a.get(["isChecked"],
!1),a,{block:f},{}).write('/\x3e\x3clabel class\x3d"send-option-label" for\x3d"enter-to-send-checkbox"\x3e').helper("i18n",a,{},{key:"i18n_press_enter_to_send",templateName:"templates/thread-detail/compose/compose"}).write("\x3c/label\x3e\x3c/div\x3e").exists(a.get(["hasCancelButton"],!1),a,{block:g},{}).write('\x3cbutton type\x3d"submit" class\x3d"message-submit').exists(a.get(["isChecked"],!1),a,{block:h},{}).write('" disabled\x3d"disabled"\x3e').helper("i18n",a,{},{key:"i18n_send",templateName:"templates/thread-detail/compose/compose"}).write("\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}
function f(b,a){return b.write('checked\x3d"checked"')}function g(b,a){return b.write('\x3cbutton type\x3d"button" class\x3d"message-cancel"\x3e').helper("i18n",a,{},{key:"i18n_cancel",templateName:"templates/thread-detail/compose/compose"}).write("\x3c/button\x3e")}function h(b,a){return b.write(" hidden")}dust.register("templates/thread-detail/compose/compose",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/compose/compose"]={i18n_standard_error_msg:"An error occurred. Please try again.",i18n_invalid_message_too_large:"Your message content is too long.",i18n_invalid_message_need_recipient:"You need to choose a recipient for your message.",i18n_invalid_message_need_content:"You need to have a message body",i18n_invalid_message_bad_attachments:"You have some attachments with errors.",i18n_invalid_message_too_many_attachments:"You have tried to send a message with too many attachments.",
i18n_group_mebc_limit_reached:"You can message 15 other members in your groups every month. You have already reached the limit for this month. \x3ca href\x3d'https://help.linkedin.com/app/answers/detail/a_id/192/kw/contacting+fellow'\x3eLearn more.\x3c/a\x3e",i18n_invalid_recipients:"You are no longer authorized to message this member.",i18n_too_new_to_linkedin:"Sorry, you must be a member for at least 30 days before you can directly message members. \x3ca href\x3d'https://help.linkedin.com/app/answers/detail/a_id/192/kw/contacting+fellow'\x3eLearn more.\x3c/a\x3e",
i18n_too_new_to_group:"Sorry, you must be a member of the group for 4 days before you can directly message members. \x3ca href\x3d'https://help.linkedin.com/app/answers/detail/a_id/192/kw/contacting+fellow'\x3eLearn more.\x3c/a\x3e",i18n_compose_new_message_to_recipients:"Compose a new message to the conversation's recipients",i18n_upload_photo_attachment_to_message:"Upload a photo attachment to the message",i18n_upload_file_attachment_to_message:"Upload a file attachment (non-photo) to the message",
i18n_press_enter_to_send:"press enter to send",i18n_cancel:"Cancel",i18n_send:"Send"}})();
(function(){function c(b,a){return b.helper("i18n",a,{},{key:"i18n_unfinished_message_prompt",output:"json",templateName:"templates/thread-detail/compose/compose-textarea"}).helper("addToContext",a,{block:e},{name:"messageRecipients"}).helper("addToContext",a,{block:f},{name:"placeholderText"}).write('\x3cdiv class\x3d"compose-textarea-actions"\x3e\x3cdiv class\x3d"left-actions"\x3e').block(a.getBlock("leftTextareaActions"),a,{},{}).write('\x3c/div\x3e\x3cdiv class\x3d"right-actions"\x3e').block(a.getBlock("rightTextareaActions"),
a,{},{}).write("\x3c/div\x3e\x3c/div\x3e").block(a.getBlock("miniQuickReply"),a,{},{}).block(a.getBlock("quickReplies"),a,{},{}).exists(a.get(["showShim"],!1),a,{block:g},{}).write('\x3clabel class\x3d"compose-message-label screen-reader-text" for\x3d"compose-message"\x3e').exists(a.get(["messageRecipients"],!1),a,{"else":h,block:k},{}).write('\x3c/label\x3e\x3cpre class\x3d"mentions-highlighter"\x3e\x3c/pre\x3e\x3ctextarea class\x3d"compose-area mentions-input"name\x3d"message"id\x3d"compose-message"placeholder\x3d"').reference(a.get(["placeholderText"],
!1),a,"h",["et","s"]).write('"\x3e\x3c/textarea\x3e\x3cinput class\x3d"mentions-typeahead" type\x3d"text" tabindex\x3d"-1" role\x3d"combobox" value\x3d"*"/\x3e\x3cinput class\x3d"mentions-entities" type\x3d"text"/\x3e\x3cpre class\x3d"mirror" aria-hidden\x3d"true"\x3e\x3c/pre\x3e')}function e(b,a){return b.section(a.get(["recipients"],!1),a,{block:d},{})}function d(b,a){return b.helper("format",a,{},{type:"name.full",key:"senderFullName",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],
!1)}).helper("sep",a,{block:l},{})}function l(b,a){return b.write(",")}function f(b,a){return b.exists(a.get(["variantEnabled"],!1),a,{"else":m,block:n},{})}function m(b,a){return b.exists(a.get(["bodyPlaceholder"],!1),a,{"else":p,block:q},{})}function p(b,a){return b.helper("i18n",a,{},{key:"i18n_write_your_message",filters:"et|s",templateName:"templates/thread-detail/compose/compose-textarea"})}function q(b,a){return b.reference(a.get(["bodyPlaceholder"],!1),a,"h")}function n(b,a){return b.helper("format",
a,{},{type:"name.familiar",key:"familiarName",firstName:a.getPath(!1,["lastSender","firstName"]),lastName:a.getPath(!1,["lastSender","lastName"]),output:"json"}).helper("i18n",a,{},{key:"i18n_follow_up_with_sender",filters:"et|s",templateName:"templates/thread-detail/compose/compose-textarea"})}function g(b,a){return b.write('\x3cdiv class\x3d"textarea-shim"\x3e\x3cp class\x3d"shim-prompt"\x3e').helper("i18n",a,{},{key:"i18n_click_here_to_reply_or_forward",filters:"mk|s",templateName:"templates/thread-detail/compose/compose-textarea"}).write("\x3c/p\x3e\x3c/div\x3e")}
function h(b,a){return b.helper("i18n",a,{},{key:"i18n_type_a_new_message",templateName:"templates/thread-detail/compose/compose-textarea"})}function k(b,a){return b.helper("i18n",a,{},{key:"i18n_type_a_message_to_recipients",templateName:"templates/thread-detail/compose/compose-textarea"})}dust.register("templates/thread-detail/compose/compose-textarea",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/compose/compose-textarea"]={i18n_unfinished_message_prompt:"You haven't sent your message yet.",i18n_write_your_message:"Write your message\x26hellip;",i18n_click_here_to_reply_or_forward:'Click here to \x3cbutton class\x3d"reply-action"\x3ereply\x3c/button\x3e or \x3cbutton class\x3d"forward-action"\x3eforward\x3c/button\x3e',i18n_type_a_new_message:"Type a new message"}})();
(function(){function c(c,d){return c.write("Follow up with ").reference(d.get(["familiarName"],!1),d,"h").write("\x26hellip;")}dust.register("__i18n__templates/thread-detail/compose/compose-textarea__i18n_follow_up_with_sender",c);return c})();(function(){function c(c,d){return c.write("Type a message to ").reference(d.get(["messageRecipients"],!1),d,"h")}dust.register("__i18n__templates/thread-detail/compose/compose-textarea__i18n_type_a_message_to_recipients",c);return c})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/thread-detail/compose/compose-textarea",a,{})}dust.register("templates/thread-detail/compose/inmail-compose-textarea",d);var c={rightTextareaActions:function(b,a){a=a.shiftBlocks(c);return b.write('\x3cbutton class\x3d"compose-action" id\x3d"quick-reply-trigger"\x3e\x3cspan class\x3d"button-content"\x3e').helper("i18n",a,{},{key:"i18n_quick_reply",templateName:"templates/thread-detail/compose/inmail-compose-textarea"}).write('\x3csvg class\x3d"quick-reply-icon icon"\x3e\x3cuse xlink:href\x3d"#quick-reply-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3c/span\x3e\x3c/button\x3e')},
quickReplies:function(b,a){a=a.shiftBlocks(c);return b.write('\x3cdiv id\x3d"quick-replies" class\x3d"hidden"\x3e\x3cbutton class\x3d"close-quick-replies"\x3e\x3csvg class\x3d"action-icon-small"\x3e\x3cuse xlink:href\x3d"#cancel-icon" class\x3d"icon-vector default"\x3e\x3c/use\x3e\x3c/svg\x3e\x3c/button\x3e\x3cheader class\x3d"quick-reply-header"\x3e').helper("i18n",a,{},{key:"i18n_quick_reply_text_header",templateName:"templates/thread-detail/compose/inmail-compose-textarea"}).write('\x3c/header\x3e\x3cdiv class\x3d"inmail-action-buttons"\x3e\x3cbutton class\x3d"action-button hear-more"data-accept\x3d"true"data-message\x3d"').helper("i18n",
a,{},{key:"i18n_thanks_love_to_hear_more",templateName:"templates/thread-detail/compose/inmail-compose-textarea"}).write('"\x3e\x3cdiv class\x3d"action-title-bar"\x3e\x3csvg class\x3d"action-icon"\x3e\x3cuse xlink:href\x3d"#check-icon" class\x3d"icon-vector default"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"action-title"\x3e').helper("i18n",a,{},{key:"i18n_inmail_reply_interested_button",templateName:"templates/thread-detail/compose/inmail-compose-textarea"}).write('\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"action-message"\x3e').helper("i18n",
a,{},{key:"i18n_thanks_love_to_hear_more",templateName:"templates/thread-detail/compose/inmail-compose-textarea"}).write('\x3c/div\x3e\x3c/button\x3e\x3cbutton class\x3d"action-button keep-in-touch"data-accept\x3d"true"data-message\x3d"').helper("i18n",a,{},{key:"i18n_thanks_but_not_a_good_fit",templateName:"templates/thread-detail/compose/inmail-compose-textarea"}).write('"\x3e\x3cdiv class\x3d"action-title-bar"\x3e\x3csvg class\x3d"action-icon"\x3e\x3cuse xlink:href\x3d"#calendar-icon" class\x3d"icon-vector default"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"action-title"\x3e').helper("i18n",
a,{},{key:"i18n_inmail_reply_maybe_button",templateName:"templates/thread-detail/compose/inmail-compose-textarea"}).write('\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"action-message"\x3e').helper("i18n",a,{},{key:"i18n_thanks_but_not_a_good_fit",templateName:"templates/thread-detail/compose/inmail-compose-textarea"}).write('\x3c/div\x3e\x3c/button\x3e\x3cbutton class\x3d"action-button decline"data-message\x3d"').helper("i18n",a,{},{key:"i18n_thanks_but_not_looking",templateName:"templates/thread-detail/compose/inmail-compose-textarea"}).write('"\x3e\x3cdiv class\x3d"action-title-bar"\x3e\x3csvg class\x3d"action-icon"\x3e\x3cuse xlink:href\x3d"#cancel-icon" class\x3d"icon-vector default"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"action-title"\x3e').helper("i18n",
a,{},{key:"i18n_inmail_reply_notinterested_button",templateName:"templates/thread-detail/compose/inmail-compose-textarea"}).write('\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"action-message"\x3e').helper("i18n",a,{},{key:"i18n_thanks_but_not_looking",templateName:"templates/thread-detail/compose/inmail-compose-textarea"}).write("\x3c/div\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e")}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/compose/inmail-compose-textarea"]={i18n_quick_reply:"Quick reply",i18n_quick_reply_text_header:"Choose a quick reply and edit it to add a personal touch",i18n_thanks_love_to_hear_more:"Thanks for reaching out! I'd love to hear more about this.",i18n_inmail_reply_interested_button:"Interested",i18n_thanks_but_not_a_good_fit:"Thanks for reaching out. This isn't something I am interested in now, but let's keep in touch.",
i18n_inmail_reply_maybe_button:"Maybe later",i18n_thanks_but_not_looking:"Thanks for reaching out, but this is not something I am interested in.",i18n_inmail_reply_notinterested_button:"No thanks"}})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.partial("templates/thread-detail/compose/compose-textarea",a,{})}function e(b,a){a=a.shiftBlocks(c);return b.write('\x3cbutton class\x3d"mini-action maybe tertiary"data-accept\x3d"true"data-message\x3d"').helper("i18n",a,{},{key:"i18n_thanks_but_not_a_good_fit",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('"\x3e\x3cspan class\x3d"mini-action-message"\x3e').helper("i18n",a,{},{key:"i18n_mini_quick_reply_later",
templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write("\x3c/span\x3e\x3c/button\x3e")}dust.register("templates/thread-detail/compose/inmail-compose-textarea-mini",d);var c={rightTextareaActions:function(b,a){a=a.shiftBlocks(c);return b.write('\x3cbutton class\x3d"mini-action not-interested tertiary hidden"data-message\x3d""\x3e\x3cspan class\x3d"mini-action-message"\x3e').helper("i18n",a,{},{key:"i18n_mini_quick_reply_not_interested",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write("\x3c/span\x3e\x3c/button\x3e")},
miniQuickReply:function(b,a){a=a.shiftBlocks(c);return b.write('\x3cdiv id\x3d"mini-quick-reply" class\x3d"hidden"\x3e\x3cbutton class\x3d"mini-action reply primary"data-accept\x3d"true"data-message\x3d""\x3e\x3cspan class\x3d"mini-action-message"\x3e').helper("i18n",a,{},{key:"i18n_mini_quick_reply_reply",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write("\x3c/span\x3e\x3c/button\x3e").exists(a.get(["showMiniMaybe"],!1),a,{block:e},{}).write('\x3cbutton class\x3d"mini-action not-interested tertiary"data-message\x3d"').helper("i18n",
a,{},{key:"i18n_thanks_but_already_happy",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('"\x3e\x3cspan class\x3d"mini-action-message"\x3e').helper("i18n",a,{},{key:"i18n_mini_quick_reply_not_interested",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write("\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e")},quickReplies:function(b,a){a=a.shiftBlocks(c);return b.write('\x3cdiv id\x3d"quick-replies" class\x3d"hidden"\x3e\x3cheader class\x3d"quick-reply-header"\x3e').helper("i18n",
a,{},{key:"i18n_quick_reply_text_header_not_interested",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('\x3c/header\x3e\x3cdiv class\x3d"inmail-action-buttons"\x3e\x3cbutton class\x3d"action-button hear-more"data-accept\x3d"true"data-message\x3d"').helper("i18n",a,{},{key:"i18n_thanks_but_not_a_good_fit",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('"\x3e\x3cdiv class\x3d"action-title-bar"\x3e\x3csvg class\x3d"action-icon"\x3e\x3cuse xlink:href\x3d"#check-icon" class\x3d"icon-vector default"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"action-title"\x3e').helper("i18n",
a,{},{key:"i18n_inmail_reply_maybe_button",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"action-message"\x3e').helper("i18n",a,{},{key:"i18n_thanks_but_not_a_good_fit",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('\x3c/div\x3e\x3c/button\x3e\x3cbutton class\x3d"action-button keep-in-touch"data-accept\x3d"true"data-message\x3d"').helper("i18n",a,{},{key:"i18n_thanks_but_not_interested",
templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('"\x3e\x3cdiv class\x3d"action-title-bar"\x3e\x3csvg class\x3d"action-icon"\x3e\x3cuse xlink:href\x3d"#check-icon" class\x3d"icon-vector default"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"action-title"\x3e').helper("i18n",a,{},{key:"i18n_inmail_reply_notright_button",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"action-message"\x3e').helper("i18n",
a,{},{key:"i18n_thanks_but_not_interested",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('\x3c/div\x3e\x3c/button\x3e\x3cbutton class\x3d"action-button decline"data-message\x3d"').helper("i18n",a,{},{key:"i18n_thanks_but_already_happy",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('"\x3e\x3cdiv class\x3d"action-title-bar"\x3e\x3csvg class\x3d"action-icon"\x3e\x3cuse xlink:href\x3d"#check-icon" class\x3d"icon-vector default"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"action-title"\x3e').helper("i18n",
a,{},{key:"i18n_inmail_reply_nothanks_button",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"action-message"\x3e').helper("i18n",a,{},{key:"i18n_thanks_but_already_happy",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('\x3c/div\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"send-bar"\x3e\x3cdiv class\x3d"right-actions"\x3e\x3cbutton type\x3d"button" class\x3d"message-cancel"\x3e').helper("i18n",
a,{},{key:"i18n_cancel",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write('\x3c/button\x3e\x3cbutton type\x3d"submit" class\x3d"message-submit" disabled\x3d"disabled"\x3e').helper("i18n",a,{},{key:"i18n_send",templateName:"templates/thread-detail/compose/inmail-compose-textarea-mini"}).write("\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/compose/inmail-compose-textarea-mini"]={i18n_mini_quick_reply_not_interested:"Not interested?",i18n_mini_quick_reply_reply:"Reply",i18n_thanks_but_not_a_good_fit:"Thanks for reaching out. This isn't a good fit for me now, but let's keep in touch.",i18n_mini_quick_reply_later:"Maybe later",i18n_thanks_but_already_happy:"I appreciate your consideration, but I am happy where I am right now. Thank you!",
i18n_inmail_reply_maybe_button:"Maybe later",i18n_thanks_but_not_interested:"Thanks for the opportunity. I'm not interested in this position, but keep me in mind for others that might come your way.",i18n_inmail_reply_notright_button:"Not the right position",i18n_inmail_reply_nothanks_button:"No thanks",i18n_cancel:"Cancel",i18n_send:"Send"}})();
(function(){function d(d,c){return d.write("Send ").reference(c.get(["familiarName"],!1),c,"h").write(" a note why you're not interested")}dust.register("__i18n__templates/thread-detail/compose/inmail-compose-textarea-mini__i18n_quick_reply_text_header_not_interested",d);return d})();
(function(){function c(b,a){return b.write('\x3cbutton class\x3d"dropdown-trigger show-contact-info"\x3e\x3csvg class\x3d"chevron-up-icon icon"\x3e\x3cuse xlink:href\x3d"#chevron-up-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_show_info_that_will_be_shared",templateName:"templates/thread-detail/compose/contact-info"}).write('\x3c/span\x3e\x3c/button\x3e\x3cdl class\x3d"dropdown-menu"\x3e').exists(a.get(["emails"],
!1),a,{block:d},{}).write('\x3cdd class\x3d"data-row"\x3e\x3cdiv id\x3d"contact-phone" class\x3d"dropdown-item"\x3e\x3cdiv class\x3d"data-key"\x3e\x3cinput id\x3d"phone-checkbox" class\x3d"contact-info-checkbox" type\x3d"checkbox"').exists(a.get(["canSharePhone"],!1),a,{block:e},{}).write('" /\x3e\x3clabel class\x3d"checkbox-label" for\x3d"phone-checkbox"\x3e').helper("i18n",a,{},{key:"i18n_inmail_contact_info_phone",templateName:"templates/thread-detail/compose/contact-info"}).write('\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"data-value"\x3e\x3clabel for\x3d"contact-phone-input" class\x3d"screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_inmail_contact_info_phone",templateName:"templates/thread-detail/compose/contact-info"}).write('\x3c/label\x3e\x3cinput type\x3d"tel" id\x3d"contact-phone-input" autocomplete\x3d"tel" placeholder\x3d"').helper("i18n",a,{},{key:"i18n_inmail_contact_info_email_placeholder",templateName:"templates/thread-detail/compose/contact-info"}).write('" value\x3d"').reference(a.get(["phone"],!1),a,"h").write('"/\x3e\x3c/div\x3e\x3c/div\x3e\x3c/dd\x3e\x3c/dl\x3e')}function d(b,a){return b.write('\x3cdd class\x3d"data-row"\x3e\x3cdiv id\x3d"contact-email" class\x3d"dropdown-item"\x3e\x3cdiv class\x3d"data-key"\x3e\x3cinput id\x3d"email-checkbox" class\x3d"contact-info-checkbox" type\x3d"checkbox"').exists(a.get(["canShareEmail"],
!1),a,{block:f},{}).write('" /\x3e\x3clabel class\x3d"checkbox-label" for\x3d"email-checkbox"\x3e').helper("i18n",a,{},{key:"i18n_inmail_contact_info_email",templateName:"templates/thread-detail/compose/contact-info"}).write('\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"data-value"\x3e\x3clabel for\x3d"contact-email-select" class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_inmail_contact_info_email",templateName:"templates/thread-detail/compose/contact-info"}).write('\x3c/label\x3e\x3cselect id\x3d"contact-email-select"\x3e').section(a.get(["emails"],
!1),a,{block:g},{}).write("\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/dd\x3e")}function f(b,a){return b.write(' checked\x3d"checked')}function g(b,a){return b.write('\x3coption class\x3d"email-value"value\x3d"').reference(a.get(["id"],!1),a,"h").write('"').helper("eq",a,{block:h},{key:a.get(["$idx"],!1),value:a.get(["preferredEmailIndex"],!1)}).write("\x3e").reference(a.get(["emailAddress"],!1),a,"h").write("\x3c/option\x3e")}function h(b,a){return b.write('selected\x3d"selected"')}function e(b,
a){return b.write(' checked\x3d"checked')}dust.register("templates/thread-detail/compose/contact-info",c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/compose/contact-info"]={i18n_show_info_that_will_be_shared:"Show information that will be shared",i18n_inmail_contact_info_email:"Email",i18n_inmail_contact_info_phone:"Phone number",i18n_inmail_contact_info_email_placeholder:"Add a phone number"}})();
(function(){function c(b,a){return b.helper("i18n",a,{},{key:"i18n_companies",output:"json",filters:"mk|s",templateName:"templates/thread-detail/mentions/mention-match"}).helper("i18n",a,{},{key:"i18n_participants",output:"json",filters:"mk|s",templateName:"templates/thread-detail/mentions/mention-match"}).helper("i18n",a,{},{key:"i18n_people",output:"json",filters:"mk|s",templateName:"templates/thread-detail/mentions/mention-match"}).helper("i18n",a,{},{key:"i18n_universities",output:"json",filters:"mk|s",
templateName:"templates/thread-detail/mentions/mention-match"}).exists(a.get(["imageUrl"],!1),a,{"else":d,block:e},{}).write('\x3cspan class\x3d"mention-match-name"\x3e').reference(a.get(["headLine"],!1),a,"h").write('\x3c/span\x3e\x3cspan class\x3d"mention-match-title"\x3e').reference(a.get(["subLine"],!1),a,"h").write("\x3c/span\x3e")}function d(b,a){return b.exists(a.get(["pictureId"],!1),a,{"else":f,block:g},{})}function f(b,a){return b.write('\x3cdiv class\x3d"mention-match-photo generic"\x3e\x3cspan class\x3d"person-icon small"\x3e\x3c/span\x3e\x3c/div\x3e')}
function g(b,a){return b.helper("mprImg",a,{},{lazyLoad:a.get(["lazyLoadImages"],!1),mediaId:a.get(["pictureId"],!1),size:"100",alt:h,"class":"mention-match-photo"})}function h(b,a){return b.reference(a.get(["displayName"],!1),a,"h",["et","s"])}function e(b,a){return b.write('\x3cimg class\x3d"mention-match-photo" src\x3d"').reference(a.get(["imageUrl"],!1),a,"h").write('"\x3e')}dust.register("templates/thread-detail/mentions/mention-match",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/mentions/mention-match"]={i18n_companies:'\x3cli class\x3d"mention-title"\x3eCompanies\x3c/li\x3e',i18n_participants:'\x3cli class\x3d"mention-title"\x3ePeople in this conversation\x3c/li\x3e',i18n_people:'\x3cli class\x3d"mention-title"\x3eYour Connections\x3c/li\x3e',i18n_universities:'\x3cli class\x3d"mention-title"\x3eUniversity items\x3c/li\x3e'}})();
(function(){function c(b,a){return b.write('\x3cdiv id\x3d"pillbox-region"\x3e\x3c/div\x3e\x3cdiv class\x3d"prompt"\x3e\x3cinput id\x3d"include-history" type\x3d"checkbox" class\x3d"include-history-option" ').exists(a.get(["shareHistory"],!1),a,{block:d},{}).write('/\x3e\x3clabel for\x3d"include-history" class\x3d"include-history-option-label"\x3e').helper("i18n",a,{},{key:"i18n_share_conversation_history",templateName:"templates/thread-detail/participants/add-people"}).write('\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"actions"\x3e\x3cbutton class\x3d"cancel action"\x3e').helper("i18n",
a,{},{key:"i18n_cancel",templateName:"templates/thread-detail/participants/add-people"}).write('\x3c/button\x3e\x3cbutton disabled\x3d"disabled" class\x3d"done action" data-pv-key\x3d"wonton-add-people"\x3e').helper("i18n",a,{},{key:"i18n_done",templateName:"templates/thread-detail/participants/add-people"}).write("\x3c/button\x3e\x3c/div\x3e").partial("templates/shared/partials/_error-container",a,{})}function d(b,a){return b.write('checked\x3d"checked"')}dust.register("templates/thread-detail/participants/add-people",
c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/participants/add-people"]={i18n_share_conversation_history:"Share conversation history",i18n_cancel:"Cancel",i18n_done:"Done"}})();
(function(){function c(b,a){return b.write('\x3cdiv class\x3d"header"\x3e\x3ch3 class\x3d"headline"\x3e').helper("i18n",a,{},{key:"i18n_who_is_in_the_conversation",templateName:"templates/thread-detail/participants/list"}).write('\x3c/h3\x3e\x3cbutton class\x3d"close-list"\x3e\x3csvg class\x3d"close-icon"\x3e\x3cuse xlink:href\x3d"#cancel-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_close_list_of_participants",templateName:"templates/thread-detail/participants/list"}).write('\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"full-list" tabindex\x3d"-1"\x3e\x3cul class\x3d"list"\x3e').section(a.get(["recipients"],
!1),a,{block:d},{}).write("\x3c/ul\x3e\x3c/div\x3e")}function d(b,a){return b.write('\x3cli class\x3d"participant"\x3e\x3ca href\x3d"').reference(a.get(["profileUrl"],!1),a,"h").write('" class\x3d"profile-link participant-info" target\x3d"_blank" data-pv-key\x3d"wonton-profile-view"\x3e').helper("format",a,{},{type:"name.full",key:"fullName",output:"json",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1)}).exists(a.get(["imageUrl"],!1),a,{"else":e,block:f},{}).write('\x3cdiv class\x3d"participant-meta"\x3e\x3ch3 class\x3d"name"\x3e').reference(a.get(["fullName"],
!1),a,"h").write("\x3c/h3\x3e").exists(a.get(["headline"],!1),a,{block:g},{}).write("\x3c/div\x3e\x3c/a\x3e\x3c/li\x3e")}function e(b,a){return b.exists(a.get(["pictureId"],!1),a,{"else":h,block:k},{})}function h(b,a){return b.write('\x3cdiv class\x3d"profile-pic"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["fullName"],!1),a,"h").write('\x3c/span\x3e\x3cspan class\x3d"person-icon medium"\x3e\x3c/span\x3e\x3c/div\x3e')}function k(b,a){return b.helper("mprImg",a,{},{lazyLoad:a.get(["lazyLoadImages"],
!1),mediaId:a.get(["pictureId"],!1),size:"100",alt:l,"class":"profile-pic"})}function l(b,a){return b.reference(a.get(["fullName"],!1),a,"h")}function f(b,a){return b.write("\x3cimg ").exists(a.get(["lazyLoadImages"],!1),a,{"else":m,block:n},{}).write('\x3d"').reference(a.get(["imageUrl"],!1),a,"h").write('" height\x3d"100" width\x3d"100" alt\x3d"').reference(a.get(["fullName"],!1),a,"h").write('" class\x3d"profile-pic"/\x3e')}function m(b,a){return b.write("src")}function n(b,a){return b.write("data-delayed-url")}
function g(b,a){return b.write('\x3ch5 class\x3d"headline"\x3e').reference(a.get(["headline"],!1),a,"h",["et","s"]).write("\x3c/h5\x3e")}dust.register("templates/thread-detail/participants/list",c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/participants/list"]={i18n_who_is_in_the_conversation:"Who's in the conversation",i18n_close_list_of_participants:"Close list of participants"}})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.write('\x3cdiv class\x3d"one-to-one"\x3e').notexists(a.get(["isNewThread"],!1),a,{"else":e,block:f},{}).write('\x3cdiv id\x3d"add-people-region"\x3e\x3c/div\x3e\x3c/div\x3e')}function e(b,a){a.shiftBlocks(c);return b}function f(b,a){a=a.shiftBlocks(c);return b.section(a.get(["recipients"],!1),a,{block:g},{})}function g(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},{type:"name.full",key:"fullName",output:"json",firstName:a.get(["firstName"],
!1),lastName:a.get(["lastName"],!1)}).write('\x3ca href\x3d"').reference(a.get(["profileUrl"],!1),a,"h").write('" class\x3d"profile-link participant-info" target\x3d"_blank" data-pv-key\x3d"wonton-profile-view"\x3e').exists(a.get(["imageUrl"],!1),a,{"else":h,block:k},{}).write('\x3cspan class\x3d"muted-indicator notify" title\x3d"').helper("i18n",a,{},{key:"i18n_conversation_muted",templateName:"templates/thread-detail/participants/one-to-one"}).write('"\x3e\x3csvg class\x3d"mute-icon icon"\x3e\x3cuse xlink:href\x3d"#mute-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_conversation_muted",templateName:"templates/thread-detail/participants/one-to-one"}).write('\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"mention-indicator notify" title\x3d"').helper("i18n",a,{},{key:"i18n_conversation_mention",templateName:"templates/thread-detail/participants/one-to-one"}).write('"\x3e\x3csvg class\x3d"mention-icon icon"\x3e\x3cuse xlink:href\x3d"#at-pebble-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_conversation_mention",
templateName:"templates/thread-detail/participants/one-to-one"}).write('\x3c/span\x3e\x3c/span\x3e\x3cdiv class\x3d"participant-meta"\x3e\x3ch2 class\x3d"name"\x3e').exists(a.get(["threadName"],!1),a,{"else":l,block:m},{}).write("\x3c/h2\x3e").exists(a.get(["headline"],!1),a,{block:n},{}).write("\x3c/div\x3e\x3c/a\x3e")}function h(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["pictureId"],!1),a,{"else":p,block:q},{})}function p(b,a){a=a.shiftBlocks(c);return b.write('\x3cdiv class\x3d"profile-pic"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["fullName"],
!1),a,"h",["et","s"]).write('\x3c/span\x3e\x3cspan class\x3d"person-icon medium"\x3e\x3c/span\x3e\x3c/div\x3e')}function q(b,a){a=a.shiftBlocks(c);return b.helper("mprImg",a,{},{lazyLoad:a.get(["lazyLoadImages"],!1),mediaId:a.get(["pictureId"],!1),size:"100",alt:a.get(["fullName"],!1),"class":"profile-pic"})}function k(b,a){a=a.shiftBlocks(c);return b.write("\x3cimg ").exists(a.get(["lazyLoadImages"],!1),a,{"else":r,block:s},{}).write('\x3d"').reference(a.get(["imageUrl"],!1),a,"h").write('" height\x3d"100" width\x3d"100" alt\x3d"').reference(a.get(["fullName"],
!1),a,"h",["et","S"]).write('" class\x3d"profile-pic"/\x3e')}function r(b,a){a.shiftBlocks(c);return b.write("src")}function s(b,a){a.shiftBlocks(c);return b.write("data-delayed-url")}function l(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["fullName"],!1),a,"h",["et","s"])}function m(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["threadName"],!1),a,"h")}function n(b,a){a=a.shiftBlocks(c);return b.write('\x3ch4 class\x3d"headline"\x3e').reference(a.get(["headline"],!1),a,"h",["et","s"]).write("\x3c/h4\x3e")}
dust.register("templates/thread-detail/participants/one-to-one",d);var c={errorMsg:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_participants_error",templateName:"templates/thread-detail/participants/one-to-one"})}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/participants/one-to-one"]={i18n_conversation_muted:"Don't notify me about messages",i18n_conversation_mention:"Notify me if I am mentioned",i18n_participants_error:"One of the participants has an error."}})();
(function(){function c(b,a){return b.helper("addToContext",a,{block:e},{name:"groupSize"}).write('\x3cdiv class\x3d"one-to-many"\x3e\x3cdiv class\x3d"participants-wrapper"\x3e').exists(a.get(["showFacePile"],!1),a,{block:f},{}).write('\x3cspan class\x3d"muted-indicator notify" title\x3d"').helper("i18n",a,{},{key:"i18n_conversation_muted",templateName:"templates/thread-detail/participants/one-to-many"}).write('"\x3e\x3csvg class\x3d"mute-icon icon"\x3e\x3cuse xlink:href\x3d"#mute-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_conversation_muted",templateName:"templates/thread-detail/participants/one-to-many"}).write('\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"mention-indicator notify" title\x3d"').helper("i18n",a,{},{key:"i18n_conversation_mention",templateName:"templates/thread-detail/participants/one-to-many"}).write('"\x3e\x3csvg class\x3d"mention-icon icon"\x3e\x3cuse xlink:href\x3d"#at-pebble-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_conversation_mention",
templateName:"templates/thread-detail/participants/one-to-many"}).write('\x3c/span\x3e\x3c/span\x3e\x3cbutton class\x3d"participants-list-trigger" title\x3d"').helper("i18n",a,{},{key:"i18n_num_of_recipients",templateName:"templates/thread-detail/participants/one-to-many"}).write('"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_num_of_recipients",templateName:"templates/thread-detail/participants/one-to-many"}).write("\x3c/span\x3e").helper("addToContext",a,{block:g},
{name:"recipientNames"}).exists(a.get(["threadName"],!1),a,{"else":h,block:k},{}).write('\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_participant_list_open_action",templateName:"templates/thread-detail/participants/one-to-many"}).write('\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv id\x3d"add-people-region"\x3e\x3c/div\x3e\x3c/div\x3e')}function e(b,a){return b.helper("gt",a,{"else":d,block:l},{key:a.get(["peopleLeft"],!1),value:0})}function d(b,a){return b.write("group-size-").reference(a.getPath(!1,
["recipients","length"]),a,"h")}function l(b,a){return b.write("group-size-4-plus")}function f(b,a){return b.write('\x3cdiv class\x3d"img-container').exists(a.get(["isGroup"],!1),a,{block:m},{}).write(" ").reference(a.get(["groupSize"],!1),a,"h").write('"\x3e').section(a.get(["recipients"],!1),a,{block:n},{}).helper("gt",a,{block:p},{key:a.get(["peopleLeft"],!1),value:0}).write("\x3c/div\x3e")}function m(b,a){return b.write(" group")}function n(b,a){return b.helper("format",a,{},{type:"name.full",
key:"fullName",output:"json",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1)}).exists(a.get(["imageUrl"],!1),a,{"else":q,block:r},{})}function q(b,a){return b.exists(a.get(["pictureId"],!1),a,{"else":s,block:t},{})}function s(b,a){return b.write('\x3cdiv class\x3d"profile-pic img-').reference(a.get(["$idx"],!1),a,"h").write('"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["fullName"],!1),a,"h",["et","s"]).write('\x3c/span\x3e\x3cspan class\x3d"person-icon ').reference(a.get(["imgSize"],
!1),a,"h").exists(a.get(["squareImg"],!1),a,{block:u},{}).write('"\x3e\x3c/span\x3e\x3c/div\x3e')}function u(b,a){return b.write(" square")}function t(b,a){return b.helper("mprImg",a,{},{lazyLoad:a.get(["lazyLoadImages"],!1),mediaId:a.get(["pictureId"],!1),size:"100",alt:v,"class":w})}function v(b,a){return b.reference(a.get(["fullName"],!1),a,"h",["et","s"])}function w(b,a){return b.write("profile-pic img-").reference(a.get(["$idx"],!1),a,"h")}function r(b,a){return b.write("\x3cimg ").exists(a.get(["lazyLoadImages"],
!1),a,{"else":x,block:y},{}).write('\x3d"').reference(a.get(["imageUrl"],!1),a,"h").write('" height\x3d"100" width\x3d"100" alt\x3d"').reference(a.get(["fullName"],!1),a,"h",["et","s"]).write('" class\x3d"profile-pic img-').reference(a.get(["$idx"],!1),a,"h").write('"/\x3e')}function x(b,a){return b.write("src")}function y(b,a){return b.write("data-delayed-url")}function p(b,a){return b.write('\x3cdiv class\x3d"people-left"\x3e').helper("i18n",a,{},{key:"i18n_plus_number_of_people",doc:"if 6 people are left to show in the group, this will be '+6'",
templateName:"templates/thread-detail/participants/one-to-many"}).write('\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["fullName"],!1),a,"h",["et","s"]).write("\x3c/span\x3e\x3c/div\x3e")}function g(b,a){return b.section(a.get(["recipients"],!1),a,{block:z},{})}function z(b,a){return b.helper("format",a,{},{type:"name.familiar",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1)}).helper("sep",a,{block:A},{})}function A(b,a){return b.write(", ")}function h(b,a){return b.helper("gt",
a,{"else":B,block:C},{key:a.get(["peopleLeft"],!1),value:0})}function B(b,a){return b.helper("i18n",a,{},{key:"i18n_names",doc:"Alice, Bob, Sherman",filters:"mk|s",names:D,templateName:"templates/thread-detail/participants/one-to-many"})}function D(b,a){return b.reference(a.get(["recipientNames"],!1),a,"h",["mk","s"])}function C(b,a){return b.helper("addToContext",a,{block:E},{name:"peopleRemaining"}).helper("i18n",a,{},{key:"i18n_names_and_more",doc:"Alice, Bob, Sherman, +6",filters:"mk|s",others:F,
names:G,templateName:"templates/thread-detail/participants/one-to-many"}).write('\x3csvg class\x3d"chevron-down-icon icon"\x3e\x3cuse xlink:href\x3d"#chevron-down-icon" data-size\x3d"small" y\x3d"6"\x3e\x3c/use\x3e\x3c/svg\x3e')}function E(b,a){return b.write("+").reference(a.get(["peopleLeft"],!1),a,"h")}function F(b,a){return b.reference(a.get(["peopleRemaining"],!1),a,"h",["mk","s"])}function G(b,a){return b.reference(a.get(["recipientNames"],!1),a,"h",["mk","s"])}function k(b,a){return b.reference(a.get(["threadName"],
!1),a,"h")}dust.register("templates/thread-detail/participants/one-to-many",c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/participants/one-to-many"]={i18n_conversation_muted:"Don't notify me about messages",i18n_conversation_mention:"Notify me if I am mentioned",i18n_participant_list_open_action:"Open list of participants"}})();
(function(){function c(c,d){return c.reference(d.get(["totalRecipients"],!1),d,"h").write(" recipients in this conversation")}dust.register("__i18n__templates/thread-detail/participants/one-to-many__i18n_num_of_recipients",c);return c})();(function(){function c(c,d){return c.write("+").reference(d.get(["peopleLeft"],!1),d,"h")}dust.register("__i18n__templates/thread-detail/participants/one-to-many__i18n_plus_number_of_people",c);return c})();
(function(){function c(c,d){return c.reference(d.get(["names"],!1),d,"h").write(", ").reference(d.get(["others"],!1),d,"h")}dust.register("__i18n__templates/thread-detail/participants/one-to-many__i18n_names_and_more",c);return c})();(function(){function c(c,d){return c.reference(d.get(["names"],!1),d,"h")}dust.register("__i18n__templates/thread-detail/participants/one-to-many__i18n_names",c);return c})();
(function(){function c(b,a){return b.helper("i18n",a,{},{key:"i18n_select_any_message_to_perform_action",output:"json",templateName:"templates/thread-detail/prompts/base"}).helper("i18n",a,{},{key:"i18n_num_messages_selected",output:"json",templateName:"templates/thread-detail/prompts/base"}).write('\x3cdiv class\x3d"').reference(a.get(["promptType"],!1),a,"h").write(' prompt"\x3e').helper("gt",a,{"else":e,block:f},{key:g,value:"0"}).write("\x3c/div\x3e").partial("templates/shared/partials/_error-container",
a,{})}function e(b,a){return b.write('\x3cdiv class\x3d"no-messages-selected"\x3e\x3cp class\x3d"prompt-text"\x3e').block(a.getBlock("noMessagesSelectedText"),a,{block:d},{}).write('\x3c/p\x3e\x3cdiv class\x3d"actions"\x3e').block(a.getBlock("noMessagesSelectedActions"),a,{},{}).partial("templates/shared/partials/actions/_cancel-action",a,{}).write("\x3c/div\x3e\x3c/div\x3e")}function d(b,a){return b.helper("i18n",a,{},{key:"i18n_select_any_message_to_perform_action",templateName:"templates/thread-detail/prompts/base"})}
function f(b,a){return b.write('\x3cdiv class\x3d"messages-selected"\x3e\x3cp class\x3d"prompt-text"\x3e').block(a.getBlock("messagesSelectedText"),a,{block:h},{}).write('\x3c/p\x3e\x3cdiv class\x3d"actions"\x3e').partial("templates/shared/partials/actions/_cancel-action",a,{}).block(a.getBlock("messagesSelectedActions"),a,{},{}).write("\x3c/div\x3e\x3c/div\x3e")}function h(b,a){return b.helper("i18n",a,{},{key:"i18n_num_messages_selected",templateName:"templates/thread-detail/prompts/base"})}function g(b,
a){return b.reference(a.get(["messagesSelected"],!1),a,"h")}dust.register("templates/thread-detail/prompts/base",c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/prompts/base"]={i18n_select_any_message_to_perform_action:"Select any message to perform an action."}})();
(function(){function c(c,d){return c.reference(d.get(["messagesSelected"],!1),d,"h").write(" ").helper("choice",d,{},{key:d.get(["messagesSelected"],!1),singular:"message",plural:"messages"}).write(" selected")}dust.register("__i18n__templates/thread-detail/prompts/base__i18n_num_messages_selected",c);return c})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.partial("templates/thread-detail/prompts/base",a,{promptType:"bulk-forward"})}dust.register("templates/thread-detail/prompts/bulk-forward",c);var d={messagesSelectedActions:function(b,a){a=a.shiftBlocks(d);return b.partial("templates/shared/partials/actions/_forward-action",a,{isPrimaryAction:"true"})}};return c})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.partial("templates/thread-detail/prompts/base",a,{promptType:"bulk-spam"})}dust.register("templates/thread-detail/prompts/bulk-spam",c);var d={messagesSelectedActions:function(b,a){a=a.shiftBlocks(d);return b.partial("templates/shared/partials/actions/_report-as-spam-action",a,{isPrimaryAction:"true"})}};return c})();
(function(){function d(b,a){a=a.shiftBlocks(c);return b.helper("addToContext",a,{block:f},{name:"senderName"}).exists(a.get(["isNewDate"],!1),a,{block:g},{}).write('\x3cdiv class\x3d"selectable-area"\x3e\x3cdiv class\x3d"selectable-option"\x3e\x3cinput type\x3d"checkbox" id\x3d"selectable-').reference(a.get(["id"],!1),a,"h").write('" class\x3d"selectable-checkbox"/\x3e\x3clabel for\x3d"selectable-').reference(a.get(["id"],!1),a,"h").write('" class\x3d"selectable-label"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_select_message",templateName:"templates/thread-detail/message-types/base"}).write('\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"message-info"\x3e\x3cdiv class\x3d"sender-icon-container"\x3e').helper("gt",a,{block:h},{key:a.get(["recipientsCount"],!1),value:"1"}).write('\x3c/div\x3e\x3cdiv class\x3d"other-info"\x3e').exists(a.get(["isNewGroup"],!1),a,{block:k},{}).block(a.getBlock("beforeMessage"),a,{},{}).write('\x3cdiv class\x3d"message-container ').exists(a.get(["isSpam"],
!1),a,{"else":l,block:m},{}).write('" data-id\x3d"').reference(a.get(["id"],!1),a,"h").write('"\x3e\x3ch4\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("select",a,{block:n},{key:a.get(["dateFormatter"],!1)}).write("\x3c/span\x3e").exists(a.get(["isSpam"],!1),a,{"else":p,block:q},{}).write("\x3c/h4\x3e\x3c/div\x3e").exists(a.get(["isNew"],!1),a,{block:r},{}).write('\x3ctime class\x3d"timestamp"\x3e').helper("format",a,{},{type:"time.hm",key:"fmt_time_msg",date:a.get(["timestamp"],!1),useTimeZone:"true"}).write("\x3c/time\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}
function f(b,a){a=a.shiftBlocks(c);return b.section(a.get(["sender"],!1),a,{block:e},{})}function e(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},{type:"name.full",key:"senderFullName",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1)})}function g(b,a){a=a.shiftBlocks(c);return b.write('\x3cdiv class\x3d"date-info"\x3e').partial("templates/shared/partials/_date",a,{}).write("\x3c/div\x3e")}function h(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["isNewGroup"],!1),a,{block:s},
{})}function s(b,a){a=a.shiftBlocks(c);return b.section(a.get(["sender"],!1),a,{block:t},{})}function t(b,a){a=a.shiftBlocks(c);return b.notexists(a.get(["isCurrentUser"],!1),a,{block:u},{})}function u(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},{type:"name.full",key:"senderFullName",output:"json",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1)}).exists(a.get(["pictureId"],!1),a,{"else":v,block:w},{})}function v(b,a){a=a.shiftBlocks(c);return b.write('\x3cdiv class\x3d"profile-pic"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["senderFullName"],
!1),a,"h",["et","s"]).write('\x3c/span\x3e\x3cspan class\x3d"person-icon small"\x3e\x3c/span\x3e\x3c/div\x3e')}function w(b,a){a=a.shiftBlocks(c);return b.helper("mprImg",a,{},{lazyLoad:a.get(["lazyLoadImages"],!1),mediaId:a.get(["pictureId"],!1),size:"100",alt:a.get(["senderFullName"],!1),"class":"profile-pic"})}function k(b,a){a=a.shiftBlocks(c);return b.write('\x3cspan class\x3d"name"\x3e').helper("format",a,{},{type:"name.familiar",key:"familiarName",firstName:a.getPath(!1,["sender","firstName"]),
lastName:a.getPath(!1,["sender","lastName"]),output:"json"}).reference(a.get(["familiarName"],!1),a,"h",["et","s"]).write("\x3c/span\x3e")}function l(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["stickers"],!1),a,{block:x},{})}function x(b,a){a.shiftBlocks(c);return b.write("stickers")}function m(b,a){a.shiftBlocks(c);return b.write("spam")}function n(b,a){a=a.shiftBlocks(c);return b.helper("eq",a,{block:y},{value:"today"}).helper("eq",a,{block:z},{value:"yesterday"}).helper("default",a,{block:A},
{})}function y(b,a){a=a.shiftBlocks(c);return b.helper("addToContext",a,{block:B},{name:"hourAndMinute"}).helper("i18n",a,{},{key:"i18n_message_identifier_today",templateName:"templates/thread-detail/message-types/base"})}function B(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},{type:"time.hm",key:"fmt_time_msg",date:a.get(["timestamp"],!1),useTimeZone:"true"})}function z(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_message_identifier_yesterday",templateName:"templates/thread-detail/message-types/base"})}
function A(b,a){a=a.shiftBlocks(c);return b.helper("addToContext",a,{block:C},{name:"dayMonthYear"}).helper("i18n",a,{},{key:"i18n_message_identifier_before_today",templateName:"templates/thread-detail/message-types/base"})}function C(b,a){a=a.shiftBlocks(c);return b.helper("format",a,{},{type:D,key:"fmt_date_msg",date:a.get(["timestamp"],!1),useTimeZone:"true"})}function D(b,a){a=a.shiftBlocks(c);return b.reference(a.get(["dateFormatter"],!1),a,"h")}function p(b,a){a=a.shiftBlocks(c);return b.block(a.getBlock("bodyContent"),
a,{block:E},{}).section(a.get(["shareContent"],!1),a,{block:F},{})}function E(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["stickers"],!1),a,{"else":G,block:H},{})}function G(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["body"],!1),a,{block:I},{}).write('\x3cdiv class\x3d"message-attachments-region"\x3e\x3c/div\x3e')}function I(b,a){a=a.shiftBlocks(c);return b.write('\x3cp class\x3d"message-body"\x3e').partial("templates/shared/partials/_annotated-content",a,{}).write("\x3c/p\x3e")}function H(b,
a){a=a.shiftBlocks(c);return b.write('\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_a11y_sticker_message",templateName:"templates/thread-detail/message-types/base"}).write("\x3c/span\x3e").section(a.get(["stickers"],!1),a,{block:J},{})}function J(b,a){a=a.shiftBlocks(c);return b.write('\x3cimg class\x3d"sticker" ').exists(a.get(["lazyLoadImages"],!1),a,{"else":K,block:L},{}).write('\x3d"').reference(a.get(["url"],!1),a,"h").write('" alt\x3d"').reference(a.get(["id"],!1),
a,"h").write('"/\x3e')}function K(b,a){a.shiftBlocks(c);return b.write("src")}function L(b,a){a.shiftBlocks(c);return b.write("data-delayed-url")}function F(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["url"],!1),a,{block:M},{})}function M(b,a){a=a.shiftBlocks(c);return b.write('\x3ca href\x3d"').helper("sanitizeUrl",a,{},{url:a.get(["url"],!1)}).write('" class\x3d"share-content" target\x3d"_blank"\x3e').exists(a.get(["imageUrl"],!1),a,{block:N},{}).write('\x3cdiv class\x3d"share-info"\x3e').exists(a.get(["title"],
!1),a,{block:O},{}).write('\x3cdiv class\x3d"snippet"\x3e').exists(a.get(["source"],!1),a,{block:P},{}).exists(a.get(["description"],!1),a,{block:Q},{}).write("\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e")}function N(b,a){a=a.shiftBlocks(c);return b.write('\x3cdiv class\x3d"share-img-container"\x3e\x3cimg ').exists(a.get(["lazyLoadImages"],!1),a,{"else":R,block:S},{}).write('\x3d"').reference(a.get(["imageUrl"],!1),a,"h").write('" alt\x3d"').reference(a.get(["title"],!1),a,"h").write('" class\x3d"share-img"/\x3e\x3c/div\x3e')}
function R(b,a){a.shiftBlocks(c);return b.write("src")}function S(b,a){a.shiftBlocks(c);return b.write("data-delayed-url")}function O(b,a){a=a.shiftBlocks(c);return b.write('\x3ch4 class\x3d"title"\x3e').reference(a.get(["title"],!1),a,"h").write("\x3c/h4\x3e")}function P(b,a){a=a.shiftBlocks(c);return b.write('\x3cp class\x3d"source"\x3e').reference(a.get(["source"],!1),a,"h").write("\x3c/p\x3e")}function Q(b,a){a=a.shiftBlocks(c);return b.exists(a.get(["source"],!1),a,{block:T},{}).write('\x3cp class\x3d"description"\x3e').reference(a.get(["description"],
!1),a,"h").write("\x3c/p\x3e")}function T(b,a){a.shiftBlocks(c);return b.write('\x3cp class\x3d"source-separator"\x3e\x26mdash;\x3c/p\x3e')}function q(b,a){a=a.shiftBlocks(c);return b.write('\x3cp class\x3d"message-body"\x3e\x3csvg class\x3d"spam-icon icon"\x3e\x3cuse xlink:href\x3d"#block-icon"\x3e\x3c/use\x3e\x3c/svg\x3e').helper("i18n",a,{},{key:"i18n_marked_as_spam",templateName:"templates/thread-detail/message-types/base"}).write("\x3c/p\x3e")}function r(b,a){a=a.shiftBlocks(c);return b.partial("templates/shared/partials/_error-container",
a,{errorMsg:a.get(["errorMsg"],!1)})}dust.register("templates/thread-detail/message-types/base",d);var c={errorMsg:function(b,a){a=a.shiftBlocks(c);return b.helper("i18n",a,{},{key:"i18n_send_error_msg",filter:"mk|s",templateName:"templates/thread-detail/message-types/base"})}};return d})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/message-types/base"]={i18n_marked_as_spam:"This message has been reported as spam.",i18n_a11y_sticker_message:"This is a sticker message",i18n_send_error_msg:'We could not send your message. \x3cbutton class\x3d"retry-container retry-send"\x3eRetry\x3c/button\x3e'}})();
(function(){function d(d,e){return d.write("Select message from ").reference(e.get(["senderName"],!1),e,"h").write(" that says ").reference(e.getPath(!1,["annotatedContent","0","value"]),e,"h").write(".")}dust.register("__i18n__templates/thread-detail/message-types/base__i18n_select_message",d);return d})();
(function(){function d(d,e){return d.write("At ").reference(e.get(["hourAndMinute"],!1),e,"h").write(", ").reference(e.get(["senderName"],!1),e,"h").write(" said the following:")}dust.register("__i18n__templates/thread-detail/message-types/base__i18n_message_identifier_today",d);return d})();
(function(){function d(d,e){return d.write("Yesterday, ").reference(e.get(["senderName"],!1),e,"h").write(" said the following:")}dust.register("__i18n__templates/thread-detail/message-types/base__i18n_message_identifier_yesterday",d);return d})();
(function(){function d(d,e){return d.write("On ").reference(e.get(["dayMonthYear"],!1),e,"h").write(", ").reference(e.get(["senderName"],!1),e,"h").write(" said the following:")}dust.register("__i18n__templates/thread-detail/message-types/base__i18n_message_identifier_before_today",d);return d})();
(function(){function b(c,a){a=a.shiftBlocks(d);return c.partial("templates/thread-detail/message-types/base",a,{})}function f(c,a){a=a.shiftBlocks(d);return c.write('\x3cp class\x3d"details"\x3e\x3csvg class\x3d"in-common-icon"\x3e\x3cuse xlink:href\x3d"#in-common-icon"\x3e\x3c/use\x3e\x3c/svg\x3e').helper("i18n",a,{},{key:"i18n_you_are_both_part_of_group",group:e,filters:"mk|s",templateName:"templates/thread-detail/message-types/group"}).write("\x3c/p\x3e")}function e(c,a){a=a.shiftBlocks(d);return c.reference(a.get(["groupName"],
!1),a,"h",["et","s"])}dust.register("templates/thread-detail/message-types/group",b);var d={beforeMessage:function(c,a){a=a.shiftBlocks(d);return c.section(a.getPath(!1,["customContent","group"]),a,{block:f},{})}};return b})();
(function(){function b(b,e){return b.write('You are both members of \x3cspan class\x3d"group-name"\x3e').reference(e.get(["group"],!1),e,"h").write("\x3c/span\x3e on LinkedIn.")}dust.register("__i18n__templates/thread-detail/message-types/group__i18n_you_are_both_part_of_group",b);return b})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.partial("templates/thread-detail/message-types/base",a,{})}function e(c,a){a=a.shiftBlocks(d);return c.write('\x3cspan class\x3d"intro"\x3e\x3csvg class\x3d"icon"\x3e\x3cuse xlink:href\x3d"#follow-person-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e').helper("format",a,{},{type:"name.full",key:"introMemberFullName",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1),output:"json"}).exists(a.get(["isCurrentUser"],!1),a,
{"else":b,block:f},{}).write("\x3c/span\x3e")}function b(b,a){a=a.shiftBlocks(d);return b.helper("format",a,{},{type:"name.familiar",key:"senderFamiliarName",firstName:a.getPath(!1,["sender","firstName"]),lastName:a.getPath(!1,["sender","lastName"]),output:"json"}).helper("i18n",a,{},{key:"i18n_intro_from_other",filter:"|mk|s",templateName:"templates/thread-detail/message-types/intro"})}function f(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_intro_from_you",filter:"|mk|s",templateName:"templates/thread-detail/message-types/intro"})}
dust.register("templates/thread-detail/message-types/intro",c);var d={bodyContent:function(b,a){a=a.shiftBlocks(d);return b.write('\x3cp class\x3d"message-body"\x3e').section(a.getPath(!1,["customContent","intro","member"]),a,{block:e},{}).reference(a.get(["subject"],!1),a,"h").write(" ").reference(a.get(["body"],!1),a,"h").write("\x3c/p\x3e")}};return c})();
(function(){function c(c,b){return c.write('You want to get introduced to \x3ca href\x3d"').reference(b.get(["profileUrl"],!1),b,"h").write('" class\x3d"name" target\x3d"_blank" data-pv-key\x3d"wonton-profile-view"\x3e').reference(b.get(["introMemberFullName"],!1),b,"h").write("\x3c/a\x3e")}dust.register("__i18n__templates/thread-detail/message-types/intro__i18n_intro_from_you",c);return c})();
(function(){function c(c,b){return c.reference(b.get(["senderFamiliarName"],!1),b,"h").write(' wants to get introduced to \x3ca href\x3d"').reference(b.get(["profileUrl"],!1),b,"h").write('" class\x3d"name" target\x3d"_blank" data-pv-key\x3d"wonton-profile-view"\x3e').reference(b.get(["introMemberFullName"],!1),b,"h").write("\x3c/a\x3e")}dust.register("__i18n__templates/thread-detail/message-types/intro__i18n_intro_from_other",c);return c})();
(function(){function c(b,a){return b.write('\x3cdiv class\x3d"selectable-area"\x3e\x3cdiv class\x3d"selectable-option"\x3e\x3cinput type\x3d"checkbox" id\x3d"selectable-').reference(a.get(["id"],!1),a,"h").write('" class\x3d"selectable-checkbox"/\x3e\x3clabel for\x3d"selectable-').reference(a.get(["id"],!1),a,"h").write('" class\x3d"selectable-label"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("addToContext",a,{block:e},{name:"senderName"}).helper("i18n",a,{},{key:"i18n_select_message",
templateName:"templates/thread-detail/message-types/inmail"}).write('\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"message-info"\x3e\x3cdiv class\x3d"details"\x3e\x3ctime class\x3d"timestamp"\x3e').helper("addToContext",a,{block:f},{name:"relativeDateTime"}).helper("i18n",a,{},{key:"i18n_relative_date_and_time",templateName:"templates/thread-detail/message-types/inmail"}).write("\x3c/time\x3e\x3c/div\x3e").exists(a.get(["isSpam"],!1),a,{"else":g,block:h},{}).write("\x3c/div\x3e\x3c/div\x3e").section(a.getPath(!1,
["customContent","inmail","salesFooter"]),a,{block:k},{})}function e(b,a){return b.section(a.get(["sender"],!1),a,{block:d},{})}function d(b,a){return b.helper("format",a,{},{type:"name.full",key:"senderFullName",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1)})}function f(b,a){return b.partial("templates/shared/partials/_date",a,{}).write(", ").helper("format",a,{},{type:"time.hm",key:"fmt_time_msg",date:a.get(["timestamp"],!1),useTimeZone:"true"})}function g(b,a){return b.write('\x3cp class\x3d"subject"\x3e').reference(a.get(["subject"],
!1),a,"h").write('\x3c/p\x3e\x3cp class\x3d"message-body"\x3e').partial("templates/shared/partials/_annotated-content",a,{}).write("\x3c/p\x3e").section(a.getPath(!1,["customContent","inmail"]),a,{block:l},{}).write('\x3cdiv class\x3d"message-attachments-region"\x3e\x3c/div\x3e')}function l(b,a){return b.write('\x3cdiv class\x3d"contact"\x3e').exists(a.get(["senderEmail"],!1),a,{block:m},{}).exists(a.get(["senderTelephone"],!1),a,{block:n},{}).write("\x3c/div\x3e")}function m(b,a){return b.write('\x3cp class\x3d"contact-field email"\x3e').reference(a.get(["senderEmail"],
!1),a,"h").write("\x3c/p\x3e")}function n(b,a){return b.write('\x3cp class\x3d"contact-field phone"\x3e').reference(a.get(["senderTelephone"],!1),a,"h").write("\x3c/p\x3e")}function h(b,a){return b.write('\x3cp class\x3d"message-body"\x3e\x3csvg class\x3d"spam-icon icon"\x3e\x3cuse xlink:href\x3d"#block-icon"\x3e\x3c/use\x3e\x3c/svg\x3e').helper("i18n",a,{},{key:"i18n_marked_as_spam",templateName:"templates/thread-detail/message-types/inmail"}).write("\x3c/p\x3e")}function k(b,a){return b.write('\x3cdiv class\x3d"disclaimer"\x3e\x3cp class\x3d"lss-footer-body"\x3e').reference(a.getPath(!1,
["mainText","text"]),a,"h").write('\x3c/p\x3e\x3cbutton class\x3d"lss-unsubscribe"\x3e').reference(a.getPath(!1,["unsubscribeText","text"]),a,"h").write("\x3c/button\x3e\x3c/div\x3e")}dust.register("templates/thread-detail/message-types/inmail",c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/message-types/inmail"]={i18n_marked_as_spam:"This message has been reported as spam."}})();
(function(){function c(c,d){return c.write("Select message from ").reference(d.get(["senderName"],!1),d,"h").write(" that says ").reference(d.getPath(!1,["annotatedContent","0","value"]),d,"h").write(".")}dust.register("__i18n__templates/thread-detail/message-types/inmail__i18n_select_message",c);return c})();(function(){function c(c,d){return c.reference(d.get(["relativeDateTime"],!1),d,"h")}dust.register("__i18n__templates/thread-detail/message-types/inmail__i18n_relative_date_and_time",c);return c})();
(function(){function c(b,a){return b.exists(a.get(["isNewDate"],!1),a,{block:e},{}).write('\x3cdiv class\x3d"message-container"\x3e\x3cp class\x3d"message-body"\x3e\x3csvg class\x3d"add-people-icon icon"\x3e\x3cuse xlink:href\x3d"#connect-icon" data-size\x3d"small" y\x3d"6"\x3e\x3c/use\x3e\x3c/svg\x3e').helper("format",a,{},{type:"name.full",key:"senderFullName",firstName:a.getPath(!1,["sender","firstName"]),lastName:a.getPath(!1,["sender","lastName"]),output:"json"}).notexists(a.get(["addedYou"],
!1),a,{"else":d,block:f},{}).write("\x3c/p\x3e").exists(a.get(["sharedHistory"],!1),a,{block:g},{}).write("\x3c/div\x3e")}function e(b,a){return b.write('\x3cdiv class\x3d"date-info"\x3e').partial("templates/shared/partials/_date",a,{}).write("\x3c/div\x3e")}function d(b,a){return b.helper("i18n",a,{},{key:"i18n_user_added_you_to_conversation",senderName:h,filters:"mk|s",templateName:"templates/thread-detail/message-types/person-added"})}function h(b,a){return b.reference(a.get(["senderFullName"],
!1),a,"h",["et","s"])}function f(b,a){return b.helper("addToContext",a,{block:k},{name:"newParticipantsString"}).exists(a.get(["isCurrentUser"],!1),a,{"else":l,block:m},{})}function k(b,a){return b.section(a.get(["newParticipants"],!1),a,{block:n},{})}function n(b,a){return b.helper("format",a,{},{type:"name.full",key:"fullName",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1),output:"json"}).write('\x3ca href\x3d"').reference(a.get(["profileUrl"],!1),a,"h").write('" class\x3d"name" target\x3d"_blank"\x3e').reference(a.get(["fullName"],
!1),a,"h").write("\x3c/a\x3e").helper("sep",a,{block:p},{})}function p(b,a){return b.write(", ")}function l(b,a){return b.helper("i18n",a,{},{key:"i18n_user_added_people_to_conversation",senderName:q,names:r,filters:"mk|s",templateName:"templates/thread-detail/message-types/person-added"})}function q(b,a){return b.reference(a.get(["senderFullName"],!1),a,"h",["et","s"])}function r(b,a){return b.reference(a.get(["newParticipantsString"],!1),a,"h",["mk","s"])}function m(b,a){return b.helper("i18n",
a,{},{key:"i18n_you_added_people_to_conversation",names:s,filters:"mk|s",templateName:"templates/thread-detail/message-types/person-added"})}function s(b,a){return b.reference(a.get(["newParticipantsString"],!1),a,"h",["mk","s"])}function g(b,a){return b.write('\x3cp class\x3d"message-body"\x3e').helper("i18n",a,{},{key:"i18n_conversation_history_was_shared",templateName:"templates/thread-detail/message-types/person-added"}).write("\x3c/p\x3e")}dust.register("templates/thread-detail/message-types/person-added",
c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/message-types/person-added"]={i18n_conversation_history_was_shared:"All of the conversation's history was shared"}})();(function(){function c(c,d){return c.write("You added ").reference(d.get(["names"],!1),d,"h").write(" to the conversation")}dust.register("__i18n__templates/thread-detail/message-types/person-added__i18n_you_added_people_to_conversation",c);return c})();
(function(){function c(c,d){return c.reference(d.get(["senderName"],!1),d,"h").write(" added ").reference(d.get(["names"],!1),d,"h").write(" to the conversation")}dust.register("__i18n__templates/thread-detail/message-types/person-added__i18n_user_added_people_to_conversation",c);return c})();
(function(){function c(c,d){return c.write('\x3ca href\x3d"').reference(d.getPath(!1,["sender","profileUrl"]),d,"h").write('" class\x3d"name"\x3e').reference(d.get(["senderName"],!1),d,"h").write("\x3c/a\x3e added you to the conversation")}dust.register("__i18n__templates/thread-detail/message-types/person-added__i18n_user_added_you_to_conversation",c);return c})();
(function(){function c(b,a){return b.exists(a.get(["isNewDate"],!1),a,{block:e},{}).write('\x3cdiv class\x3d"message-container"\x3e\x3cp class\x3d"message-body"\x3e\x3csvg class\x3d"remove-people-icon icon"\x3e\x3cuse xlink:href\x3d"#leave-icon" data-size\x3d"small" y\x3d"5"\x3e\x3c/use\x3e\x3c/svg\x3e').helper("addToContext",a,{block:d},{name:"removedParticipantsString"}).exists(a.get(["isCurrentUser"],!1),a,{"else":f,block:g},{}).write("\x3c/p\x3e\x3c/div\x3e")}function e(b,a){return b.write('\x3cdiv class\x3d"date-info"\x3e').partial("templates/shared/partials/_date",
a,{}).write("\x3c/div\x3e")}function d(b,a){return b.section(a.get(["removedParticipants"],!1),a,{block:h},{})}function h(b,a){return b.helper("format",a,{},{type:"name.full",key:"fullName",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1),output:"json"}).reference(a.get(["fullName"],!1),a,"h",["et","s"]).helper("sep",a,{block:k},{})}function k(b,a){return b.write(", ")}function f(b,a){return b.helper("i18n",a,{},{key:"i18n_others_left_the_conversation",names:l,filters:"et|s",templateName:"templates/thread-detail/message-types/person-removed"})}
function l(b,a){return b.reference(a.get(["removedParticipantsString"],!1),a,"h",["et","s"])}function g(b,a){return b.helper("i18n",a,{},{key:"i18n_you_left_the_conversation",filters:"et|s",templateName:"templates/thread-detail/message-types/person-removed"})}dust.register("templates/thread-detail/message-types/person-removed",c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/message-types/person-removed"]={i18n_you_left_the_conversation:"You left this conversation"}})();
(function(){function c(c,d){return c.reference(d.get(["names"],!1),d,"h").write(" left the conversation")}dust.register("__i18n__templates/thread-detail/message-types/person-removed__i18n_others_left_the_conversation",c);return c})();
(function(){function a(a,b){return a.partial("templates/thread-detail/message-types/base",b,{})}dust.register("templates/thread-detail/message-types/job-referral",a);return a})();
(function(){function a(a,b){return a.write("\x3cp\x3e").helper("i18n",b,{},{key:"i18n_sorry_unsupported_type",templateName:"templates/thread-detail/message-types/unsupported"}).write("\x3c/p\x3e")}dust.register("templates/thread-detail/message-types/unsupported",a);return a})();
(function(){function a(a,b){return a.write("Sorry, message type ").reference(b.get(["unsupportedType"],!1),b,"h").write(" is not supported in this mailbox.")}dust.register("__i18n__templates/thread-detail/message-types/unsupported__i18n_sorry_unsupported_type",a);return a})();
(function(){function b(b,c){return b.exists(c.get(["isNewDate"],!1),c,{block:d},{}).helper("format",c,{},{type:"name.full",key:"senderFullName",firstName:c.getPath(!1,["sender","firstName"]),lastName:c.getPath(!1,["sender","lastName"]),output:"json"}).write('\x3cdiv class\x3d"message-container name-updated"\x3e\x3cp class\x3d"message-body"\x3e\x3csvg class\x3d"pencil-icon"\x3e\x3cuse xlink:href\x3d"#pencil-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e').exists(c.get(["isCurrentUser"],!1),
c,{"else":a,block:e},{}).write("\x3c/p\x3e\x3c/div\x3e")}function d(a,c){return a.write('\x3cdiv class\x3d"date-info"\x3e').partial("templates/shared/partials/_date",c,{}).write("\x3c/div\x3e")}function a(a,c){return a.helper("i18n",c,{},{key:"i18n_user_updated_thread_name",filter:"mk|s",templateName:"templates/thread-detail/message-types/thread-name-updated"})}function e(a,c){return a.helper("i18n",c,{},{key:"i18n_you_updated_thread_name",filter:"mk|s",templateName:"templates/thread-detail/message-types/thread-name-updated"})}
dust.register("templates/thread-detail/message-types/thread-name-updated",b);return b})();(function(){function b(b,a){return b.write('\x3cspan class\x3d"name no-link"\x3eYou\x3c/span\x3e changed the name of this conversation to \x3cspan class\x3d"name no-link"\x3e').reference(a.get(["subject"],!1),a,"h").write("\x3c/span\x3e")}dust.register("__i18n__templates/thread-detail/message-types/thread-name-updated__i18n_you_updated_thread_name",b);return b})();
(function(){function b(b,a){return b.write('\x3ca href\x3d"').reference(a.getPath(!1,["sender","profileUrl"]),a,"h").write('" class\x3d"name" target\x3d"_blank"\x3e').reference(a.get(["senderFullName"],!1),a,"h").write('\x3c/a\x3e changed the name of this conversation to \x3cspan class\x3d"name no-link"\x3e').reference(a.get(["subject"],!1),a,"h").write("\x3c/span\x3e")}dust.register("__i18n__templates/thread-detail/message-types/thread-name-updated__i18n_user_updated_thread_name",b);return b})();
(function(){function a(a,b){return a.helper("format",b,{},{type:"name.full",key:"recipientFullName",firstName:b.getPath(!1,["recipients","0","firstName"]),lastName:b.getPath(!1,["recipients","0","lastName"]),output:"json"}).helper("format",b,{},{type:"name.full",key:"senderFullName",firstName:b.getPath(!1,["sender","firstName"]),lastName:b.getPath(!1,["sender","lastName"]),output:"json"}).exists(b.get(["isNewDate"],!1),b,{block:d},{}).write('\x3cdiv class\x3d"message-container accepted-invitation"\x3e\x3cp class\x3d"message-body"\x3e').exists(b.get(["isCurrentUser"],
!1),b,{"else":c,block:e},{}).write("\x3c/p\x3e\x3c/div\x3e")}function d(a,b){return a.write('\x3cdiv class\x3d"date-info"\x3e').partial("templates/shared/partials/_date",b,{}).write("\x3c/div\x3e")}function c(a,b){return a.helper("i18n",b,{},{key:"i18n_accepted_invitation",filter:"mk|s",templateName:"templates/thread-detail/message-types/accepted-invitation"})}function e(a,b){return a.helper("i18n",b,{},{key:"i18n_now_connection",filter:"mk|s",templateName:"templates/thread-detail/message-types/accepted-invitation"})}
dust.register("templates/thread-detail/message-types/accepted-invitation",a);return a})();(function(){function a(a,c){return a.write('\x3cstrong class\x3d"connection-name"\x3e').reference(c.get(["recipientFullName"],!1),c,"h").write("\x3c/strong\x3e is now a connection.")}dust.register("__i18n__templates/thread-detail/message-types/accepted-invitation__i18n_now_connection",a);return a})();
(function(){function a(a,c){return a.write('\x3cstrong class\x3d"connection-name"\x3e').reference(c.get(["senderFullName"],!1),c,"h").write("\x3c/strong\x3e accepted your invitation.")}dust.register("__i18n__templates/thread-detail/message-types/accepted-invitation__i18n_accepted_invitation",a);return a})();
(function(){function c(b,a){return b.write('\x3cdiv class\x3d"sponsored-inmail-sender participant-info" tabindex\x3d"0"\x3e').section(a.get(["sender"],!1),a,{block:d},{}).write("\x3c/div\x3e")}function d(b,a){return b.helper("format",a,{},{type:"name.full",key:"fullName",output:"json",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1)}).exists(a.get(["imageUrl"],!1),a,{"else":e,block:f},{}).write('\x3cdiv class\x3d"participant-meta"\x3e\x3ch2 class\x3d"name"\x3e').reference(a.get(["fullName"],
!1),a,"h",["et","s"]).write("\x3c/h2\x3e\x3c/div\x3e")}function e(b,a){return b.exists(a.get(["pictureId"],!1),a,{"else":g,block:h},{})}function g(b,a){return b.write('\x3cdiv class\x3d"profile-pic"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["fullName"],!1),a,"h",["et","s"]).write('\x3c/span\x3e\x3cspan class\x3d"person-icon square small"\x3e\x3c/span\x3e\x3c/div\x3e')}function h(b,a){return b.helper("mprImg",a,{},{lazyLoad:a.get(["lazyLoadImages"],!1),mediaId:a.get(["pictureId"],
!1),size:"100",alt:k,"class":"profile-pic"})}function k(b,a){return b.reference(a.get(["fullName"],!1),a,"h",["et","s"])}function f(b,a){return b.write("\x3cimg ").exists(a.get(["lazyLoadImages"],!1),a,{"else":l,block:m},{}).write('\x3d"').reference(a.get(["imageUrl"],!1),a,"h").write('" height\x3d"100" width\x3d"100" alt\x3d"').reference(a.get(["fullName"],!1),a,"h",["et","s"]).write('" class\x3d"profile-pic"/\x3e')}function l(b,a){return b.write("src")}function m(b,a){return b.write("data-delayed-url")}
dust.register("templates/thread-detail/sponsored-inmail/sponsored-inmail-sender",c);return c})();
(function(){function a(a,b){return a.partial("templates/shared/partials/_loader",b,{})}dust.register("templates/thread-detail/sponsored-inmail/sponsored-inmail-detail",a);return a})();
(function(){function b(b,a){return b.helper("i18n",a,{},{key:"i18n_bytes",output:"json",templateName:"templates/thread-detail/attachments/single-attachment"}).helper("i18n",a,{},{key:"i18n_kilobytes",output:"json",templateName:"templates/thread-detail/attachments/single-attachment"}).helper("i18n",a,{},{key:"i18n_megabytes",output:"json",templateName:"templates/thread-detail/attachments/single-attachment"}).helper("i18n",a,{},{key:"i18n_attachment_upload_complete",output:"json",templateName:"templates/thread-detail/attachments/single-attachment"}).helper("i18n",
a,{},{key:"i18n_attachment_error_generic",output:"json",templateName:"templates/thread-detail/attachments/single-attachment"}).helper("i18n",a,{},{key:"i18n_attachment_error_inv_media",output:"json",templateName:"templates/thread-detail/attachments/single-attachment"}).helper("i18n",a,{},{key:"i18n_attachment_error_size",output:"json",templateName:"templates/thread-detail/attachments/single-attachment"}).helper("i18n",a,{},{key:"i18n_attachment_error_time",output:"json",templateName:"templates/thread-detail/attachments/single-attachment"}).helper("i18n",
a,{},{key:"i18n_attachment_error_inv_filename",output:"json",templateName:"templates/thread-detail/attachments/single-attachment"}).helper("i18n",a,{},{key:"i18n_attachment_error_dimension",output:"json",templateName:"templates/thread-detail/attachments/single-attachment"}).helper("i18n",a,{},{key:"i18n_attachment_error_virus_detected",output:"json",templateName:"templates/thread-detail/attachments/single-attachment"}).helper("i18n",a,{},{key:"i18n_attachment_error_virus_scanning",output:"json",templateName:"templates/thread-detail/attachments/single-attachment"}).write('\x3cbutton class\x3d"remove-attachment" title\x3d"').helper("i18n",
a,{},{key:"i18n_remove_attachment",templateName:"templates/thread-detail/attachments/single-attachment"}).write('"\x3e').helper("i18n",a,{},{key:"i18n_remove_attachment",templateName:"templates/thread-detail/attachments/single-attachment"}).write('\x3c/button\x3e\x3cdiv class\x3d"single-attachment" ').notexists(a.getPath(!0,["downloadable"]),a,{block:d},{}).write("\x3e").exists(a.getPath(!0,["downloadable"]),a,{"else":c,block:e},{}).write('\x3cdiv class\x3d"prompt"\x3e').exists(a.getPath(!0,["downloadable"]),
a,{block:f},{}).write('\x3c/div\x3e\x3cdiv class\x3d"attachment-type ').reference(a.get(["displayType"],!1),a,"h").write('"\x3e').reference(a.get(["displayExt"],!1),a,"h").write('\x3c/div\x3e\x3cdiv class\x3d"attachment-info"\x3e\x3cspan class\x3d"attachment-filename"\x3e').reference(a.get(["filename"],!1),a,"h").write('\x3c/span\x3e\x3cdiv class\x3d"attachment-meta"\x3e').reference(a.get(["displaySize"],!1),a,"h").write("\x3c/div\x3e\x3c/div\x3e").exists(a.getPath(!0,["downloadable"]),a,{block:g},
{}).write("\x3c/div\x3e").partial("templates/shared/partials/_error-container",a,{})}function d(b,a){return b.write('tabindex\x3d"0"')}function c(b,a){return b.write('\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_a11y_nodownload_attachment_identifier",templateName:"templates/thread-detail/attachments/single-attachment"}).write("\x3c/span\x3e")}function e(b,a){return b.write('\x3ca href\x3d"').reference(a.get(["downloadUrl"],!1),a,"h").write('" class\x3d"download-attachment" download title\x3d"').helper("i18n",
a,{},{key:"i18n_file_attachment_title",templateName:"templates/thread-detail/attachments/single-attachment"}).write('"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_a11y_file_attachment_identifier",templateName:"templates/thread-detail/attachments/single-attachment"}).write("\x3c/span\x3e")}function f(b,a){return b.write('\x3cdiv class\x3d"downloader"\x3e\x3cspan class\x3d"downloadable" role\x3d"presentation" aria-hidden\x3d"true"\x3e\x3c/span\x3e\x3cp class\x3d"download-text"\x3e').helper("i18n",
a,{},{key:"i18n_download",templateName:"templates/thread-detail/attachments/single-attachment"}).write('\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"scanner"\x3e\x3cbutton class\x3d"cancel-scan"\x3e').helper("i18n",a,{},{key:"i18n_cancel_scan",templateName:"templates/thread-detail/attachments/single-attachment"}).write('\x3c/button\x3e\x3cspan class\x3d"downloadable"\x3e\x3c/span\x3e\x3cp class\x3d"scanner-text"\x3e').helper("i18n",a,{},{key:"i18n_scanning_for_viruses",filters:"et|s",templateName:"templates/thread-detail/attachments/single-attachment"}).write('\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"upload"\x3e\x3c/div\x3e')}
function g(b,a){return b.write("\x3c/a\x3e")}dust.register("templates/thread-detail/attachments/single-attachment",b);return b})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/attachments/single-attachment"]={i18n_attachment_upload_complete:"Attachment upload complete.",i18n_attachment_error_generic:"There was an error uploading your file.",i18n_attachment_error_inv_media:"This type of file is not supported.",i18n_attachment_error_size:"The file size is too large.",i18n_attachment_error_time:"The upload timed out. Please try again.",i18n_attachment_error_inv_filename:"The file name is not supported.",
i18n_attachment_error_dimension:"The image dimensions are too large.",i18n_attachment_error_virus_detected:"Failed virus scan. File will not download.",i18n_attachment_error_virus_scanning:"Virus scan still in progress. Please try again.",i18n_remove_attachment:"Remove attachment",i18n_a11y_file_attachment_identifier:"This is a file attachment",i18n_a11y_nodownload_attachment_identifier:"This is a file attachment you can not download",i18n_download:"Download",i18n_cancel_scan:"Cancel scan",i18n_scanning_for_viruses:"Scanning for viruses\x26hellip;"}})();
(function(){function b(b,c){return b.reference(c.get(["size"],!1),c,"h").write(" bytes")}dust.register("__i18n__templates/thread-detail/attachments/single-attachment__i18n_bytes",b);return b})();(function(){function b(b,c){return b.reference(c.get(["size"],!1),c,"h").write(" Kb")}dust.register("__i18n__templates/thread-detail/attachments/single-attachment__i18n_kilobytes",b);return b})();
(function(){function b(b,c){return b.reference(c.get(["size"],!1),c,"h").write(" Mb")}dust.register("__i18n__templates/thread-detail/attachments/single-attachment__i18n_megabytes",b);return b})();(function(){function b(b,c){return b.write('Click to start virus scan and download of "').reference(c.get(["filename"],!1),c,"h").write('"')}dust.register("__i18n__templates/thread-detail/attachments/single-attachment__i18n_file_attachment_title",b);return b})();
(function(){function c(b,a){return b.write('\x3cbutton class\x3d"remove-attachment" title\x3d"').helper("i18n",a,{},{key:"i18n_remove_attachment",templateName:"templates/thread-detail/attachments/image-attachment"}).write('"\x3e').helper("i18n",a,{},{key:"i18n_remove_attachment",templateName:"templates/thread-detail/attachments/image-attachment"}).write('\x3c/button\x3e\x3ca class\x3d"image-attachment" ').exists(a.get(["lazyLoadImages"],!1),a,{"else":e,block:d},{}).write(' target\x3d"_blank" href\x3d"').reference(a.get(["downloadUrl"],
!1),a,"h").write('" title\x3d"').helper("i18n",a,{},{key:"i18n_image_attachment_title",templateName:"templates/thread-detail/attachments/image-attachment"}).write('"\x3e\x3cimg class\x3d"image-placeholder" ').exists(a.get(["lazyLoadImages"],!1),a,{"else":f,block:g},{}).write('\x3d"').reference(a.get(["downloadUrl"],!1),a,"h").write('" /\x3e\x3c/a\x3e\x3cdiv class\x3d"prompt"\x3e\x3c/div\x3e\x3cdiv class\x3d"progress"\x3e\x3c/div\x3e').partial("templates/shared/partials/_error-container",a,{})}function e(b,
a){return b.write('style\x3d"background-image:url(').reference(a.get(["downloadUrl"],!1),a,"h").write(')"')}function d(b,a){return b.write('data-delayed-bg\x3d"').reference(a.get(["downloadUrl"],!1),a,"h").write('"')}function f(b,a){return b.write("src")}function g(b,a){return b.write("data-delayed-url")}dust.register("templates/thread-detail/attachments/image-attachment",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/attachments/image-attachment"]={i18n_remove_attachment:"Remove attachment"}})();(function(){function c(c,d){return c.write('Click to display "').reference(d.get(["filename"],!1),d,"h").write('" in a new tab')}dust.register("__i18n__templates/thread-detail/attachments/image-attachment__i18n_image_attachment_title",c);return c})();
(function(){function a(a,b){return a.write('\x3cbutton class\x3d"stickers dropdown-headline dropdown-trigger" data-pv-key\x3d"wonton-load-stickers"\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",b,{},{key:"i18n_send_sticker",templateName:"templates/thread-detail/stickers/sticker-layout"}).write('\x3c/span\x3e\x3csvg class\x3d"sticker-icon icon"\x3e\x3cuse xlink:href\x3d"#stickers-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3c/button\x3e\x3cdiv class\x3d"dropdown-menu sticker-view-wrapper"\x3e\x3cul class\x3d"toolbar-region"\x3e\x3c/ul\x3e\x3cul class\x3d"selection-region"\x3e\x3c/ul\x3e\x3c/div\x3e')}
dust.register("templates/thread-detail/stickers/sticker-layout",a);return a})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/thread-detail/stickers/sticker-layout"]={i18n_send_sticker:"Send a sticker"}})();
(function(){function c(b,a){return b.write('\x3cbutton class\x3d"sticker-pack-button" data-pv-key\x3d"wonton-pack-select"\x3e\x3cimg class\x3d"sticker-pack-img" ').exists(a.get(["lazyLoadImages"],!1),a,{"else":d,block:e},{}).write('\x3d"').reference(a.getPath(!1,["previewSticker","url"]),a,"h").write('" alt\x3d"').reference(a.get(["title"],!1),a,"h").write('" title\x3d"').reference(a.get(["title"],!1),a,"h").write('"/\x3e\x3c/button\x3e')}function d(b,a){return b.write("src")}function e(b,a){return b.write("data-delayed-url")}
dust.register("templates/thread-detail/stickers/sticker-packs",c);return c})();
(function(){function c(b,a){return b.write('\x3cbutton class\x3d"sticker-button" data-pv-key\x3d"wonton-sticker-select"\x3e\x3cimg class\x3d"sticker-img" ').exists(a.get(["lazyLoadImages"],!1),a,{"else":d,block:e},{}).write('\x3d"').reference(a.get(["url"],!1),a,"h").write('" alt\x3d"').reference(a.get(["id"],!1),a,"h").write('"/\x3e\x3c/button\x3e')}function d(b,a){return b.write("src")}function e(b,a){return b.write("data-delayed-url")}dust.register("templates/thread-detail/stickers/stickers",c);
return c})();
(function(){function a(a,b){return a.write('\x3cdiv class\x3d"sticker-toolbar"\x3e\x3c/div\x3e')}dust.register("templates/thread-detail/stickers/sticker-toolbar",a);return a})();
(function(){function a(a,b){return a.write('\x3cdiv class\x3d"sticker-selection"\x3e\x3c/div\x3e')}dust.register("templates/thread-detail/stickers/sticker-selection",a);return a})();
(function(){function b(b,a){return b.helper("i18n",a,{},{key:"i18n_learn_more_tour_name",output:"json",templateName:"templates/right-rail/learn-more"}).helper("i18n",a,{},{key:"i18n_learn_more_tour_threads_head",output:"json",templateName:"templates/right-rail/learn-more"}).helper("i18n",a,{},{key:"i18n_learn_more_tour_threads_body",output:"json",templateName:"templates/right-rail/learn-more"}).helper("i18n",a,{},{key:"i18n_learn_more_tour_invitations_head",output:"json",templateName:"templates/right-rail/learn-more"}).helper("i18n",
a,{},{key:"i18n_learn_more_tour_invitations_body",output:"json",templateName:"templates/right-rail/learn-more"}).helper("i18n",a,{},{key:"i18n_learn_more_tour_compose_head",output:"json",templateName:"templates/right-rail/learn-more"}).helper("i18n",a,{},{key:"i18n_learn_more_tour_compose_body",output:"json",templateName:"templates/right-rail/learn-more"}).write('\x3ch3 class\x3d"headline"\x3e').helper("i18n",a,{},{key:"i18n_learn_more_callout_title",templateName:"templates/right-rail/learn-more"}).write('\x3c/h3 \x3e\x3cp class\x3d"content"\x3e').helper("i18n",
a,{},{key:"i18n_learn_more_callout_text",filter:"|mk|s",templateName:"templates/right-rail/learn-more"}).write("\x3c/p\x3e")}dust.register("templates/right-rail/learn-more",b);return b})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/right-rail/learn-more"]={i18n_learn_more_tour_name:"Messaging Tour",i18n_learn_more_tour_threads_body:"Your messages are now organized by the people you are talking to. Sent, received and archived messages are all in one place.",i18n_learn_more_tour_invitations_head:"Your invitation requests have a new home.",i18n_learn_more_tour_invitations_body:"Manage your sent and received invitations in one place.",
i18n_learn_more_tour_compose_head:"Start a conversation.",i18n_learn_more_tour_compose_body:"Get advice from a mentor, message a coworker, or drop a quick note to stay in touch.",i18n_learn_more_callout_title:"What\u2019s new with messaging?"}})();(function(){function b(b,a){return b.write("Hi ").reference(a.get(["firstName"],!1),a,"h").write(", we've moved things around a bit.")}dust.register("__i18n__templates/right-rail/learn-more__i18n_learn_more_tour_threads_head",b);return b})();
(function(){function b(b,a){return b.write('You can now find your pending invitations in their \x3ca class\x3d"link" target\x3d"_blank" href\x3d"').reference(a.get(["invitationsUrl"],!1),a,"h").write('" data-pv-key\x3d"wonton-new-home"\x3enew home\x3c/a\x3e. More questions? \x3ca href\x3d"#" class\x3d"link start-tour" data-pv-key\x3d"wonton-start-tour"\x3eTake the tour\x3c/a\x3e or visit the \x3ca class\x3d"link" href\x3d"http://help.linkedin.com/app/answers/global/id/61013" data-pv-key\x3d"wonton-learn-more" target\x3d"_blank"\x3eHelp Center\x3c/a\x3e.')}
dust.register("__i18n__templates/right-rail/learn-more__i18n_learn_more_callout_text",b);return b})();
(function(){function b(b,a){return b.write('\x3cdiv id\x3d"sidebar-footer"\x3e\x3cdiv class\x3d"footer-wrapper"\x3e\x3cul class\x3d"nav-options"\x3e\x3cli class\x3d"nav-option"\x3e\x3ca href\x3d"/about-us" class\x3d"nav-link"\x3e').helper("i18n",a,{},{key:"i18n_about_text",templateName:"templates/right-rail/footer"}).write('\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"nav-option"\x3e\x3ca id\x3d"feedback-link" href\x3d"/lite/feedback-form" class\x3d"nav-link"\x3e').helper("i18n",a,{},{key:"i18n_feedback_text",
templateName:"templates/right-rail/footer"}).write('\x3c/a\x3e\x3c/li\x3e\x3cli id\x3d"privacy-nav" class\x3d"nav-option"\x3e\x3cbutton class\x3d"subnav-trigger"\x3e').helper("i18n",a,{},{key:"i18n_privacy_and_terms",filters:"et|s",templateName:"templates/right-rail/footer"}).write('\x3c/button\x3e\x3cul id\x3d"privacy-subnav" class\x3d"subnav-options"\x3e\x3cli class\x3d"subnav-option"\x3e\x3ca href\x3d"/legal/cookie-policy?trk\x3dhb_rr_ft_cookie" class\x3d"subnav-link"\x3e').helper("i18n",a,{},
{key:"i18n_cookies",templateName:"templates/right-rail/footer"}).write('\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"subnav-option"\x3e\x3ca href\x3d"/settings?modal\x3dnsettings-enhanced-advertising" class\x3d"subnav-link"\x3e').helper("i18n",a,{},{key:"i18n_ads_choices",templateName:"templates/right-rail/footer"}).write('\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"subnav-option"\x3e\x3ca href\x3d"/static?key\x3dcopyright_policy" class\x3d"subnav-link"\x3e').helper("i18n",a,{},{key:"i18n_copyright",templateName:"templates/right-rail/footer"}).write('\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"subnav-option"\x3e\x3ca href\x3d"/static?key\x3duser_agreement" class\x3d"subnav-link"\x3e').helper("i18n",
a,{},{key:"i18n_terms",templateName:"templates/right-rail/footer"}).write('\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"subnav-option"\x3e\x3ca href\x3d"/static?key\x3dprivacy_policy" class\x3d"subnav-link"\x3e').helper("i18n",a,{},{key:"i18n_privacy",templateName:"templates/right-rail/footer"}).write('\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"dropdown-header"\x3e\x3cspan class\x3d"subnav-text"\x3e').helper("i18n",a,{},{key:"i18n_privacy_and_terms",filters:"et|s",templateName:"templates/right-rail/footer"}).write('\x3c/span\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/li\x3e\x3c/ul\x3e\x3ch3 class\x3d"copyright"\x3e\x3cspan class\x3d"copy-text"\x3e').helper("i18n",
a,{},{key:"i18n_copy_text",filters:"et|s",templateName:"templates/right-rail/footer"}).write("\x3c/span\x3e\x3c/h3\x3e\x3c/div\x3e\x3c/div\x3e")}dust.register("templates/right-rail/footer",b);return b})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/right-rail/footer"]={i18n_send_feedback:"Send Feedback",i18n_about_text:"About",i18n_feedback_text:"Feedback",i18n_privacy_and_terms:"Privacy \x26amp; Terms",i18n_cookies:"Cookies",i18n_ads_choices:"Ads Choices",i18n_copyright:"Copyright",i18n_terms:"Terms",i18n_privacy:"Privacy",i18n_copy_text:"LinkedIn Corp. \x26copy; 2016"}})();
(function(){function b(b,a){return b.write('\x3cp class\x3d"check-textarea-message error"\x3eYou have exceeded the maximum length by \x3cstrong\x3e').reference(a.get(["numExceededCharacters"],!1),a,"h").write("\x3c/strong\x3e ").helper("choice",a,{},{key:a.get(["numExceededCharacters"],!1),singular:"character",plural:"characters"}).write(".\x3c/p\x3e")}dust.register("__i18n__templates/right-rail/footer__i18n_feedback_characters_exceeded",b);return b})();
(function(){function c(b,a){return b.write('\x3cbutton class\x3d"close-home-button" data-pv-key\x3d"wonton-close-home-button"\x3e\x3csvg class\x3d"icon"\x3e\x3cuse xlink:href\x3d"#cancel-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_close_messaging_home",templateName:"templates/conversation-starters/conversation-starters"}).write("\x3c/span\x3e\x3c/button\x3e").exists(a.get(["hasCloseConnections"],!1),a,{"else":e,block:f},{}).write('\x3cdiv class\x3d"close-connections-list-region"\x3e\x3c/div\x3e').exists(a.get(["hasCloseConnections"],
!1),a,{"else":g,block:h},{}).write('\x3cdiv class\x3d"conversation-starters-list-region"\x3e\x3c/div\x3e')}function e(b,a){return b.helper("eq",a,{"else":d,block:k},{key:a.getPath(!1,["currentUser","id"]),value:"7074577"})}function d(b,a){return b.write('\x3ch3 class\x3d"welcome"\x3e').helper("i18n",a,{},{key:"i18n_hi_user",filter:"|mk|s",templateName:"templates/conversation-starters/conversation-starters"}).write("\x3c/h3\x3e")}function k(b,a){return b.write('\x3ch3 class\x3d"welcome"\x3eWhy, hello there Howard!\x3c/h3\x3e')}
function f(b,a){return b.write('\x3cdiv class\x3d"gift-illustration-wrapper"\x3e\x3csvg class\x3d"gift-illustration" id\x3d"Layer_1" data-name\x3d"Layer 1" xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"56" height\x3d"56" viewBox\x3d"0 0 56 56"\x3e\x3ctitle\x3e56dp\x3c/title\x3e\x3crect x\x3d"12" y\x3d"27" width\x3d"32" height\x3d"19" style\x3d"fill: #fff"/\x3e\x3crect x\x3d"10" y\x3d"17" width\x3d"36" height\x3d"8" style\x3d"fill: #9bdaf3"/\x3e\x3cpath d\x3d"M47,14H9a2,2,0,0,0-2,2V26a2,2,0,0,0,2,2V47a2,2,0,0,0,2,2H45a2,2,0,0,0,2-2V28a2,2,0,0,0,2-2V16A2,2,0,0,0,47,14ZM10,17H46v8H10V17ZM44,46H12V28H44V46Z" style\x3d"fill: #005e93"/\x3e\x3crect x\x3d"24" y\x3d"28" width\x3d"8" height\x3d"18" style\x3d"fill: #00a0dc"/\x3e\x3crect x\x3d"24" y\x3d"17" width\x3d"8" height\x3d"8" style\x3d"fill: #00a0dc"/\x3e\x3cpath d\x3d"M34,2a6,6,0,0,0-6,6,6,6,0,1,0-6,6H34A6,6,0,0,0,34,2Zm-9,9H22a3,3,0,1,1,3-3v3Zm9,0H31V8A3,3,0,1,1,34,11Z" style\x3d"fill: #00a0dc"/\x3e\x3c/svg\x3e\x3c/div\x3e\x3csvg class\x3d"sparkles-illustration" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 230 230" width\x3d"230" height\x3d"230"\x3e\x3cg class\x3d"sparkles-illustration-group-1"\x3e\x3cpath fill\x3d"#00A0DC" d\x3d"M170 136h-3v-3h-2v3h-3v2h3v3h2v-3h3"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"171" cy\x3d"105" r\x3d"1"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"75" cy\x3d"122" r\x3d"1"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"64" cy\x3d"152" r\x3d"1"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"153" cy\x3d"150" r\x3d"1"/\x3e\x3c/g\x3e\x3cg class\x3d"sparkles-illustration-group-2"\x3e\x3cpath fill\x3d"#00A0DC" d\x3d"M188 111h-3v-3h-2v3h-3v2h3v3h2v-3h3M75 136h-3v-3h-2v3h-3v2h3v3h2v-3h3"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"152" cy\x3d"110" r\x3d"1"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"171" cy\x3d"125" r\x3d"1"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"81" cy\x3d"100" r\x3d"1"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"40" cy\x3d"142" r\x3d"1"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"134" cy\x3d"74" r\x3d"1"/\x3e\x3c/g\x3e\x3cg class\x3d"sparkles-illustration-group-3"\x3e\x3cpath fill\x3d"#00A0DC" d\x3d"M78 86h-3v-3h-2v3h-3v2h3v3h2v-3h3M47 116h-3v-3h-2v3h-3v2h3v3h2v-3h3M159 93h-3v-3h-2v3h-3v2h3v3h2v-3h3"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"189" cy\x3d"136" r\x3d"1"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"100" cy\x3d"83" r\x3d"1"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"60" cy\x3d"114" r\x3d"1"/\x3e\x3ccircle fill\x3d"#00A0DC" cx\x3d"51" cy\x3d"95" r\x3d"1"/\x3e\x3c/g\x3e\x3c/svg\x3e').helper("eq",
a,{"else":l,block:m},{key:a.getPath(!1,["currentUser","id"]),value:"7074577"}).write('\x3cp class\x3d"conversation-ideas"\x3e').helper("i18n",a,{},{key:"i18n_wish_your_connections_happy_holiday_new_year",templateName:"templates/conversation-starters/conversation-starters"}).write("\x3c/p\x3e")}function l(b,a){return b.write('\x3ch3 class\x3d"welcome"\x3e').helper("i18n",a,{},{key:"i18n_happy_holidays_user",filter:"|mk|s",templateName:"templates/conversation-starters/conversation-starters"}).write("\x3c/h3\x3e")}
function m(b,a){return b.write('\x3ch3 class\x3d"welcome"\x3eWhy, happy holidays Howard!\x3c/h3\x3e')}function g(b,a){return b.exists(a.get(["hasConversationStarters"],!1),a,{"else":n,block:p},{})}function n(b,a){return b.write('\x3cp class\x3d"conversation-ideas"\x3e').helper("i18n",a,{},{key:"i18n_start_a_new_conversation_today",templateName:"templates/conversation-starters/conversation-starters"}).write('\x3c/p\x3e\x3cbutton class\x3d"new-message-button" data-pv-key\x3d"wonton-home-compose-button"\x3e\x3csvg class\x3d"icon"\x3e\x3cuse xlink:href\x3d"#compose-icon"\x3e\x3c/use\x3e\x3c/svg\x3e').helper("i18n",
a,{},{key:"i18n_compose_a_new_message",templateName:"templates/conversation-starters/conversation-starters"}).write("\x3c/button\x3e")}function p(b,a){return b.write('\x3cp class\x3d"conversation-ideas"\x3e').helper("i18n",a,{},{key:"i18n_some_ideas_for_conversations",templateName:"templates/conversation-starters/conversation-starters"}).write("\x3c/p\x3e")}function h(b,a){return b.exists(a.get(["hasConversationStarters"],!1),a,{block:q},{})}function q(b,a){return b.write('\x3cp class\x3d"conversation-ideas"\x3e').helper("i18n",
a,{},{key:"i18n_more_ideas_for_conversations",templateName:"templates/conversation-starters/conversation-starters"}).write("\x3c/p\x3e")}dust.register("templates/conversation-starters/conversation-starters",c);return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/conversation-starters/conversation-starters"]={i18n_close_messaging_home:"Close Messaging Home",i18n_wish_your_connections_happy_holiday_new_year:"Wish your connections a happy holiday and new year!",i18n_more_ideas_for_conversations:"More ideas for conversations",i18n_some_ideas_for_conversations:"Some ideas for conversations",i18n_start_a_new_conversation_today:"Start a new conversation today",i18n_compose_a_new_message:"Compose a new message"}})();
(function(){function c(c,d){return c.write("Happy Holidays, ").reference(d.getPath(!1,["currentUser","firstName"]),d,"h")}dust.register("__i18n__templates/conversation-starters/conversation-starters__i18n_happy_holidays_user",c);return c})();(function(){function c(c,d){return c.write("Hi, ").reference(d.getPath(!1,["currentUser","firstName"]),d,"h")}dust.register("__i18n__templates/conversation-starters/conversation-starters__i18n_hi_user",c);return c})();
(function(){function c(b,a){return b.helper("i18n",a,{},{key:"i18n_compose_body_placeholder",output:"json",templateName:"templates/conversation-starters/close-connection"}).helper("i18n",a,{},{key:"i18n_write_a_message",output:"json",templateName:"templates/conversation-starters/close-connection"}).helper("format",a,{},{type:"name.full",key:"fullName",firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1),output:"json"}).write('\x3ca class\x3d"profile-pic-link" href\x3d"').reference(a.get(["profileUrl"],
!1),a,"h").write('" target\x3d"_blank"\x3e').exists(a.get(["pictureId"],!1),a,{"else":d,block:e},{}).write('\x3c/a\x3e\x3cdiv class\x3d"details"\x3e\x3ca class\x3d"name" href\x3d"').reference(a.get(["profileUrl"],!1),a,"h").write('" target\x3d"_blank" title\x3d"').reference(a.get(["fullName"],!1),a,"h",["et","s"]).write('"\x3e').reference(a.get(["fullName"],!1),a,"h",["et","s"]).write("\x3c/a\x3e").exists(a.get(["headline"],!1),a,{block:f},{}).write('\x3c/div\x3e\x3cbutton class\x3d"send-message-button" data-pv-key\x3d"wonton-close-connection-compose" title\x3d"').helper("i18n",
a,{},{key:"i18n_write_a_message",templateName:"templates/conversation-starters/close-connection"}).write('"\x3e\x3csvg class\x3d"icon"\x3e\x3cuse xlink:href\x3d"#compose-icon"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_write_a_message",templateName:"templates/conversation-starters/close-connection"}).write("\x3c/span\x3e\x3c/button\x3e")}function d(b,a){return b.write('\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["fullName"],
!1),a,"h",["et","s"]).write('\x3c/span\x3e\x3cspan class\x3d"person-icon large"\x3e\x3c/span\x3e')}function e(b,a){return b.helper("profileImg",a,{},{mediaId:a.get(["pictureId"],!1),size:"100",alt:g,title:h,"class":"profile-pic"})}function g(b,a){return b.reference(a.get(["fullName"],!1),a,"h",["et","s"])}function h(b,a){return b.reference(a.get(["fullName"],!1),a,"h",["et","s"])}function f(b,a){return b.write('\x3cp class\x3d"headline" title\x3d"').reference(a.get(["headline"],!1),a,"h",["et","s"]).write('"\x3e').reference(a.get(["headline"],
!1),a,"h",["et","s"]).write("\x3c/p\x3e")}dust.register("templates/conversation-starters/close-connection",c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/conversation-starters/close-connection"]={i18n_compose_body_placeholder:"Wishing you a wonderful holiday season and a successful 2017!",i18n_write_a_message:"Write a message"}})();
(function(){function c(b,a){return b.write('\x3cdiv class\x3d"conversation-starter-container"\x3e').section(a.get(["target"],!1),a,{block:d},{}).write('\x3cdiv class\x3d"content"\x3e').block(a.getBlock("content"),a,{},{}).write('\x3c/div\x3e\x3cbutton class\x3d"dismiss-prop" data-pv-key\x3d"wonton-dismiss-conversation-starter"\x3e\x3csvg\x3e\x3cuse xlink:href\x3d"#cancel-icon" data-size\x3d"small"\x3e\x3c/use\x3e\x3c/svg\x3e\x3cspan class\x3d"screen-reader-text"\x3e').helper("i18n",a,{},{key:"i18n_dismiss_conversation_starter",
templateName:"templates/conversation-starters/types/_base"}).write('\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"compose-region"\x3e\x3c/div\x3e').helper("i18n",a,{},{key:"i18n_dismiss_conversation_starter",output:"json",templateName:"templates/conversation-starters/types/_base"})}function d(b,a){return b.write('\x3ca class\x3d"profile-pic-link" href\x3d"').reference(a.get(["profileUrl"],!1),a,"h").write('" target\x3d"_blank"\x3e').helper("format",a,{},{type:"name.full",key:"fullName",
firstName:a.get(["firstName"],!1),lastName:a.get(["lastName"],!1),output:"json"}).exists(a.get(["pictureId"],!1),a,{"else":e,block:f},{}).write("\x3c/a\x3e")}function e(b,a){return b.write('\x3cspan class\x3d"screen-reader-text"\x3e').reference(a.get(["fullName"],!1),a,"h",["et","s"]).write('\x3c/span\x3e\x3cspan class\x3d"person-icon large"\x3e\x3c/span\x3e')}function f(b,a){return b.helper("profileImg",a,{},{mediaId:a.get(["pictureId"],!1),size:"100",alt:g,title:h,"class":"profile-pic"})}function g(b,
a){return b.reference(a.get(["fullName"],!1),a,"h",["et","s"])}function h(b,a){return b.reference(a.get(["fullName"],!1),a,"h",["et","s"])}dust.register("templates/conversation-starters/types/_base",c);return c})();(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/conversation-starters/types/_base"]={i18n_dismiss_conversation_starter:"Dismiss conversation starter"}})();
(function(){function c(b,a){a=a.shiftBlocks(d);return b.partial("templates/conversation-starters/types/_base",a,{}).helper("i18n",a,{},{key:"i18n_compose_body_placeholder",output:"json",templateName:"templates/conversation-starters/types/birthday"}).helper("i18n",a,{},{key:"i18n_say_happy_birthday",filters:"mk|s",output:"json",templateName:"templates/conversation-starters/types/birthday"})}function e(c,a){a=a.shiftBlocks(d);return c.helper("select",a,{block:b},{key:a.get(["birthdayRelativeDate"],
!1)})}function b(b,a){a=a.shiftBlocks(d);return b.helper("eq",a,{block:f},{value:"past"}).helper("eq",a,{block:g},{value:"yesterday"}).helper("eq",a,{block:h},{value:"today"}).helper("eq",a,{block:k},{value:"tomorrow"}).helper("default",a,{block:l},{})}function f(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_birthday_past_headline",filters:"mk|s",templateName:"templates/conversation-starters/types/birthday"})}function g(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_birthday_yesterday_headline",
filters:"mk|s",templateName:"templates/conversation-starters/types/birthday"})}function h(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_birthday_today_headline",filters:"mk|s",templateName:"templates/conversation-starters/types/birthday"})}function k(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_birthday_tomorrow_headline",filters:"mk|s",templateName:"templates/conversation-starters/types/birthday"})}function l(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},
{key:"i18n_birthday_default_headline",filters:"mk|s",templateName:"templates/conversation-starters/types/birthday"})}function m(b,a){a=a.shiftBlocks(d);return b.helper("select",a,{block:n},{key:a.get(["birthdayRelativeDate"],!1)})}function n(b,a){a=a.shiftBlocks(d);return b.helper("eq",a,{block:p},{value:"past"}).helper("eq",a,{block:q},{value:"yesterday"}).helper("eq",a,{block:r},{value:"today"}).helper("eq",a,{block:s},{value:"tomorrow"}).helper("default",a,{block:t},{})}function p(b,a){a=a.shiftBlocks(d);
return b.helper("i18n",a,{},{key:"i18n_no_markup_birthday_past_headline",templateName:"templates/conversation-starters/types/birthday"})}function q(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_no_markup_birthday_yesterday_headline",templateName:"templates/conversation-starters/types/birthday"})}function r(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_no_markup_birthday_today_headline",templateName:"templates/conversation-starters/types/birthday"})}function s(b,a){a=
a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_no_markup_birthday_tomorrow_headline",templateName:"templates/conversation-starters/types/birthday"})}function t(b,a){a=a.shiftBlocks(d);return b.helper("i18n",a,{},{key:"i18n_no_markup_birthday_default_headline",templateName:"templates/conversation-starters/types/birthday"})}dust.register("templates/conversation-starters/types/birthday",c);var d={content:function(b,a){a=a.shiftBlocks(d);return b.helper("format",a,{},{type:"name.full",key:"fullName",
firstName:a.getPath(!1,["target","firstName"]),lastName:a.getPath(!1,["target","lastName"]),output:"json"}).helper("format",a,{},{type:"name.familiar",key:"familiarName",firstName:a.getPath(!1,["target","firstName"]),lastName:a.getPath(!1,["target","lastName"]),output:"json"}).helper("format",a,{},{type:"date.md.long",key:"birthday",date:a.getPath(!1,["details","birthdayDetails","date"]),useTimeZone:a.get(["false"],!1),output:"json"}).helper("addToContext",a,{block:e},{name:"birthdayString"}).helper("addToContext",
a,{block:m},{name:"noMarkupBirthdayString"}).write('\x3cp class\x3d"description" title\x3d"').reference(a.get(["noMarkupBirthdayString"],!1),a,"h").write('"\x3e').reference(a.get(["birthdayString"],!1),a,"h",["mk","s"]).write('\x3c/p\x3e\x3cbutton class\x3d"show-quick-reply" data-pv-key\x3d"wonton-compose-birthday"\x3e').helper("i18n",a,{},{key:"i18n_say_happy_birthday_familiar",filters:"mk|s",templateName:"templates/conversation-starters/types/birthday"}).write("\x3c/button\x3e")}};return c})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/conversation-starters/types/birthday"]={i18n_compose_body_placeholder:"Happy birthday!"}})();
(function(){function c(c,b){return c.write('\x3ca class\x3d"profile-link" href\x3d"').reference(b.getPath(!1,["target","profileUrl"]),b,"h").write('" target\x3d"_blank"\x3e').helper("possessive",b,{},{key:b.get(["fullName"],!1)}).write("\x3c/a\x3e birthday was on ").reference(b.get(["birthday"],!1),b,"h").write("!")}dust.register("__i18n__templates/conversation-starters/types/birthday__i18n_birthday_past_headline",c);return c})();
(function(){function c(c,b){return c.write('Yesterday was \x3ca class\x3d"profile-link" href\x3d"').reference(b.getPath(!1,["target","profileUrl"]),b,"h").write('" target\x3d"_blank"\x3e').helper("possessive",b,{},{key:b.get(["fullName"],!1)}).write("\x3c/a\x3e birthday!")}dust.register("__i18n__templates/conversation-starters/types/birthday__i18n_birthday_yesterday_headline",c);return c})();
(function(){function c(c,b){return c.write('Today is \x3ca class\x3d"profile-link" href\x3d"').reference(b.getPath(!1,["target","profileUrl"]),b,"h").write('" target\x3d"_blank"\x3e').helper("possessive",b,{},{key:b.get(["fullName"],!1)}).write("\x3c/a\x3e birthday!")}dust.register("__i18n__templates/conversation-starters/types/birthday__i18n_birthday_today_headline",c);return c})();
(function(){function c(c,b){return c.write('Tomorrow is \x3ca class\x3d"profile-link" href\x3d"').reference(b.getPath(!1,["target","profileUrl"]),b,"h").write('" target\x3d"_blank"\x3e').helper("possessive",b,{},{key:b.get(["fullName"],!1)}).write("\x3c/a\x3e birthday!")}dust.register("__i18n__templates/conversation-starters/types/birthday__i18n_birthday_tomorrow_headline",c);return c})();
(function(){function c(c,b){return c.write('\x3ca class\x3d"profile-link" href\x3d"').reference(b.getPath(!1,["target","profileUrl"]),b,"h").write('" target\x3d"_blank"\x3e').helper("possessive",b,{},{key:b.get(["fullName"],!1)}).write("\x3c/a\x3e birthday is on ").reference(b.get(["birthday"],!1),b,"h").write("!")}dust.register("__i18n__templates/conversation-starters/types/birthday__i18n_birthday_default_headline",c);return c})();
(function(){function c(c,b){return c.helper("possessive",b,{},{key:b.get(["fullName"],!1)}).write(" birthday was on ").reference(b.get(["birthday"],!1),b,"h").write("!")}dust.register("__i18n__templates/conversation-starters/types/birthday__i18n_no_markup_birthday_past_headline",c);return c})();
(function(){function c(c,b){return c.write("Yesterday was ").helper("possessive",b,{},{key:b.get(["fullName"],!1)}).write(" birthday!")}dust.register("__i18n__templates/conversation-starters/types/birthday__i18n_no_markup_birthday_yesterday_headline",c);return c})();
(function(){function c(c,b){return c.write("Today is ").helper("possessive",b,{},{key:b.get(["fullName"],!1)}).write(" birthday!")}dust.register("__i18n__templates/conversation-starters/types/birthday__i18n_no_markup_birthday_today_headline",c);return c})();
(function(){function c(c,b){return c.write("Tomorrow is ").helper("possessive",b,{},{key:b.get(["fullName"],!1)}).write(" birthday!")}dust.register("__i18n__templates/conversation-starters/types/birthday__i18n_no_markup_birthday_tomorrow_headline",c);return c})();
(function(){function c(c,b){return c.helper("possessive",b,{},{key:b.get(["fullName"],!1)}).write(" birthday is on ").reference(b.get(["birthday"],!1),b,"h").write("!")}dust.register("__i18n__templates/conversation-starters/types/birthday__i18n_no_markup_birthday_default_headline",c);return c})();
(function(){function c(c,b){return c.write('Say happy birthday\x3cspan class\x3d"screen-reader-text"\x3e to ').reference(b.get(["familiarName"],!1),b,"h").write("\x3c/span\x3e")}dust.register("__i18n__templates/conversation-starters/types/birthday__i18n_say_happy_birthday_familiar",c);return c})();
(function(){function c(c,b){return c.write('Say happy birthday\x3cspan class\x3d"screen-reader-text"\x3e to ').reference(b.get(["fullName"],!1),b,"h").write("\x3c/span\x3e")}dust.register("__i18n__templates/conversation-starters/types/birthday__i18n_say_happy_birthday",c);return c})();
(function(){function b(a,c){c=c.shiftBlocks(d);return a.partial("templates/conversation-starters/types/_base",c,{}).helper("i18n",c,{},{key:"i18n_compose_body_placeholder",output:"json",templateName:"templates/conversation-starters/types/job-change"}).helper("i18n",c,{},{key:"i18n_say_congrats",filters:"mk|s",output:"json",templateName:"templates/conversation-starters/types/job-change"})}dust.register("templates/conversation-starters/types/job-change",b);var d={content:function(a,c){c=c.shiftBlocks(d);
return a.helper("format",c,{},{type:"name.full",key:"fullName",firstName:c.getPath(!1,["target","firstName"]),lastName:c.getPath(!1,["target","lastName"]),output:"json"}).helper("format",c,{},{type:"name.familiar",key:"familiarName",firstName:c.getPath(!1,["target","firstName"]),lastName:c.getPath(!1,["target","lastName"]),output:"json"}).write('\x3cp class\x3d"description"title\x3d"').helper("i18n",c,{},{key:"i18n_no_markup_job_change_headline",templateName:"templates/conversation-starters/types/job-change"}).write('"\x3e').helper("i18n",
c,{},{key:"i18n_job_change_headline",filters:"mk|s",templateName:"templates/conversation-starters/types/job-change"}).write('\x3c/p\x3e\x3cbutton class\x3d"show-quick-reply" data-pv-key\x3d"wonton-compose-job-change"\x3e').helper("i18n",c,{},{key:"i18n_say_congrats_familiar",filters:"mk|s",templateName:"templates/conversation-starters/types/job-change"}).write("\x3c/button\x3e")}};return b})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/conversation-starters/types/job-change"]={i18n_compose_body_placeholder:"Congrats on the new gig! Hope you\u2019re doing well."}})();
(function(){function b(b,a){return b.reference(a.get(["fullName"],!1),a,"h").write(" has a new job! Now ").reference(a.getPath(!1,["details","jobChangeDetails","jobTitle"]),a,"h").write(" at ").reference(a.getPath(!1,["details","jobChangeDetails","companyName"]),a,"h").write(".")}dust.register("__i18n__templates/conversation-starters/types/job-change__i18n_no_markup_job_change_headline",b);return b})();
(function(){function b(b,a){return b.write('\x3ca class\x3d"profile-link" href\x3d"').reference(a.getPath(!1,["target","profileUrl"]),a,"h").write('" target\x3d"_blank"\x3e').reference(a.get(["fullName"],!1),a,"h").write("\x3c/a\x3e has a new job! Now ").reference(a.getPath(!1,["details","jobChangeDetails","jobTitle"]),a,"h").write(" at ").reference(a.getPath(!1,["details","jobChangeDetails","companyName"]),a,"h").write(".")}dust.register("__i18n__templates/conversation-starters/types/job-change__i18n_job_change_headline",
b);return b})();(function(){function b(b,a){return b.write('Say congrats\x3cspan class\x3d"screen-reader-text"\x3e to ').reference(a.get(["familiarName"],!1),a,"h").write("\x3c/span\x3e")}dust.register("__i18n__templates/conversation-starters/types/job-change__i18n_say_congrats_familiar",b);return b})();
(function(){function b(b,a){return b.write('Say congrats\x3cspan class\x3d"screen-reader-text"\x3e to ').reference(a.get(["fullName"],!1),a,"h").write("\x3c/span\x3e")}dust.register("__i18n__templates/conversation-starters/types/job-change__i18n_say_congrats",b);return b})();
(function(){function b(a,c){c=c.shiftBlocks(d);return a.partial("templates/conversation-starters/types/_base",c,{}).helper("i18n",c,{},{key:"i18n_compose_body_placeholder",output:"json",templateName:"templates/conversation-starters/types/work-anniversary"}).helper("i18n",c,{},{key:"i18n_say_congrats",filters:"mk|s",output:"json",templateName:"templates/conversation-starters/types/work-anniversary"})}dust.register("templates/conversation-starters/types/work-anniversary",b);var d={content:function(a,
c){c=c.shiftBlocks(d);return a.helper("format",c,{},{type:"name.full",key:"fullName",firstName:c.getPath(!1,["target","firstName"]),lastName:c.getPath(!1,["target","lastName"]),output:"json"}).helper("format",c,{},{type:"name.familiar",key:"familiarName",firstName:c.getPath(!1,["target","firstName"]),lastName:c.getPath(!1,["target","lastName"]),output:"json"}).write('\x3cp class\x3d"description"title\x3d"').helper("i18n",c,{},{key:"i18n_no_markup_work_anniversary_headline",templateName:"templates/conversation-starters/types/work-anniversary"}).write('"\x3e').helper("i18n",
c,{},{key:"i18n_work_anniversary_headline",filters:"mk|s",templateName:"templates/conversation-starters/types/work-anniversary"}).write('\x3c/p\x3e\x3cbutton class\x3d"show-quick-reply" data-pv-key\x3d"wonton-compose-anniversary"\x3e').helper("i18n",c,{},{key:"i18n_say_congrats_familiar",filters:"mk|s",templateName:"templates/conversation-starters/types/work-anniversary"}).write("\x3c/button\x3e")}};return b})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/conversation-starters/types/work-anniversary"]={i18n_compose_body_placeholder:"Congrats on the anniversary! Hope you\u2019re doing well."}})();
(function(){function b(b,a){return b.reference(a.get(["fullName"],!1),a,"h").write(" is celebrating ").reference(a.getPath(!1,["details","workAnniversaryDetails","numYears"]),a,"h").write(" ").helper("choice",a,{},{key:a.getPath(!1,["details","workAnniversaryDetails","numYears"]),singular:"year",plural:"years"}).write(" at ").reference(a.getPath(!1,["details","workAnniversaryDetails","companyName"]),a,"h").write("!")}dust.register("__i18n__templates/conversation-starters/types/work-anniversary__i18n_no_markup_work_anniversary_headline",
b);return b})();
(function(){function b(b,a){return b.write('\x3ca class\x3d"profile-link" href\x3d"').reference(a.getPath(!1,["target","profileUrl"]),a,"h").write('" target\x3d"_blank"\x3e').reference(a.get(["fullName"],!1),a,"h").write("\x3c/a\x3e is celebrating ").reference(a.getPath(!1,["details","workAnniversaryDetails","numYears"]),a,"h").write(" ").helper("choice",a,{},{key:a.getPath(!1,["details","workAnniversaryDetails","numYears"]),singular:"year",plural:"years"}).write(" at ").reference(a.getPath(!1,["details",
"workAnniversaryDetails","companyName"]),a,"h").write("!")}dust.register("__i18n__templates/conversation-starters/types/work-anniversary__i18n_work_anniversary_headline",b);return b})();(function(){function b(b,a){return b.write('Say congrats\x3cspan class\x3d"screen-reader-text"\x3e to ').reference(a.get(["familiarName"],!1),a,"h").write("\x3c/span\x3e")}dust.register("__i18n__templates/conversation-starters/types/work-anniversary__i18n_say_congrats_familiar",b);return b})();
(function(){function b(b,a){return b.write('Say congrats\x3cspan class\x3d"screen-reader-text"\x3e to ').reference(a.get(["fullName"],!1),a,"h").write("\x3c/span\x3e")}dust.register("__i18n__templates/conversation-starters/types/work-anniversary__i18n_say_congrats",b);return b})();
(function(){function b(b,a){return b.helper("i18n",a,{},{key:"i18n_unfinished_compose_prompt",output:"json",templateName:"templates/main-page"}).helper("i18n",a,{},{key:"i18n_bulk_select_mode_exit",output:"json",templateName:"templates/main-page"}).helper("i18n",a,{},{key:"i18n_unsent_messages_pending",output:"json",templateName:"templates/main-page"}).helper("i18n",a,{},{key:"i18n_spam_report_dialog_title",output:"json",templateName:"templates/main-page"}).write('\x3cdiv id\x3d"top-text-ad-region"\x3e\x3c/div\x3e\x3cdiv id\x3d"inbox-content-container"\x3e\x3cdiv id\x3d"modal-region"\x3e\x3c/div\x3e\x3cdiv id\x3d"inbox-threads" class\x3d"column"\x3e\x3cdiv id\x3d"inbox-actions"\x3e\x3c/div\x3e\x3cdiv id\x3d"inbox-list"\x3e\x3cdiv id\x3d"list-view"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"inbox-body" class\x3d"column"\x3e\x3c/div\x3e\x3cdiv id\x3d"inbox-module-rail" class\x3d"column"\x3e\x3ch3 class\x3d"module-rail-title screen-reader-text"\x3e').helper("i18n",
a,{},{key:"i18n_sidebar",templateName:"templates/main-page"}).write('\x3c/h3\x3e\x3cdiv id\x3d"learn-more-region"\x3e\x3c/div\x3e\x3cdiv id\x3d"conversation-starters-region"\x3e\x3c/div\x3e\x3cdiv id\x3d"display-ads-region"\x3e\x3c/div\x3e\x3cdiv id\x3d"footer-region"\x3e').partial("templates/right-rail/footer",a,{}).write("\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}dust.register("templates/main-page",b);return b})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["templates/main-page"]={i18n_unfinished_compose_prompt:"You have an unfinished draft.",i18n_bulk_select_mode_exit:"You have exited bulk message select mode.",i18n_unsent_messages_pending:"You have messages that have not been sent yet.  If you leave, these messages may be lost.",i18n_spam_report_dialog_title:"Why are you reporting this?",i18n_sidebar:"Sidebar"}})();
/* Auto generated, hash = 7xfkhs0bm8uqbie44cf6yuw2v */
window.jSecure=window.LIModules.requires("jSecure");
(function(b){var c=b.requires("backbone"),f=c.sync,d=b.requires("underscore");c.sync=function(e,b,a){var c=a.headers||{};a.url=a.url||d.result(b,"url");"read"!==e&&(a.headers=d.extend(c,{"Csrf-Token":play.getPageContextValue("csrfToken")}));a.error=d.wrap(a.error,function(a,b){401===b.status?window.location.href="/uas/logout":a&&a(b)});switch(e){case "create":case "update":case "delete":a.dataType="text";break;case "patch":a.method="post",a.attrs={patch:{$set:a.attrs}}}return f(e,b,a)}})(window.LIModules);
(function(){window.docCookies={getItem:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$\x26")+"\\s*\\\x3d\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(a,c,b,e,f,g){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var d="";if(b)switch(b.constructor){case Number:d=Infinity===b?"; expires\x3dFri, 31 Dec 9999 23:59:59 GMT":"; max-age\x3d"+b;break;case String:d="; expires\x3d"+
b;break;case Date:d="; expires\x3d"+b.toUTCString()}document.cookie=encodeURIComponent(a)+"\x3d"+encodeURIComponent(c)+d+(f?"; domain\x3d"+f:"")+(e?"; path\x3d"+e:"")+(g?"; secure":"");return!0},removeItem:function(a,c,b){if(!this.hasItem(a))return!1;document.cookie=encodeURIComponent(a)+"\x3d; expires\x3dThu, 01 Jan 1970 00:00:00 GMT"+(b?"; domain\x3d"+b:"")+(c?"; path\x3d"+c:"");return!0},hasItem:function(a){return a?(new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$\x26")+
"\\s*\\\x3d")).test(document.cookie):!1},keys:function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),c=a.length,b=0;b<c;b++)a[b]=decodeURIComponent(a[b]);return a}}})();
(function(D,s,p){function t(a,b,h){a.addEventListener?a.addEventListener(b,h,!1):a.attachEvent("on"+b,h)}function x(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);a.shiftKey||(b=b.toLowerCase());return b}return l[a.which]?l[a.which]:y[a.which]?y[a.which]:String.fromCharCode(a.which).toLowerCase()}function E(a){var b=[];a.shiftKey&&b.push("shift");a.altKey&&b.push("alt");a.ctrlKey&&b.push("ctrl");a.metaKey&&b.push("meta");return b}function u(a){return"shift"==a||"ctrl"==a||"alt"==a||
"meta"==a}function z(a,b){var h,c,e,n=[];h=a;"+"===h?h=["+"]:(h=h.replace(/\+{2}/g,"+plus"),h=h.split("+"));for(e=0;e<h.length;++e)c=h[e],A[c]&&(c=A[c]),b&&"keypress"!=b&&B[c]&&(c=B[c],n.push("shift")),u(c)&&n.push(c);h=c;e=b;if(!e){if(!g){g={};for(var k in l)95<k&&112>k||l.hasOwnProperty(k)&&(g[l[k]]=k)}e=g[h]?"keydown":"keypress"}"keypress"==e&&n.length&&(e="keydown");return{key:c,modifiers:n,action:e}}function C(a,b){return a===s?!1:a===b?!0:C(a.parentNode,b)}function c(a){function b(a){a=a||{};
var b=!1,m;for(m in q)a[m]?b=!0:q[m]=0;b||(v=!1)}function h(a,b,m,f,c,h){var r,e,l=[],k=m.type;if(!d._callbacks[a])return[];"keyup"==k&&u(a)&&(b=[a]);for(r=0;r<d._callbacks[a].length;++r)if(e=d._callbacks[a][r],(f||!e.seq||q[e.seq]==e.level)&&k==e.action){var g;(g="keypress"==k&&!m.metaKey&&!m.ctrlKey)||(g=e.modifiers,g=b.sort().join(",")===g.sort().join(","));g&&(g=f&&e.seq==f&&e.level==h,(!f&&e.combo==c||g)&&d._callbacks[a].splice(r,1),l.push(e))}return l}function l(a,b,m,f){d.stopCallback(b,b.target||
b.srcElement,m,f)||!1!==a(b,m)||(b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation?b.stopPropagation():b.cancelBubble=!0)}function e(a){"number"!==typeof a.which&&(a.which=a.keyCode);var b=x(a);b&&("keyup"==a.type&&w===b?w=!1:d.handleKey(b,E(a),a))}function n(a,c,m,f){function e(c){return function(){v=c;++q[a];clearTimeout(g);g=setTimeout(b,1E3)}}function h(c){l(m,c,a);"keyup"!==f&&(w=x(c));setTimeout(b,10)}for(var d=q[a]=0;d<c.length;++d){var n=d+1===c.length?h:e(f||z(c[d+1]).action);
k(c[d],n,f,a,d)}}function k(a,b,c,f,e){d._directMap[a+":"+c]=b;a=a.replace(/\s+/g," ");var g=a.split(" ");1<g.length?n(a,g,b,c):(c=z(a,c),d._callbacks[c.key]=d._callbacks[c.key]||[],h(c.key,c.modifiers,{type:c.action},f,a,e),d._callbacks[c.key][f?"unshift":"push"]({callback:b,modifiers:c.modifiers,action:c.action,seq:f,level:e,combo:a}))}var d=this;a=a||s;if(!(d instanceof c))return new c(a);d.target=a;d._callbacks={};d._directMap={};var q={},g,w=!1,p=!1,v=!1;d._handleKey=function(a,c,e){var f=h(a,
c,e),d;c={};var g=0,k=!1;for(d=0;d<f.length;++d)f[d].seq&&(g=Math.max(g,f[d].level));for(d=0;d<f.length;++d)f[d].seq?f[d].level==g&&(k=!0,c[f[d].seq]=1,l(f[d].callback,e,f[d].combo,f[d].seq)):k||l(f[d].callback,e,f[d].combo);f="keypress"==e.type&&p;e.type!=v||u(a)||f||b(c);p=k&&"keydown"==e.type};d._bindMultiple=function(a,b,c){for(var d=0;d<a.length;++d)k(a[d],b,c)};t(a,"keypress",e);t(a,"keydown",e);t(a,"keyup",e)}var l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",
27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},y={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},B={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","\x26":"7","*":"8","(":"9",")":"0",_:"-","+":"\x3d",":":";",'"':"'","\x3c":",","\x3e":".","?":"/","|":"\\"},A={option:"alt",command:"meta","return":"enter",
escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},g;p=1;p=0;c.prototype.bind=function(a,b,c){a=a instanceof Array?a:[a];this._bindMultiple.call(this,a,b,c);return this};c.prototype.unbind=function(a,b){return this.bind.call(this,a,function(){},b)};c.prototype.trigger=function(a,b){if(this._directMap[a+":"+b])this._directMap[a+":"+b]({},a);return this};c.prototype.reset=function(){this._callbacks={};this._directMap={};return this};c.prototype.stopCallback=function(a,
b){return-1<(" "+b.className+" ").indexOf(" mousetrap ")||C(b,this.target)?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable};c.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)};c.init=function(){var a=c(s),b;for(b in a)"_"!==b.charAt(0)&&(c[b]=function(b){return function(){return a[b].apply(a,arguments)}}(b))};c.init();D.Mousetrap=c;"undefined"!==typeof module&&module.exports&&(module.exports=c);"function"===typeof define&&define.amd&&
define(function(){return c})})(window,document);
(function(d){function f(){var g=e.result(this,"keyboardShortcuts"),a=[],c,b;for(c in g){b=g[c];e.isFunction(b)||(b=this[b]);if(!b)throw Error("Method "+b+" not found!");b=e.bind(b,this);a.push(h.bind(c,b))}return a}function k(){var a=e.result(this,"keyboardShortcuts"),d=[],c;for(c in a)a.hasOwnProperty(c)&&d.push(h.unbind(c));return d}var e=d.requires("underscore"),a=d.requires("backbone"),h=d.requires("Mousetrap"),l=a.Marionette.View.prototype.destroy,m=a.Marionette.View.prototype.delegateEvents,
n=a.Marionette.Behavior.prototype.destroy;e.extend(a.Marionette.View.prototype,{delegateEvents:function(a){m.call(this,a);return this.bindKeyboardShortcuts()},bindKeyboardShortcuts:function(){f.call(this)},destroy:function(){l.call(this);return this.unbindKeyboardShortcuts()},unbindKeyboardShortcuts:function(){k.call(this)}});e.extend(a.Marionette.Behavior.prototype,{bindKeyboardShortcuts:function(){f.call(this)},destroy:function(){n.call(this);return this.unbindKeyboardShortcuts()},unbindKeyboardShortcuts:function(){k.call(this)}})})(window.LIModules);
(function(l){function q(a){m=g(a,"/tracking/actions");n=g(a,"/tracking/impressions");r=g(a,"/cooloff/widgetToken");s=g(a,"/cooloff/group")}function g(a,b){var c=p.getPageContext();if(c&&a&&1<a.length){var c=e.param({csrfToken:c.csrfToken}),d;d="/"===a.substr(-1)?a.substr(0,a.length-1):a;return d+b+"?"+c}}function t(a){if(a)return a+"\x26sync\x3dtrue"}function f(a){return"[data-"+a+"]"}function h(a,b){var c=JSON.stringify(b);e.ajax({type:"POST",contentType:"application/json; charset\x3dutf-8",url:a,
data:c,dataType:"json"})}var e=l.requires("jquery"),p,m,n,r,s;e(function(){p=l.requires("play");q(p.getPageContext().contextPath);l.exports("PlayLego",{init:function(a){a=a||{};a.baseUrl&&q(a.baseUrl)},getTrackingData:function(a){var b,c,d,k,u,e;b=a.closest(f("li-lego-trk-token"));b.length&&(c=b.data("li-lego-trk-token"));a=a.closest(f("li-lego-action"));a.length&&(d=a.data("li-lego-action"),k=a.data("li-lego-action-name"),u=a.data("li-lego-action-count"),e=a.data("li-lego-sync"));return{token:c,
actionCategory:d,actionName:k,actionCount:u,sync:e}},setTrackingData:function(a,b){var c;b.token&&(c=a.closest(f("li-lego-trk-token")),c.length&&c.data("li-lego-trk-token",b.token));if(b.actionCategory||b.actionName||b.actionCount)c=a.closest(f("li-lego-action")),c.length&&(c.data("li-lego-action",b.actionCategory),c.data("li-lego-action-name",b.actionName),c.data("li-lego-action-count",b.actionCount),c.data("li-lego-sync",b.sync))},installClickHandler:function(a){var b=this,c=a.closest(f("li-lego-trk-token")).data("li-lego-trk-token");
a.on("click contextmenu",function(a){a=e(a.target);a=b.getTrackingData(a);b.fireActionEvent(c,a.actionCategory,a.actionName,a.actionCount,a.sync)})},fireActionEvent:function(a,b,c,d,k){var e=m;m&&a&&b&&(a={trackingToken:a,actionCategory:b,actionName:c||"default",actionCount:d||1},!0===k&&(e=t(e)),h(e,a))},fireImpressionEvent:function(a,b){var c=n,d;d=e.grep(a,function(a,b){return a});n&&d.length&&(d=e.map(d,function(a,b){return{trackingToken:a,visibility:"SHOW"}}),d={widgetsImpressionInfo:d},!0===
b&&(c=t(c)),h(c,d))},coolOffWidget:function(a,b){h(r,{trackingToken:a,cooloffPeriod:b})},coolOffWidgetForever:function(a){this.coolOffWidget(a,"time\x3e\x3d999y")},coolOffGroup:function(a,b,c,d,e){h(s,{pageId:a,layoutId:b,slotId:c,groupId:d,cooloffPeriod:e})}})})})(window.LIModules);
(function(e){function c(){this.calls=[];this.isProcessing=!1}var g=e.requires("backbone"),b=e.requires("underscore"),f=[];c.prototype=b.extend({step:function(a){var d;this.trigger("step");d=a.method.apply(a.context,b.map(a.args,b.clone));d.done(b.bind(function(){this.dequeue();a.deferred.resolveWith(d,arguments)},this));d.fail(b.bind(function(){this.isProcessing=!1;this.calls.unshift(a);a.deferred.rejectWith(d,arguments);this.trigger("error")},this))},dequeue:function(){var a=this.calls.shift();this.isProcessing=
!!a;a?this.step(a):this.trigger("stop")},enqueue:function(a,d,c){var b=$.Deferred();this.calls.push({context:a,method:d,args:c,deferred:b});this.resume();return b},resume:function(){this.isProcessing||this.dequeue()}},g.Events);c.create=function(a){return a?f[a]||(f[a]=new c):new c};e.exports("SyncQueue",c)})(window.LIModules);
(function(v){function w(d,h){var b=d.split("@"),e="";1<b.length&&(e=b[0]+"@",d=b[1]);d=d.replace(x,".");for(var b=d.split("."),a=b.length,k=[];a--;)k[a]=h(b[a]);b=k.join(".");return e+b}function t(d,h){return d+22+75*(26>d)-((0!=h)<<5)}var y=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,r=String.fromCharCode;v.exports("punycode",
{toASCII:function(d){return w(d,function(h){var b;if(y.test(h)){var e,a,k,d,n,c,f,l,g;b=[];var m,q,s;e=[];k=0;for(d=h.length;k<d;)c=h.charCodeAt(k++),55296<=c&&56319>=c&&k<d?(m=h.charCodeAt(k++),56320==(m&64512)?e.push(((c&1023)<<10)+(m&1023)+65536):(e.push(c),k--)):e.push(c);h=e;m=h.length;e=128;a=0;n=72;for(c=0;c<m;++c)g=h[c],128>g&&b.push(r(g));for((k=d=b.length)&&b.push("-");k<m;){f=2147483647;for(c=0;c<m;++c)g=h[c],g>=e&&g<f&&(f=g);q=k+1;if(f-e>p((2147483647-a)/q))throw new RangeError(u.overflow);
a+=(f-e)*q;e=f;for(c=0;c<m;++c){g=h[c];if(g<e&&2147483647<++a)throw new RangeError(u.overflow);if(g==e){l=a;for(f=36;;f+=36){g=f<=n?1:f>=n+26?26:f-n;if(l<g)break;s=l-g;l=36-g;b.push(r(t(g+s%l,0)));l=p(s/l)}b.push(r(t(l,0)));n=q;f=0;a=k==d?p(a/700):a>>1;for(a+=p(a/n);455<a;f+=36)a=p(a/35);n=p(f+36*a/(a+38));a=0;++k}}++a;++e}b="xn--"+b.join("")}else b=h;return b})}})})(window.LIModules);
(function(k){var g;if(window.crypto&&window.crypto.getRandomValues){var f=new Uint8Array(16);g=function(){window.crypto.getRandomValues(f);return f}}else{var h=Array(16);g=function(){for(var a=0,c;16>a;a++)0===(a&3)&&(c=4294967296*Math.random()),h[a]=c>>>((a&3)<<3)&255;return h}}k.exports("uuid",{generate:function(a){var c=g(),d=Array(16);c[6]=c[6]&15|64;c[8]=c[8]&63|128;for(var e=0;16>e;e++)d[e]=c[e];if(a){a=[];var b,c=0;b=d.length;for(var e=b%3,f=b-e;c<f;)b=d[c]<<16,b|=d[c+1]<<8,b|=d[c+2],a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b>>>
18&63)),a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b>>>12&63)),a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b>>>6&63)),a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b&63)),c+=3;switch(e){case 2:b=d[c]<<16;b|=d[c+1]<<8;a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b>>>18&63));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b>>>
12&63));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b>>>6&63));a.push("\x3d");break;case 1:b=d[c]<<16,a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b>>>18&63)),a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b>>>12&63)),a.push("\x3d"),a.push("\x3d")}d=a.join("")}return d}})})(window.LIModules);
/* Auto generated, hash = c452e1hmxhg2sb1axxvlfmoav */
/*!
 * typeahead.js 0.10.2
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
 */

!function(a){var b={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},noop:function(){}},c="0.10.2",d=function(){function a(a){return a.split(/\s+/)}function b(a){return a.split(/\W+/)}function c(a){return function(b){return function(c){return a(c[b])}}}return{nonword:b,whitespace:a,obj:{nonword:c(b),whitespace:c(a)}}}(),e=function(){function a(a){this.maxSize=a||100,this.size=0,this.hash={},this.list=new c}function c(){this.head=this.tail=null}function d(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(a.prototype,{set:function(a,b){var c,e=this.list.tail;this.size>=this.maxSize&&(this.list.remove(e),delete this.hash[e.key]),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new d(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0}}),b.mixin(c.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),a}(),f=function(){function a(a){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function c(){return(new Date).getTime()}function d(a){return JSON.stringify(b.isUndefined(a)?null:a)}function e(a){return JSON.parse(a)}var f,g;try{f=window.localStorage,f.setItem("~~~","!"),f.removeItem("~~~")}catch(h){f=null}return g=f&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(a){return this.isExpired(a)&&this.remove(a),e(f.getItem(this._prefix(a)))},set:function(a,e,g){return b.isNumber(g)?f.setItem(this._ttlKey(a),d(c()+g)):f.removeItem(this._ttlKey(a)),f.setItem(this._prefix(a),d(e))},remove:function(a){return f.removeItem(this._ttlKey(a)),f.removeItem(this._prefix(a)),this},clear:function(){var a,b,c=[],d=f.length;for(a=0;d>a;a++)(b=f.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=c.length;a--;)this.remove(c[a]);return this},isExpired:function(a){var d=e(f.getItem(this._ttlKey(a)));return b.isNumber(d)&&c()>d?!0:!1}}:{get:b.noop,set:b.noop,remove:b.noop,clear:b.noop,isExpired:b.noop},b.mixin(a.prototype,g),a}(),g=function(){function c(b){b=b||{},this._send=b.transport?d(b.transport):a.ajax,this._get=b.rateLimiter?b.rateLimiter(this._get):this._get}function d(c){return function(d,e){function f(a){b.defer(function(){h.resolve(a)})}function g(a){b.defer(function(){h.reject(a)})}var h=a.Deferred();return c(d,e,f,g),h}}var f=0,g={},h=6,i=new e(10);return c.setMaxPendingRequests=function(a){h=a},c.resetCache=function(){i=new e(10)},b.mixin(c.prototype,{_get:function(a,b,c){function d(b){c&&c(null,b),i.set(a,b)}function e(){c&&c(!0)}function j(){f--,delete g[a],l.onDeckRequestArgs&&(l._get.apply(l,l.onDeckRequestArgs),l.onDeckRequestArgs=null)}var k,l=this;(k=g[a])?k.done(d).fail(e):h>f?(f++,g[a]=this._send(a,b).done(d).fail(e).always(j)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(a,c,d){var e;return b.isFunction(c)&&(d=c,c={}),(e=i.get(a))?b.defer(function(){d&&d(null,e)}):this._get(a,c,d),!!e}}),c}(),h=function(){function c(b){b=b||{},b.datumTokenizer&&b.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=b.datumTokenizer,this.queryTokenizer=b.queryTokenizer,this.reset()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){return{ids:[],children:{}}}function f(a){for(var b={},c=[],d=0;d<a.length;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){function c(a,b){return a-b}var d=0,e=0,f=[];for(a=a.sort(c),b=b.sort(c);d<a.length&&e<b.length;)a[d]<b[e]?d++:a[d]>b[e]?e++:(f.push(a[d]),d++,e++);return f}return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;f=c.datums.push(a)-1,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b.children[g]||(b.children[g]=e()),b.ids.push(f)})})},get:function(a){var c,e,h=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=h.trie,c=a.split("");b&&(d=c.shift());)b=b.children[d];return b&&0===c.length?(f=b.ids.slice(0),void(e=e?g(e,f):f)):(e=[],!1)}),e?b.map(f(e),function(a){return h.datums[a]}):[]},reset:function(){this.datums=[],this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),i=function(){function d(a){return a.local||null}function e(d){var e,f;return f={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(e=d.prefetch||null)&&(e=b.isString(e)?{url:e}:e,e=b.mixin(f,e),e.thumbprint=c+e.thumbprint,e.ajax.type=e.ajax.type||"GET",e.ajax.dataType=e.ajax.dataType||"json",!e.url&&a.error("prefetch requires url to be set")),e}function f(c){function d(a){return function(c){return b.debounce(c,a)}}function e(a){return function(c){return b.throttle(c,a)}}var f,g;return g={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(f=c.remote||null)&&(f=b.isString(f)?{url:f}:f,f=b.mixin(g,f),f.rateLimiter=/^throttle$/i.test(f.rateLimitBy)?e(f.rateLimitWait):d(f.rateLimitWait),f.ajax.type=f.ajax.type||"GET",f.ajax.dataType=f.ajax.dataType||"json",delete f.rateLimitBy,delete f.rateLimitWait,!f.url&&a.error("remote requires url to be set")),f}return{local:d,prefetch:e,remote:f}}();!function(c){function e(b){b&&(b.local||b.prefetch||b.remote)||a.error("one of local, prefetch, or remote is required"),this.limit=b.limit||5,this.sorter=j(b.sorter),this.dupDetector=b.dupDetector||k,this.local=i.local(b),this.prefetch=i.prefetch(b),this.remote=i.remote(b),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new h({datumTokenizer:b.datumTokenizer,queryTokenizer:b.queryTokenizer}),this.storage=this.cacheKey?new f(this.cacheKey):null}function j(a){function c(b){return b.sort(a)}function d(a){return a}return b.isFunction(a)?c:d}function k(){return!1}var l,m;return l=c.Bloodhound,m={data:"data",protocol:"protocol",thumbprint:"thumbprint"},c.Bloodhound=e,e.noConflict=function(){return c.Bloodhound=l,e},e.tokenizers=d,b.mixin(e.prototype,{_loadPrefetch:function(b){function c(a){f.clear(),f.add(b.filter?b.filter(a):a),f._saveToStorage(f.index.serialize(),b.thumbprint,b.ttl)}var d,e,f=this;return(d=this._readFromStorage(b.thumbprint))?(this.index.bootstrap(d),e=a.Deferred().resolve()):e=a.ajax(b.url,b.ajax).done(c),e},_getFromRemote:function(a,b){function c(a,c){b(a?[]:f.remote.filter?f.remote.filter(c):c)}var d,e,f=this;return a=a||"",e=encodeURIComponent(a),d=this.remote.replace?this.remote.replace(this.remote.url,a):this.remote.url.replace(this.remote.wildcard,e),this.transport.get(d,this.remote.ajax,c)},_saveToStorage:function(a,b,c){this.storage&&(this.storage.set(m.data,a,c),this.storage.set(m.protocol,location.protocol,c),this.storage.set(m.thumbprint,b,c))},_readFromStorage:function(a){var b,c={};return this.storage&&(c.data=this.storage.get(m.data),c.protocol=this.storage.get(m.protocol),c.thumbprint=this.storage.get(m.thumbprint)),b=c.thumbprint!==a||c.protocol!==location.protocol,c.data&&!b?c.data:null},_initialize:function(){function c(){e.add(b.isFunction(f)?f():f)}var d,e=this,f=this.local;return d=this.prefetch?this._loadPrefetch(this.prefetch):a.Deferred().resolve(),f&&d.done(c),this.transport=this.remote?new g(this.remote):null,this.initPromise=d.promise()},initialize:function(a){return!this.initPromise||a?this._initialize():this.initPromise},add:function(a){this.index.add(a)},get:function(a,c){function d(a){var d=f.slice(0);b.each(a,function(a){var c;return c=b.some(d,function(b){return e.dupDetector(a,b)}),!c&&d.push(a),d.length<e.limit}),c&&c(e.sorter(d))}var e=this,f=[],g=!1;f=this.index.get(a),f=this.sorter(f).slice(0,this.limit),f.length<this.limit&&this.transport&&(g=this._getFromRemote(a,d)),g||(f.length>0||!this.transport)&&c&&c(f)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&g.resetCache()},ttAdapter:function(){return b.bind(this.get,this)}}),e}(this)}(window.jQuery);
/*!
 * typeahead.js 0.10.2
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
 */

!function(a){var b={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},noop:function(){}},c={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},d={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};b.isMsie()&&b.mixin(d.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),b.isMsie()&&b.isMsie()<=7&&b.mixin(d.input,{marginTop:"-1px"});var e=function(){function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d="typeahead:";return b.mixin(c.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger(d+a,b)}}),c}(),f=function(){function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0;!d&&e<a.length;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function g(){var a;return a=window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),g=function(a){function c(a,c,d){for(var e,f=[],g=0;g<a.length;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d;return(c=h.exec(b.data))&&(wrapperNode=a.createElement(e.tagName),e.className&&(wrapperNode.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),wrapperNode.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(wrapperNode,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),h=function(){function c(c){var e,f,g,i,j=this;c=c||{},c.input||a.error("input is missing"),e=b.bind(this._onBlur,this),f=b.bind(this._onFocus,this),g=b.bind(this._onKeydown,this),i=b.bind(this._onInput,this),this.$hint=a(c.hint),this.$input=a(c.input).on("blur.tt",e).on("focus.tt",f).on("keydown.tt",g),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop),b.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){h[a.which||a.keyCode]||b.defer(b.bind(j._onInput,j,a))}):this.$input.on("input.tt",i),this.query=this.$input.val(),this.$overflowHelper=d(this.$input)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function e(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function g(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var h;return h={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return(a||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(c.prototype,f,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(a){var b=h[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(a,b){var c,d,e;switch(a){case"tab":d=this.getHint(),e=this.getInputValue(),c=d&&d!==e&&!g(b);break;case"up":case"down":c=!g(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!g(b);break;default:c=!0}return c},_checkInputValue:function(){var a,b,c;a=this.getInputValue(),b=e(a,this.query),c=b?this.query.length!==a.length:!1,b?c&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=a)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a),b?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,b,c,d;a=this.getInputValue(),b=this.getHint(),c=a!==b&&0===b.indexOf(a),d=""!==a&&c&&!this.hasOverflow(),!d&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:document.selection?(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),c}(),i=function(){function e(d){d=d||{},d.templates=d.templates||{},d.source||a.error("missing source"),d.name&&!j(d.name)&&a.error("invalid dataset name: "+d.name),this.query=null,this.highlight=!!d.highlight,this.name=d.name||b.getUniqueId(),this.source=d.source,this.displayFn=h(d.display||d.displayKey),this.templates=i(d.templates,this.displayFn),this.$el=a(c.dataset.replace("%CLASS%",this.name))}function h(a){function c(b){return b[a]}return a=a||"value",b.isFunction(a)?a:c}function i(a,c){function d(a){return"<p>"+c(a)+"</p>"}return{empty:a.empty&&b.templatify(a.empty),header:a.header&&b.templatify(a.header),footer:a.footer&&b.templatify(a.footer),suggestion:a.suggestion||d}}function j(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var k="ttDataset",l="ttValue",m="ttDatum";return e.extractDatasetName=function(b){return a(b).data(k)},e.extractValue=function(b){return a(b).data(l)},e.extractDatum=function(b){return a(b).data(m)},b.mixin(e.prototype,f,{_render:function(e,f){function h(){return p.templates.empty({query:e,isEmpty:!0})}function i(){function h(b){var e;return e=a(c.suggestion).append(p.templates.suggestion(b)).data(k,p.name).data(l,p.displayFn(b)).data(m,b),e.children().each(function(){a(this).css(d.suggestionChild)}),e}var i,j;return i=a(c.suggestions).css(d.suggestions),j=b.map(f,h),i.append.apply(i,j),p.highlight&&g({node:i[0],pattern:e}),i}function j(){return p.templates.header({query:e,isEmpty:!o})}function n(){return p.templates.footer({query:e,isEmpty:!o})}if(this.$el){var o,p=this;this.$el.empty(),o=f&&f.length,!o&&this.templates.empty?this.$el.html(h()).prepend(p.templates.header?j():null).append(p.templates.footer?n():null):o&&this.$el.html(i()).prepend(p.templates.header?j():null).append(p.templates.footer?n():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(a){function b(b){c.canceled||a!==c.query||c._render(a,b)}var c=this;this.query=a,this.canceled=!1,this.source(a,b)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),e}(),j=function(){function c(c){var d,f,g,h=this;c=c||{},c.menu||a.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=b.map(c.datasets,e),d=b.bind(this._onSuggestionClick,this),f=b.bind(this._onSuggestionMouseEnter,this),g=b.bind(this._onSuggestionMouseLeave,this),this.$menu=a(c.menu).on("click.tt",".tt-suggestion",d).on("mouseenter.tt",".tt-suggestion",f).on("mouseleave.tt",".tt-suggestion",g),b.each(this.datasets,function(a){h.$menu.append(a.getRoot()),a.onSync("rendered",h._onRendered,h)})}function e(a){return new i(a)}return b.mixin(c.prototype,f,{_onSuggestionClick:function(b){this.trigger("suggestionClicked",a(b.currentTarget))},_onSuggestionMouseEnter:function(b){this._removeCursor(),this._setCursor(a(b.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function a(a){return a.isEmpty()}this.isEmpty=b.every(this.datasets,a),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(a,b){a.first().addClass("tt-cursor"),!b&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(a){var b,c,d,e;if(this.isOpen){if(c=this._getCursor(),b=this._getSuggestions(),this._removeCursor(),d=b.index(c)+a,d=(d+1)%(b.length+1)-1,-1===d)return void this.trigger("cursorRemoved");-1>d&&(d=b.length-1),this._setCursor(e=b.eq(d)),this._ensureVisible(e)}},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$menu.scrollTop(),e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>b?this.$menu.scrollTop(d+b):c>e&&this.$menu.scrollTop(d+(c-e))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){this.$menu.css("ltr"===a?d.ltr:d.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(a){var b=null;return a.length&&(b={raw:i.extractDatum(a),value:i.extractValue(a),datasetName:i.extractDatasetName(a)}),b},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(a){function c(b){b.update(a)}b.each(this.datasets,c)},empty:function(){function a(a){a.clear()}b.each(this.datasets,a),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function a(a){a.destroy()}this.$menu.off(".tt"),this.$menu=null,b.each(this.datasets,a)}}),c}(),k=function(){function f(c){var d,f,i;c=c||{},c.input||a.error("missing input"),this.isActivated=!1,this.autoselect=!!c.autoselect,this.minLength=b.isNumber(c.minLength)?c.minLength:1,this.$node=g(c.input,c.withHint),d=this.$node.find(".tt-dropdown-menu"),f=this.$node.find(".tt-input"),i=this.$node.find(".tt-hint"),f.on("blur.tt",function(a){var c,e,g;c=document.activeElement,e=d.is(c),g=d.has(c).length>0,b.isMsie()&&(e||g)&&(a.preventDefault(),a.stopImmediatePropagation(),b.defer(function(){f.focus()}))}),d.on("mousedown.tt",function(a){a.preventDefault()}),this.eventBus=c.eventBus||new e({el:f}),this.dropdown=new j({menu:d,datasets:c.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new h({input:f,hint:i}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function g(b,e){var f,g,h,j;f=a(b),g=a(c.wrapper).css(d.wrapper),h=a(c.dropdown).css(d.dropdown),j=f.clone().css(d.hint).css(i(f)),j.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),f.data(l,{dir:f.attr("dir"),autocomplete:f.attr("autocomplete"),spellcheck:f.attr("spellcheck"),style:f.attr("style")}),f.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(e?d.input:d.inputWithNoHint);try{!f.attr("dir")&&f.attr("dir","auto")}catch(k){}return f.wrap(g).parent().prepend(e?j:null).append(h)}function i(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function k(a){var c=a.find(".tt-input");b.each(c.data(l),function(a,d){b.isUndefined(a)?c.removeAttr(d):c.attr(d,a)}),c.detach().removeData(l).removeClass("tt-input").insertAfter(a),a.remove()}var l="ttAttrs";return b.mixin(f.prototype,{_onSuggestionClicked:function(a,b){var c;(c=this.dropdown.getDatumForSuggestion(b))&&this._select(c)},_onCursorMoved:function(){var a=this.dropdown.getDatumForCursor();this.input.setInputValue(a.value,!0),this.eventBus.trigger("cursorchanged",a.raw,a.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(a,b){var c,d;c=this.dropdown.getDatumForCursor(),d=this.dropdown.getDatumForTopSuggestion(),c?(this._select(c),b.preventDefault()):this.autoselect&&d&&(this._select(d),b.preventDefault())},_onTabKeyed:function(a,b){var c;(c=this.dropdown.getDatumForCursor())?(this._select(c),b.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(a,b){this.input.clearHintIfInvalid(),b.length>=this.minLength?this.dropdown.update(b):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var a;this.dir!==(a=this.input.getLanguageDirection())&&(this.dir=a,this.$node.css("direction",a),this.dropdown.setLanguageDirection(a))},_updateHint:function(){var a,c,d,e,f,g;a=this.dropdown.getDatumForTopSuggestion(),a&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(c=this.input.getInputValue(),d=h.normalizeQuery(c),e=b.escapeRegExChars(d),f=new RegExp("^(?:"+e+")(.+$)","i"),g=f.exec(a.value),g?this.input.setHint(c+g[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(a){var b,c,d,e;b=this.input.getHint(),c=this.input.getQuery(),d=a||this.input.isCursorAtEnd(),b&&c!==b&&d&&(e=this.dropdown.getDatumForTopSuggestion(),e&&this.input.setInputValue(e.value),this.eventBus.trigger("autocompleted",e.raw,e.datasetName))},_select:function(a){this.input.setQuery(a.value),this.input.setInputValue(a.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",a.raw,a.datasetName),this.dropdown.close(),b.defer(b.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(a){this.isActivated?this.input.setInputValue(a):(this.input.setQuery(a),this.input.setInputValue(a,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),k(this.$node),this.$node=null}}),f}();!function(){var c,d,f;c=a.fn.typeahead,d="ttTypeahead",f={initialize:function(c,f){function g(){var g,h,i=a(this);b.each(f,function(a){a.highlight=!!c.highlight}),h=new k({input:i,eventBus:g=new e({el:i}),withHint:b.isUndefined(c.hint)?!0:!!c.hint,minLength:c.minLength,autoselect:c.autoselect,datasets:f}),i.data(d,h)}return f=b.isArray(f)?f:[].slice.call(arguments,1),c=c||{},this.each(g)},open:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.open()}return this.each(b)},close:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.close()}return this.each(b)},val:function(b){function c(){var c,e=a(this);(c=e.data(d))&&c.setVal(b)}function e(a){var b,c;return(b=a.data(d))&&(c=b.getVal()),c}return arguments.length?this.each(c):e(this.first())},destroy:function(){function b(){var b,c=a(this);(b=c.data(d))&&(b.destroy(),c.removeData(d))}return this.each(b)}},a.fn.typeahead=function(a){return f[a]?f[a].apply(this,[].slice.call(arguments,1)):f.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this}}()}(window.jQuery);
(function(){var b=LIModules.requires("jQuery"),g=["dataset","bloodhoundEngine","i18nStrings","regionId"],f,a;f=function(h,c){this._$el=h;this._config=c;this._checkMissingConfigs();this._$label=b("#"+this._config.regionId);this._dropdownId="tt-dataset-"+this._config.dataset;this._attachAriaAttributes();this._attachTypeaheadEvents();this._handleResultLength()};a=f.prototype;a.destroy=function(){this._$el.off("typeahead:opened",b.proxy(this._setDropdownAttrs,this)).off("typeahead:cursorchanged",b.proxy(this._setActiveDescendant,
this)).off("typeahead:closed",b.proxy(this._removeActiveDescendant,this)).off("keyup.typeahead",b.proxy(this._resetLabelLength,this));this._$el.attr(this._originalElAriaAttrs);this._$label.attr(this._originalLabelAriaAttrs);this._config.bloodhoundEngine.get=this._originalGetResults};a._checkMissingConfigs=function(){var b=[],c,a,e;this._config.regionId=this._config.regionId||this._config.labelId;a=0;for(e=g.length;a<e;a++)c=g[a],this._config[c]||b.push(c);if(b.length)throw"["+b.join(",")+"] config(s) are missing from the AccessibleTwitterTypeahead module";
};a._attachAriaAttributes=function(){this._originalElAriaAttrs={role:this._$el.attr("role")||null,"aria-owns":this._$el.attr("aria-owns")||null,"aria-autocomplete":this._$el.attr("aria-autocomplete")||null};this._originalLabelAriaAttrs={"aria-live":this._$label.attr("aria-live")||null};this._$el.attr({role:"combobox","aria-owns":"tt-dataset-"+this._config.dataset,"aria-autocomplete":"list"});this._config.labelId&&(this._originalElAriaAttrs["aria-labelledby"]=this._$el.attr("aria-labelledby")||null,
this._$el.attr("aria-labelledby",this._config.labelId));this._$label.is("label")&&this._$el.attr("aria-live","polite");this._$label.attr("aria-live")||this._$label.attr("aria-live","polite")};a._attachTypeaheadEvents=function(){this._$el.on("typeahead:opened",b.proxy(this._setDropdownAttrs,this)).on("typeahead:cursorchanged",b.proxy(this._setActiveDescendant,this)).on("typeahead:closed",b.proxy(this._removeActiveDescendant,this)).on("keyup.typeahead",b.proxy(this._resetLabelLength,this))};a._setDropdownAttrs=
function(){this._$dropdown=this._$dropdown||b("."+this._dropdownId);this._$dropdown.attr({id:this._dropdownId,role:"listbox"})};a._setActiveDescendant=function(a,c){var d=(c.sourceID?c.sourceID+"-":"")+"item-"+c.rank;this._$el.attr("aria-activedescendant",d);this._$dropdown=this._$dropdown||b("#"+this._dropdownId);this._$dropdown.find("[aria-selected\x3dtrue]").attr("aria-selected",!1);b("#"+d).attr("aria-selected",!0)};a._removeActiveDescendant=function(){this._$el.removeAttr("aria-activedescendant");
this._resetRegion()};a._setLabelToLength=function(a){var c="";switch(a?a.length:0){case 0:c=this._config.i18nStrings.zeroResults;break;case 1:c=this._config.i18nStrings.singleResult;break;default:c=this._config.i18nStrings.multipleResults}this._$label.html(b("\x3cspan/\x3e").text(c))};a._handleResultLength=function(){var a=this;this._originalGetResults=this._config.bloodhoundEngine.get;this._config.bloodhoundEngine.get=function(b,d){var e=d;d=function(b){a._setLabelToLength(b);e(b)};a._originalGetResults.call(a._config.bloodhoundEngine,
b,d)}};a._resetRegion=function(){this._$label.text("")};a._resetLabelLength=function(){""===b.trim(this._$el.val())&&this._resetRegion()};LIModules.exports("AccessibleTwitterTypeahead",f)})();
/* Auto generated, hash = 1xyd1jmpd4tmnnlu1ks6yipvu */
/*
TalkIn
v1.3.0
(c) 2013 LinkedIn Corp.  All rights reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an "AS
IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
express or implied. See the License for the specific language
governing permissions and limitations under the License.
*/

if (!window.LI) {
  window.LI = {};
}
LI.TalkIn = LI.Talkin || (function(win) {
  'use strict';

  // Handshake message data for postMessage mode.
  var READY_MESSAGE = '__READY__',

    // Backwards-compatible ready message required for transition.
    // *** REMOVE in 1.3.1.
    LEGACY_READY_MESSAGE = 'ADTALK_READY',

    // Temporary property for postMessage data objects containing the target endpoint.
    ENDPOINT_PROPERTY = 'ADTALK_ENDPOINT',

    // The postMessage 'message' event.
    MESSAGE_EVENT = 'message',

    // Cached reference to the Object type.
    TYPE_OBJECT = '[object Object]',

    // A list of hashed origins allowed to send and receive messages.
    WHITELIST = [
      'nsN0FYX3oxPXHFo7F61hk3BLmgw', 'qOB2HzNYRUAtmrFigAFhhIdKZX8', 'ft6Qf4NlUr+igYY6o7gL3U9PAzA', 'r/LByGpOBknQftv1+tpZONO+1e8', 'UN2TmDNo1h5c+Bty9q7GqXYZ94Y', 'ilgaq1nh7Zup+ZAk5SgZPeLQKAE', 'j/jyhrBSfizuVEh/YcNna4pJlBM', '4rlVmy8S5DGns8N9yQ1S1zxQfyg', 'oYU1rheOj0XNs4hgDNyodd2YW8w', 'wC3CbUDuIqAJmcb/jGre+Rlb4T4', '+3DJhQPlY5rBArZfhlWss5X0P+I', 'JDYCNYT++v4sSG+FZL1+BAkzkGs', 'ue5T9aOY34YF+XnDD5Drnf5MOMg', 'Mfoz2r9CRt9122j7jy7TL5Fs5Dg'
    ],

    hash = (function() {
      /*
       * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined
       * in FIPS PUB 180-1
       * Version 2.1a Copyright Paul Johnston 2000 - 2002.
       * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
       * Distributed under the BSD License
       * See http://pajhome.org.uk/crypt/md5 for details.
       */

      /*
       * Configurable variables. You may need to tweak these to be compatible with
       * the server-side, but the defaults work in most cases.
       */
      var hexcase = 0,
        /* hex output format. 0 - lowercase; 1 - uppercase        */
        b64pad = '',
        /* base-64 pad character. "=" for strict RFC compliance   */
        chrsz = 8; /* bits per input character. 8 - ASCII; 16 - Unicode      */

      function b64_sha1(s) {
        return binb2b64(core_sha1(str2binb(s), s.length * chrsz));
      }

      /*
       * Calculate the SHA-1 of an array of big-endian words, and a bit length
       */

      function core_sha1(x, len) {

        var w = [80],
          a = 1732584193,
          b = -271733879,
          c = -1732584194,
          d = 271733878,
          e = -1009589776,
          olda,
          oldb,
          oldc,
          oldd,
          olde,
          i,
          j,
          t;

        /* append padding */
        x[len >> 5] |= 0x80 << (24 - len % 32);
        x[((len + 64 >> 9) << 4) + 15] = len;

        for (i = 0; i < x.length; i += 16) {

          olda = a;
          oldb = b;
          oldc = c;
          oldd = d;
          olde = e;

          for (j = 0; j < 80; j++) {

            if (j < 16) {
              w[j] = x[i + j];
            } else {
              w[j] = rol(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1);
            }
            t = safe_add(safe_add(rol(a, 5), sha1_ft(j, b, c, d)),
              safe_add(safe_add(e, w[j]), sha1_kt(j)));
            e = d;
            d = c;
            c = rol(b, 30);
            b = a;
            a = t;
          }

          a = safe_add(a, olda);
          b = safe_add(b, oldb);
          c = safe_add(c, oldc);
          d = safe_add(d, oldd);
          e = safe_add(e, olde);
        }

        return [a, b, c, d, e];
      }

      /*
       * Perform the appropriate triplet combination function for the current
       * iteration
       */

      function sha1_ft(t, b, c, d) {
        if (t < 20) {
          return (b & c) | ((~b) & d);
        }
        if (t < 40) {
          return b ^ c ^ d;
        }
        if (t < 60) {
          return (b & c) | (b & d) | (c & d);
        }
        return b ^ c ^ d;
      }

      /*
       * Determine the appropriate additive constant for the current iteration
       */

      function sha1_kt(t) {
        return (t < 20) ? 1518500249 : (t < 40) ? 1859775393 :
          (t < 60) ? -1894007588 : -899497514;
      }

      /*
       * Calculate the HMAC-SHA1 of a key and some data
       */

      function core_hmac_sha1(key, data) {

        var bkey = str2binb(key),
          ipad = [16],
          opad = [16],
          hash,
          i;

        if (bkey.length > 16) {
          bkey = core_sha1(bkey, key.length * chrsz);
        }

        for (i = 0; i < 16; i++) {
          ipad[i] = bkey[i] ^ 0x36363636;
          opad[i] = bkey[i] ^ 0x5C5C5C5C;
        }

        hash = core_sha1(ipad.concat(str2binb(data)), 512 + data.length * chrsz);
        return core_sha1(opad.concat(hash), 512 + 160);
      }

      /*
       * Add integers, wrapping at 2^32. This uses 16-bit operations internally
       * to work around bugs in some JS interpreters.
       */

      function safe_add(x, y) {
        var lsw = (x & 0xFFFF) + (y & 0xFFFF),
          msw = (x >> 16) + (y >> 16) + (lsw >> 16);
        return (msw << 16) | (lsw & 0xFFFF);
      }

      /*
       * Bitwise rotate a 32-bit number to the left.
       */

      function rol(num, cnt) {
        return (num << cnt) | (num >>> (32 - cnt));
      }

      /*
       * Convert an 8-bit or 16-bit string to an array of big-endian words
       * In 8-bit function, characters >255 have their hi-byte silently ignored.
       */

      function str2binb(str) {
        var bin = [],
          mask = (1 << chrsz) - 1,
          i;
        for (i = 0; i < str.length * chrsz; i += chrsz) {
          bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << (32 - chrsz - i % 32);
        }
        return bin;
      }

      /*
       * Convert an array of big-endian words to a string
       */

      function binb2str(bin) {
        var str = '',
          mask = (1 << chrsz) - 1,
          i;
        for (i = 0; i < bin.length * 32; i += chrsz) {
          str += String.fromCharCode((bin[i >> 5] >>> (32 - chrsz - i % 32)) & mask);
        }
        return str;
      }

      /*
       * Convert an array of big-endian words to a hex string.
       */

      function binb2hex(binarray) {
        var hex_tab = hexcase ? '0123456789ABCDEF' : '0123456789abcdef',
          str = '',
          i;
        for (i = 0; i < binarray.length * 4; i++) {
          str += hex_tab.charAt((binarray[i >> 2] >> ((3 - i % 4) * 8 + 4)) & 0xF) +
            hex_tab.charAt((binarray[i >> 2] >> ((3 - i % 4) * 8)) & 0xF);
        }
        return str;
      }

      /*
       * Convert an array of big-endian words to a base-64 string
       */

      function binb2b64(binarray) {
        var tab = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',
          str = '',
          triplet,
          i,
          j;
        for (i = 0; i < binarray.length * 4; i += 3) {
          triplet = (((binarray[i >> 2] >> 8 * (3 - i % 4)) & 0xFF) << 16) | (((binarray[i + 1 >> 2] >> 8 * (3 - (i + 1) % 4)) & 0xFF) << 8) | ((binarray[i + 2 >> 2] >> 8 * (3 - (i + 2) % 4)) & 0xFF);
          for (j = 0; j < 4; j++) {
            if (i * 8 + j * 6 > binarray.length * 32) {
              str += b64pad;
            } else {
              str += tab.charAt((triplet >> 6 * (3 - j)) & 0x3F);
            }
          }
        }
        return str;
      }

      return function(h) {
        return b64_sha1(h);
      };
    }()),

    // A cached reference to the document object.
    doc = win.document,

    // A cached reference to window.top.
    windowTop = win.top,

    // Checks if the top window is running the script.
    // We need to 'window.window' to work in IE8.
    isTopWindow = win.window === windowTop,

    // Checks if a WebKit browser is running the script.
    // Feature detection does the trick.
    isWebKit = win.webkitURL !== undefined,

    // Is this browser good and modern?
    hasPostMessage = win.postMessage !== undefined,

    // Cached reference to the object prototype's toString method.
    toStringProto = Object.prototype.toString,

    // If the browser does not pass same-origin security and doesn't support postMessage,
    // we'll fall back to iframe support. This boolean lets TalkIn know the support harness is ready.
    isLegacyReady = false,

    // If the child initializes first and immediately sends a message (on page load perhaps), the parent
    // may not be ready to receive it. The message will be resent this number of times per 100ms to
    // allow the parent to finish loading.
    handshakeTimeout = 20,

    // A reference to the handshaking setInterval.
    handshakeInterval,

    // Object namespace containing a collection of methods that can be executed via TalkIn.
    endpointNamespace,

    // The origin of the opposite TalkIn node.
    remoteOrigin,

    // If we're using postMessage and the handshake fails, TalkIn.send will
    // attempt to shake hands again. The data send with the initial call will be
    // reused when the handshake is successful.
    cachedData = [],

    // Methods to bind listeners to objects. (el, evt, fn)
    addListener,
    removeListener;

  /**
   * Removes the document's subdomains in an attempt to match origins.
   *
   * @return {Boolean} Returns true if the domain was stripped.
   */

  function stripSubdomain() {
    var newDomain = doc.domain.split('.').slice(-2).join('.');
    if (doc.domain !== newDomain) {
      doc.domain = newDomain;
      return true;
    }
    return false;
  }

  /**
   * Checks to see if the given origin is whitelisted for cross-document communication.
   *
   * @param  {String}  origin The origin you wish to check.
   *
   * @return {Boolean}        Returns true if the given origin is whitelisted.
   */

  function isWhitelistedOrigin(origin) {
    var len = WHITELIST.length,
      hashedOrigin = hash(origin);
    while (len--) {
      if (WHITELIST[len] === hashedOrigin) {
        return true;
      }
    }
    return false;
  }

  /**
   * Sets methods to add and remove events based on browser capabilities.
   *
   */

  function configureListenerMethods() {

    // Standard support.
    if (win.addEventListener) {
      addListener = function(el, evt, fn) {
        el.addEventListener(evt, fn, false);
      };
      removeListener = function(el, evt, fn) {
        el.removeEventListener(evt, fn);
      };
    }

    // Old IE support.
    else if (win.attachEvent) {
      addListener = function(el, evt, fn) {
        el.attachEvent('on' + evt, fn);
      };
      removeListener = function(el, evt, fn) {
        el.detachEvent('on' + evt, fn);
      };
    }
  }

  /**
   * Determines if the passed argument is an object or not.
   *
   * @param  {...}  obj   A value to test.
   *
   * @return {Boolean}    Is the argument an object?
   */

  function isObject(obj) {
    return toStringProto.call(obj) === TYPE_OBJECT;
  }

  /**
   * Invokes the endpoint, checking to see if the enpoint is namespaced or not.
   * (For instance, the endpoint 'foo.bar' will execute 'bar' on the 'foo' object
   * in TalkIn's 'endpoints' namespace.)
   *
   * @param  {String || Object} endpointOrData  The endpoint you wish to invoke, by string.
   *                                            Can be namespaced with a period (E.G. 'foo' or 'foo.bar').
   *                                            Or, an object containing endpoints and the
   *                                            data you wish to deliver.
   * @param  {Object} data                      The data object you wish to pass to the endpoint.
   *                                            Not required if the first argument is a data object.
   */

  function invokeEndpoint(endpointOrData, data) {

    var endpoint, node, base;

    // If the first argument is an object, loop through the base objects (which should be endpoints).
    // Invoke this function again using the key as a method and value as data.
    if (isObject(endpointOrData)) {
      for (endpoint in endpointOrData) {
        invokeEndpoint(endpoint, endpointOrData[endpoint]);
      }
    }

    // Else, process the endpoint and data normally.
    else {
      endpoint = endpointOrData.split('.'),
      node = endpoint[0],
      base = endpointNamespace.hasOwnProperty(node) ? endpointNamespace[node] : null;

      if (endpoint.length > 1) {
        node = endpoint[1];
        if (base.hasOwnProperty(node)) {
          base[node](data);
        }
      } else {
        base(data);
      }
    }
  }

  /**
   * Invoked when a postMessage event is captured. This is used when setting up the communication
   * handshake and actually invoking the endpoints with data.
   *
   * @param  {Object} evt   The postMessage event object.
   */

  function processMessage(evt) {

    var data = evt.data,
      parsedData,
      endpoint,
      cached;

    // If the origin is not whitelisted, silently exit.
    if (!isWhitelistedOrigin(evt.origin)) {

      return;
    }

    // If this is the parent...
    if (isTopWindow) {

      // *** UPDATE in 1.3.1.
      if (data === READY_MESSAGE || data === LEGACY_READY_MESSAGE) {

        endpointNamespace = LI.TalkIn.endpoints;
        evt.source.postMessage(READY_MESSAGE, evt.origin);
      } else {

        try {
          parsedData = JSON.parse(data);
          endpoint = parsedData[ENDPOINT_PROPERTY] || parsedData;

          delete parsedData[ENDPOINT_PROPERTY];
          invokeEndpoint(endpoint, parsedData);
        } catch (err) {

        }

      }

    }

    // If this is the child...
    else {

      // *** UPDATE in 1.3.1.
      if (!remoteOrigin && (data === READY_MESSAGE || data === LEGACY_READY_MESSAGE)) {
        remoteOrigin = evt.origin;
        removeListener(win, MESSAGE_EVENT, processMessage);

        // If the ready message was received as a result of rapid handshake attempts,
        // end and clear the interval.
        if (handshakeInterval) {
          win.clearInterval(handshakeInterval);
          handshakeInterval = null;
        }

        // If there is cachedData, that means TalkIn.send initially failed the handshake.
        // Now that it was successful, attempt to send the initial data again.
        while (cachedData.length) {

          cached = cachedData.pop();
          if (cached[ENDPOINT_PROPERTY]) {
            LI.TalkIn.send(cached[ENDPOINT_PROPERTY], cached);
          } else {
            LI.TalkIn.send(cached);
          }
        }
      }

    }

  }

  // Initialize

  // Set event listener attach/detatch methods.
  configureListenerMethods();

  // Configure the parent to listen for potential postMessage messages.
  if (isTopWindow) {

    if (hasPostMessage) {
      addListener(win, MESSAGE_EVENT, processMessage);
    }
  }

  // If this isn't the top window then it's probably the iframe that wishes to communicate.
  // Let's try a few methods to establish a connection.
  else {

    // If Webkit, don't try to access the parent's object at all; Webkit won't catch security errors.
    if (!isWebKit) {

      // Try accessing the 'endpoints' namespace.
      try {

        endpointNamespace = windowTop.LI.TalkIn.endpoints;
      } catch (err) {

        // If that fails, try stripping subdomains in an attempt to match and try again.
        try {

          if (stripSubdomain()) {
            endpointNamespace = windowTop.LI.TalkIn.endpoints;
          }
        }

        // If it still fails, give up accessing the parent directly.
        catch (lastErr) {

        }
      }
    }

    // If the namespace couldn't be set and this is a modern browser, resort to postMessage.
    if (hasPostMessage && !endpointNamespace) {
      //Set a listener to establish a postMessage handshake for security purposes.

      addListener(win, MESSAGE_EVENT, processMessage);
    }

  }

  return {

    // Available endpoints that can be accessed by TalkIn.
    endpoints: {},

    /**
     * Register an endpoint to be accessed by the child. The endpoint can either be
     * a function or an object that exposes functions---the latter being useful for
     * organizing a collection of similar methods.
     *
     * @param  {String}               name       The name of the endpoint to access.
     * @param  {Function || Object}   endpoint   The function to invoke or an object
     *                                           that exposes functions to invoke.
     */
    register: function(name, endpoint) {

      var endpoints = this.endpoints,
        endpointObject,
        p;

      if (name && endpoint && endpoint instanceof Object) {
        if (endpoints[name] && isObject(endpoint)) {
          endpointObject = endpoints[name];
          for (p in endpoint) {
            endpointObject[p] = endpoint[p];
          }
        } else {
          endpoints[name] = endpoint;
        }
      }
    },

    VERSION: '1.3.0'

  };

}(window));

/**
 *  Expand
 *  TalkIn Plugin
 *
 *  The AdExpand API is a collection of methods used to build interactions
 *  with expandable ads. Please note that TalkIn must be available to use the AdExpand API.
 *
 **/

LI.TalkIn.register('ads', (function(win) {
  'use strict';

  var doc = win.document;

  /**
   * Configure a DOM element to be expandable. If the element has already been initialized,
   * the constructor call returns the cached version.
   *
   * @param  {Object} data    A JSON object containing configuration data. Valid options:
   *
   *                          - containerId:  The id of the element you wish to initialize.
   *                          - width:        The width of the expanded state.
   *                          - height:       The height of the expanded state.
   *                          - top:          The upward pixel expanded amount.
   *                          - delta:        When set to true, width will be added to the current width.
   *                          - animate:      The duration of the expand animation. If not included,
   *                                          the container will not animate.
   *                          - push:         When true, the container's resize will affect the layout
   *                                          around it (i.e. it won't be an overlay).
   *                          - forget:       The calculated expandData will be purged upon expansion.
   *                                          This is useful for AutoExpand ads that may also be
   *                                          expandable ads, taking advantage of the AdExpand API.
   *                                          Without setting forget, the initial expansion (reveal) will
   *                                          be stuck and the normal expandable capabilities will fail.
   *
   */
  function ExpandableContainer(config) {

    var container;

    if (config) {
      container = this.getOrSetCache(config.containerId);

      // If the container has calculated it's expanded state, return it.
      if (container.expandData) {
        return container;
      }

      // Else if the config includes dimensional information, configure the container.
      else if (config.width || config.height || config.top) {
        return container.configure(config);
      }
    }
    else {
      throw new Error('ExpandableContainer requires a config object. Refer to the API for details.');
    }
  }

  ExpandableContainer.prototype = {

    // Size units for positioning containers.
    UNIT: 'px',

    // The minimum stacking value.
    MIN_ZINDEX: 5,

    // The default expanded zIndex if not defined in the config.
    MAX_ZINDEX: 10000,

    // The element style attributes that can be altered.
    ATTRIBUTES: ['left', 'width', 'height', 'top'],

    // A collection of previously-initialized containers.
    _cache: {},

    /**
     * Retrieves an ExpandableContainer by id from cache, or sets the cache
     * if a container is not found.
     *
     * @param  {String} id The container's identifier. Either a DOM id or ad tile id.
     *
     * @return {ExpandableContainer}    A cached or newly-created container.
     */
    getOrSetCache: function(id) {

      var cache = this._cache,
          container = cache[id];

      if (container) {
        return container;
      }

      cache[id] = this;
      return this;
    },

    /**
     * Calculates and sets attributes provided by the passed config to properly
     * expand and collapse the container.
     *
     * @param  {Object} config  Attributes to configure the container. (See constructor for list.)
     *
     */
    configure: function(config) {

      // Fetch and set the container by config id.
      var container = this.container = this.getElement(config.containerId),
          containerStyle = this.containerStyle = container.style,
          delta = config.delta,
          collapsed = {},
          expanded = {};

      // Calculate the collapsed/idle dimensions.
      collapsed.width = container.offsetWidth;
      collapsed.height = container.offsetHeight;

      // Calculate the expanded width and height dimensions:
      //    If 'delta' and a value config was passed, start calculating at the collapsed value. Else, start at 0.
      //    Now add the config's value, falling back on the collapsed (idle) value, falling back on the container's set value.
      expanded.width = +((delta && config.width ? collapsed.width : 0) + (config.width || collapsed.width || container.width));
      expanded.height = +((delta && config.height ? collapsed.height : 0) + (config.height || collapsed.height || container.height));

      // Calculate the expanded top/bottom values for multidimensional expansion, if applicable.
      // We add the top (will be a negative number from the config) and then add it to the height.
      if (config.top) {
        collapsed.top = container.offsetTop;
        expanded.top = +((delta ? collapsed.top : 0) + config.top);
        expanded.height += expanded.top * -1;
      }

      // If push is not set, pop this container from the layout flow and append it as an overlay.
      // Calculate and set 'left' values.
      if (!config.push) {
        this.detach(collapsed);
        collapsed.left = parseInt(containerStyle.left, 10);
        expanded.left = collapsed.left - (expanded.width - collapsed.width);
      }

      // If animation was requested and jQuery/Zepto is available, use it.
      this.animation = win.$ && win.$().animate && config.animate;

      // Configure the two states as static objects.
      this.setStateData(collapsed, expanded);

      // Set a flag if this is an AutoExpand ad.
      if (config.forget) {
        this.forget = true;
      }

      // Caches the container's parent's z-index which is used to help
      // bolster the stacking context containing the ad.
      this.parentZIndex = this.getStyle('z-index', container.parentNode);

      return this;
    },

    /**
     * Determines which calculated properties need to be updated on expand/collapse.
     * For instance, if the expanded width and collapsed width are the same, there's
     * no need to set or animate these properties.
     *
     * @param {Object} collapsed  A collection of attributes and values when collapsed.
     * @param {Object} expanded   A collection of attributes and values when expanded.
     *
     */
    setStateData: function(collapsed, expanded) {

      var unit = this.UNIT,
          attributes = this.ATTRIBUTES.slice(0),
          attribute;

      // For each configurable attribute, check to see if the expand and collapse states match.
      // If they do, remove the attribute. If they don't, append a unit that CSS understands.
      while (attributes.length) {
        attribute = attributes.pop();
        if (collapsed[attribute] === expanded[attribute]) {
          delete collapsed[attribute];
          delete expanded[attribute];
        }
        else {
          collapsed[attribute] += unit;
          expanded[attribute] += unit;
        }
      }

      // Append the zIndex to the objects.
      collapsed.zIndex = this.MIN_ZINDEX;
      expanded.zIndex = this.MAX_ZINDEX;

      // Set the objects as properties on ExpandableContainer.
      this.collapseData = collapsed;
      this.expandData = expanded;
    },

    /**
     * Get the element associated with this container by either DOM id or DoubleClick tile id.
     * If the id is a number, it's probably a tile id.
     *
     * @param  {Number || String} id    Either the DOM id or tile id of the element.
     *
     * @return {DOMElement}             The element retrieved.
     *
     */
    getElement: function(id) {
      return isNaN(id) ? doc.getElementById(id) : this.getElementByTileId(id);
    },

    /**
     * Gets an element by DoubleClick tile id which is found in the src as part of the pathname.
     *
     * @param  {String} id      A tile id which should be a number as a string.
     *
     * @return {DOMElement}     The DOM element.
     *
     */
    getElementByTileId: function(id) {

      var TILE_REGEX = /(;tile|&ti)=\d/g,
        iframes = doc.getElementsByTagName('iframe'),
        len = iframes.length,
        iframe,
        tileParam;

      while (len--) {
        iframe = iframes[len];
        tileParam = iframe.src.match(TILE_REGEX);
        if (tileParam && tileParam[0].slice(tileParam[0].indexOf('=') + 1) === id) {
          return iframe;
        }
      }

      return null;
    },

    /**
     * Retrieves a current computed style for the container. Two methods are used to ensure
     * cross-browser compatibility. For IE8, the property wil be converted to lower camel case.
     *
     * @param  {String} property The style property value you wish to retrieve.
     * @param  {DOMElement} [element=this.container] The element you wish to read a property from.
     *
     * @return {String}          The value of the style property.
     *
     */
    getStyle: function(property, element) {

      element = element || this.container;

      if (element && property) {
        if (win.getComputedStyle) {
          return win.getComputedStyle(element).getPropertyValue(property);
        }
        else if (element.currentStyle) {
          return element.currentStyle[this.camelize(property)];
        }
      }

      return '';
    },

    /**
     * Converts a hyphenated string to lower camel case.
     *
     * @param  {String} string The string to convert.
     *
     * @return {String}        The converted string.
     *
     */
    camelize: function(string) {
      return string.replace(/\-[a-z]/g, function(match) {
        return match[1].toUpperCase();
      });
    },

    /**
     * Remove the container element from the document flow, setting a placeholder and
     * attaching the element as an overlay.
     *
     * @param {Object} collapsed A collection of properties defining the collapsed state.
     *
     */
    detach: function(collapsed) {

      var container = this.container,
          containerStyle = this.containerStyle;

      // Insert the placeholder after the ad container and detatch the container.
      if (!this.placeholder) {
        container.parentNode.insertBefore(this.createPlaceholder(collapsed), container.nextSibling);
        containerStyle.position = 'absolute';
        containerStyle.top = container.offsetTop + this.UNIT;
        containerStyle.left = container.offsetLeft + this.UNIT;
        containerStyle.zIndex = this.MIN_ZINDEX;
      }
    },

    /**
     * Generate a placeholder element that matches the element being detached. The placeholder's
     * display style property should match the container it's replacing. However, iframes (the most
     * likely container) report 'inline' but should really be 'inline-block' to maintain the correct layout.
     *
     * @param {Object} collapsed A collection of properties defining the collapsed state.
     *
     * @return {DOMElement} The placeholder element.
     *
     */
    createPlaceholder: function(collapsed) {

      var placeholder = this.placeholder = doc.createElement('div'),
          placeholderStyle = placeholder.style,
          containerDisplay = this.getStyle('display');

      placeholderStyle.width = collapsed.width + this.UNIT;
      placeholderStyle.height = collapsed.height + this.UNIT;
      placeholderStyle.display = (containerDisplay === 'inline') ? 'inline-block' : containerDisplay;

      return placeholder;
    },

    /**
     * Expands a container based on the config.
     *
     */
    expand: function() {

      var data = this.expandData;

      if (this.animation) {
        // AutoExpand ads are display:none by default. Show them before animating.
        this.containerStyle.display = '';
        this.containerStyle.zIndex = data.zIndex;
        this.animate(data);
      }
      else {
        this.resize(data);
      }

      // If this is an AutoExpand ad, purge expandData to reset expansion properties
      // so the ad can use AdExpand properly.
      if (this.forget) {
        delete this.forget;
        this.expandData = null;
      }
    },

    /**
     * Collapses a container based on the config.
     *
     */
    collapse: function() {
      var data = this.collapseData;
      if (this.animation) {
        this.animate(data);
      }
      else {
        this.resize(data);
      }
    },

    /**
     * Resizes the container based on the passed data object. If the container's parent
     * is stacked, adjust the parent's z-index.
     *
     * @param  {Object} data A map of attributes to update.
     *
     */
    resize: function(data) {

      var containerStyle = this.containerStyle,
          d;

      for (d in data) {
        containerStyle[d] = data[d];
      }

      // If the container's parent has a z-index, adjust it accordingly:
      // For expanding, set it to MAX_ZINDEX. For collapsing, revert back to the original.
      if (!isNaN(this.parentZIndex)) {
        this.container.parentNode.style.zIndex = (data.zIndex === this.MAX_ZINDEX) ? this.MAX_ZINDEX : this.parentZIndex;
      }
    },

    /**
     * Animate the transition using the jQuery/Zepto animate method.
     *
     * @param  {Object} data  A collection of CSS properties to animate.
     *
     */
    animate: function(data) {
      win.$(this.container).animate(data, this.animation);
    }

  };

  return {

    // The ExpandableContainer constructor exposed for testing.
    ExpandableContainer: ExpandableContainer,

    /**
     * Configure a DOM element to be expandable. If the element has already been initialized,
     * the constructor call returns the cached version.
     *
     * @param  {Object} A JSON object containing configuration data.
     *
     * @return {ExpandableContainer} The expandable element requested by id.
     *
     */
    initialize: function(data) {
      return new ExpandableContainer(data);
    },

    /**
     * Open an expandable ad (3rd-party 'burstable' ad spots).
     *
     * @param  {Object} data    A JSON object containing configuration data.
     *
     */
    expand: function(data) {
      this.initialize(data).expand();
    },

    /**
     * Close an expanded ad.
     *
     * @param  {Object} data    A JSON object containing configuration data.
     *
     */
    collapse: function(data) {
      this.initialize(data).collapse();
    }

  };

}(window)));
(function(a){var b=a.requires("jquery"),c=a.requires("underscore"),l=a.requires("dust");a.imports("Controls");var e=a.requires("BaseControl"),p=a.requires("i18n"),q=a.imports("Controls.parseFragment")||function(){},h=a.imports("environment"),n=a.imports("LiX"),m=a.imports("jSecure"),f=null,r=function(b){f&&"function"===typeof f&&f();f=b},k=function(){},e=e.extend(function(a){function e(){for(var g=[{key:"errorMessage",value:"dialogbox_error_generic"},{key:"closeText",value:"dialogbox_close"},{key:"startText",
value:"dialogbox_start"},{key:"endText",value:"dialogbox_end"}],b=g.length,d=0,a={},c="";d<b;d++)(c=p.get(g[d].value))&&(a[g[d].key]=c);return a}var f={width:500,top:150,xOffset:0,yOffset:0,errorMessage:"We're sorry. Something unexpected happened and your request could not be completed. Please try again.",closeText:"Close",startText:"Dialog start",endText:"Dialog end",customClassName:void 0,dialogTemplate:"tl/shared/dialog",dialogCss:h&&h.consumer2?["css!scss/modules/dialog/dialog_standalone"]:["css!scss/modules/dialog_v3"],
cssDependencies:null,templateDataUrl:null,centerVertically:!1,fitDialogBoxToWindow:!0,callbacks:{beforeOpen:k,afterOpen:k,beforeClose:k,afterClose:k}};return{beforeDecoration:function(){this._$dialog=void 0;this._config=c.defaults(this._config,e(),f);this._config.callbacks=c.defaults(this._config.callbacks,f.callbacks);this._requiredTemplates=[this._config.dialogTemplate];this._requiredCSS=c.flatten(c.compact([this._config.dialogCss,this._config.cssDependencies]));this._href=this._config.templateDataUrl||
this._$el.data("href")||this._$el.attr("href")},attachEventListeners:function(){this._$el.on("click",c.bind(this._eventOpen,this))},detachEventListeners:function(){this._$el.off("click")},onResolve:function(b){this.open()},_eventOpen:function(b){b.preventDefault();this.open()},_eventClose:function(b){b.preventDefault();this.close()},_keyupHandler:function(b){27===b.which&&this._eventClose(b)},_resizeHandler:c.throttle(function(b){this._$dialog&&this._$dialog.length&&(this._$dialog.css(this._getPosition()),
this._fitToWindow())},500),_attachEventListeners:function(){this._$dialog.on("click",".dialog-close",this._eventClose);b(document).on("keyup",this._keyupHandler);b(window).on("resize",this._resizeHandler)},open:function(){if(!this._opened)return this._config.callbacks.beforeOpen(this),this._opened=!0,b.when(this.loadDependencies(this._requiredTemplates),this.loadCss(this._requiredCSS)).then(r(c.bind(this.close,this))).then(c.bind(this._render,this)).then(c.bind(this.setFocusToDialog,this)).then(c.bind(function(){this._config.callbacks.afterOpen(this)},
this)).fail(c.bind(this.close,this))},close:function(){this._opened&&this._config.callbacks.beforeClose(this);this._$dialog&&this._$dialog.remove();this._rendered=!1;b(document).off("keyup",this._keyupHandler);b(window).off("resize",this._resizeHandler);this._opened&&(this._opened=!1,this._$el.focus(),this._config.callbacks.afterClose(this))},destroy:function(){this.close();this.detachEventListeners();a.destroy.apply(this,arguments)},setFocusToDialog:function(){this._$dialog.attr("tabindex",-1);this._$dialog.focus()},
_loadContent:function(){var g=b(this._href),a=g.html(),d=new b.Deferred;g[0]||!this._href?d.resolve(a):d.reject();return d.promise()},_buildMarkup:function(){return this._renderDialogMarkup().then(this._renderMarkUpSuccess,this._renderMarkUpFailure)},_renderMarkUpSuccess:function(a){this._$dialog=b(a).prop("id","modeless-dialog");this._config.customClassName&&this._$dialog.addClass(this._config.customClassName);b("body").append(this._$dialog);this._$dialog.css(this._getPosition());this._rendered=
!0},_renderMarkUpFailure:function(){throw Error("Unable to render dialog markup");},_loadContentSuccess:function(b){this.setDialogBodyContent(b)},_loadContentFail:function(){this.setDialogBodyContent(this._config.errorMessage)},setDialogBodyContent:function(a,c){var d=this._$dialog.find(".dialog-body")[0];c=c||{};var h=m&&m.setElementContent;!c.isUnsafe&&n&&"enabled"===n.get("jsecure_Dialog")&&h?m.setElementContent(d,a,{}):b(d).html(a);q(this._$dialog);this._$dialog.css(this._getPosition());this._fitToWindow()},
_render:function(){return this._buildMarkup().then(this._loadContent).then(this._loadContentSuccess,this._loadContentFail).always(this._attachEventListeners)},_renderDialogMarkup:function(){var a=new b.Deferred;l.render(this._config.dialogTemplate,this._config,function(b,c){b?a.reject(b):a.resolve(c)});return a.promise()},_getPosition:function(){var a=b(window),c=this._config.top,d=a.innerWidth()/2-this._config.width/2+this._config.xOffset;this._config.centerVertically&&(c=a.innerHeight()/2-this._$dialog.outerHeight()/
2+this._config.yOffset,c=Math.max(c,this._config.top));return{left:d,top:c}},_fitToWindow:function(){var a=b(window).innerHeight()-this._config.top-50,c=this._$dialog.find(".dialog-title").outerHeight(),d;d=this._$dialog.clone().css("visibility","hidden");d.find(".dialog-body").height("auto");b("body").append(d);d.height()>a&&this._config.fitDialogBoxToWindow?this._$dialog.find(".dialog-body").height(a-c):this._$dialog.find(".dialog-body").height("auto");d.remove()}}});a.exports("DialogBox",e)})(window.LIModules);
(function(a){var b=a.requires("jquery"),c=a.requires("underscore"),l=a.requires("dust"),e=a.requires("DialogBox").extend(function(a){var e={maskTemplate:"tl/shared/dialog_mask",fitToWindow:!0,closeOnMaskClick:!0};return{beforeDecoration:function(){a.beforeDecoration.call(this);this._config=c.defaults(this._config,e);this._requiredTemplates=[this._config.maskTemplate,this._config.dialogTemplate];this._requiredCSS=c.flatten(c.compact([this._config.dialogCss,this._config.cssDependencies]));this._initialHtmlOverflowValue=
this._$mask=void 0;this._config.fitToWindow||(this._fitToWindow=function(){})},_maskClickHandler:function(a){b(a.target).is("#dialog-mask")&&this._eventClose(a)},_attachEventListeners:function(){a._attachEventListeners.call(this);if(this._config.closeOnMaskClick)this._$mask.on("click",this._maskClickHandler);b(document).on("focusin",this._trapFocus)},close:function(){this._opened&&this._config.callbacks.beforeClose(this);this._$mask&&this._$mask.remove();b(document).off("keyup",this._keyupHandler);
b(window).off("resize",this._resizeHandler);b("html").css({overflow:this._initialHtmlOverflowValue});this._rendered=!1;this._opened&&(this._opened=!1,this._$el.focus(),this._config.callbacks.afterClose(this))},_buildMarkup:function(){return b.when(this._renderMaskMarkup(),this._renderDialogMarkup()).then(this._renderMarkUpSuccess,this._renderMarkUpFailure)},_renderMarkUpSuccess:function(a,c){this._$mask=b(a);this._$dialog=b(c);this._$mask.append(this._$dialog);this._config.fitToWindow||this._$mask.css({"overflow-y":"auto"});
b("body").append(this._$mask);this._$dialog.css(this._getPosition());this._rendered=!0},_render:function(){this._initialHtmlOverflowValue=b("html").css("overflow");b("html").css({overflow:"hidden"});return this._buildMarkup().then(this._loadContent).then(this._loadContentSuccess,this._loadContentFail).always(this._attachEventListeners)},_renderMaskMarkup:function(){var a=new b.Deferred;l.render(this._config.maskTemplate,this._config,function(b,c){b?a.reject(b):a.resolve(c)});return a.promise()},_trapFocus:function(a){a.stopPropagation();
if(this._opened){if(this._$dialog.is(b(a.target))||0<this._$dialog.has(b(a.target)).length)return!1;this._$dialog.focus()}}}});a.exports("ModalDialogBox",e)})(window.LIModules);
(function(f){function c(){var a=/LI_JS_DEBUG/;try{return location.hash.match(a)||window.localStorage&&window.localStorage.getItem&&"true"===window.localStorage.getItem("enableLog")}catch(b){}return!1}var g={info:!0,warn:!0,error:!0},h=Array.prototype.slice,d=c(),e=function(){var a=[],b=null;window.console||(window.console={log:function(){}});if(d){a=h.call(arguments);b=a[1];if(g[b])if(a.splice(1,1),"function"===typeof console[b])console[b](a);else console.log(b+": "+a.join(", "));console.log(a)}};
e.reset=function(){d=c()};f.exports("log",e)})(window.LIModules);
(function(c){var e=c.requires("jquery"),d=c.requires("BaseControl"),f=c.requires("underscore"),g=c.requires("Events"),d=d.extend(function(c){var d={activeClass:"active",eventType:"click",mercyTime:400,triggerSelector:null,dropdownMenuClass:"dropdown",focusClass:null};return{beforeDecoration:function(){this._$document=e(document);this._mouseoutTimer=0;this._config=e.extend({},d,this._config);this._isOpen=!1;this._$listItems=[];this._$trigger={};this._$dropMenu={};this._currentItemIndex=-1;this.isMouseEvent=
!1;this._config.triggerSelector?this._$trigger=this._$el.find(this._config.triggerSelector):(this._$trigger=this._$el.children("a"),0===this._$trigger.length&&(this._$trigger=this._$el.children("button")));this._isLegalEl=this._$trigger.length?this._$trigger.is('a, button, input[type\x3d"button"]'):!1;this._$dropMenu=this._$trigger.next();this._populateListItems();this._bootstrapAria()},attachEventListeners:function(){if("hover"===this._config.eventType)this._$el.on("mouseover",this._handleMouseOverEvent).on("mouseout",
this._handleMouseOutEvent);this._$trigger.on("click.li-dropdown",this._handleClickEvent).on("mouseup",f.bind(this._setMouseUser,this,!0));this._$el.on("keydown",this._handleKeyEvent);if(this._config.focusClass)this._$el.on("focusin",this._handleElFocusInEvent).on("focusout",this._handleElFocusOutEvent);g.on("dropdown:newitems",this.bootstrapNewItems)},_bootstrapAria:function(){this._$trigger.attr({tabindex:0,role:"button","aria-expanded":!1});this._bootstrapListItems();this._$dropMenu.attr("tabindex",
-1)},_bootstrapListItems:function(){this._$listItems.attr("tabindex",0)},bootstrapNewItems:function(a){this._populateListItems();this._bootstrapListItems()},_setMouseUser:function(a){this.isMouseEvent=a},_populateListItems:function(){this._$listItems=this._$dropMenu.find("li, dd, dt")},_handleBodyClick:function(a){this._isOpen&&0===this._$el.has(a.target).length&&(this._setMouseUser(!0),this.close())},_focusNext:function(){var a=this._$listItems.length;a&&(this._currentItemIndex<a-1?this._currentItemIndex++:
this._currentItemIndex=0,this._$listItems[this._currentItemIndex].focus())},_focusPrevious:function(){var a=this._$listItems.length;a&&(0<this._currentItemIndex?this._currentItemIndex--:this._currentItemIndex=a-1,this._$listItems[this._currentItemIndex].focus())},_handleKeyEvent:function(a){var b=a.target;switch(a.which){case 13:!this._isLegalEl&&e(b).is(this._$trigger)&&this._$trigger.click();break;case 32:!this._isLegalEl&&e(b).is(this._$trigger)&&(a.preventDefault(),this._$trigger.click());break;
case 27:this._isOpen&&this.close();break;case 40:a.preventDefault();this._focusNext();break;case 38:a.preventDefault(),this._focusPrevious()}},open:function(a){var b=this._config.activeClass;if(!this._isOpen&&(this._$el.addClass(b),this._$trigger.attr("aria-expanded",!0),this.isMouseEvent||this._$dropMenu.focus(),this._$el.trigger("dropdown:open",this),this._isOpen=!0,"li-dropdown"!==a))this._$document.on("click",this._handleBodyClick)},close:function(a){this._isOpen&&(this._$el.removeClass(this._config.activeClass),
this._$trigger.attr("aria-expanded",!1),this._mouseoutTimer&&window.clearTimeout(this._mouseoutTimer),this.isMouseEvent||this._$trigger.focus(),this._$el.trigger("dropdown:close",this),this._isOpen=!1,this._currentItemIndex=-1,this._setMouseUser(!1),"li-dropdown"!==a&&this._$document.off("click",this._handleBodyClick))},_handleElFocusInEvent:function(a){this._$el.addClass(this._config.focusClass)},_handleElFocusOutEvent:function(a){this._$el.removeClass(this._config.focusClass)},_handleClickEvent:function(a){var b;
if("hover"===this._config.eventType&&(b=a.target.href)&&0!==b.indexOf("#"))return;a.preventDefault();a.stopPropagation();this._isOpen?this.close(a.namespace):this.open(a.namespace)},_handleMouseOverEvent:function(a){this._setMouseUser(!0);window.clearTimeout(this._mouseoutTimer);this.open()},_handleMouseOutEvent:function(a){a=this._config.mercyTime;var b=this;0<a?this._mouseoutTimer=window.setTimeout(function(){b.close()},a):b.close()}}});d.EVENTS={OPEN:"dropdown:open",CLOSE:"dropdown:close",NEW:"dropdown:newitems"};
c.exports("Dropdown",d)})(window.LIModules);
(function(){LIModules.exports("patterns",{sharingUrl:/((?:[A-Z0-9][A-Z0-9_\-]*\.)+(?:(ht)tp(s?)\:\/\/)?(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)(?::(?:\d+))?)(\/[^\s]*)?/i,
email:/^([a-zA-Z0-9_\-=\.\'\+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,10}|[0-9]{1,3})(\]?)$/})})();
(function(a){a.exports("urlRE",/^(?:(?:https?)?:?\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:(?:\/|\?)\S*)?$/i)})(LIModules);
(function(){var b=LIModules.requires("jquery"),f=LIModules.imports("HopscotchTourRunner");LIModules.exports("HopscotchCallout",function(g,a){function k(){return"object"===typeof f?f.loadHopscotch():"object"===typeof window.hopscotch?b.Deferred().resolve():b.Deferred().reject()}function m(){var a=LIModules.imports("Bidi");!c.isRtl&&a&&a.applyWhenRTL(function(){c.isRtl=!0})}function p(){d.on("keyup",function(n){if(27===n.keyCode)a.onClose()})}function h(a,q){var e=null;a&&a.stopPropagation();k().then(function(){e=
hopscotch.getCalloutManager();e.removeAllCallouts();q&&(c.target=a.currentTarget);m();e.createCallout(c);d=b(e.getCallout(c.id).element);d.attr("tabindex",-1).focus();p()})}var r={showOn:"click",orientation:"top",target:g,showNumber:!1,xOffset:0,yOffset:0,arrowOffset:0,zIndex:null,width:null,ctaLabel:null,ctaOnClick:null,onShow:null,onClose:function(){window.hopscotch&&hopscotch.getCalloutManager().removeAllCallouts();d.off("keyup");l.focus()},openOnLoad:!1,isRtl:!1},c,l=b(g),d;a=b.extend(!0,r,a);
c={id:a.id,title:a.title,content:a.content,orientation:a.orientation,target:a.target,showNumber:a.showNumber,xOffset:a.xOffset,yOffset:a.yOffset,zindex:a.zIndex,width:a.width,bubblePadding:0,showCTAButton:!!a.ctaLabel,ctaLabel:a.ctaLabel,onCTA:a.ctaOnClick,onShow:a.onShow,onClose:a.onClose,arrowOffset:a.arrowOffset,isRtl:a.isRtl,showOn:a.showOn};this.open=function(a,b,c){c?h(a,b):f.isTourRunning()||h(a,b)};this.close=function(){a.onClose()};k();l.attr("aria-haspopup",!0);if(a.openOnLoad)this.open();
else b(g).on(a.showOn,h)})})();
(function(){var d=LIModules.requires("jquery"),g=LIModules.requires("underscore"),e=LIModules.requires("ModalDialogBox");LIModules.requires("i18n");var r=LIModules.requires("log"),m,q,e=e.extend(function(e){function p(){function a(){}return(q=q||LIModules.imports("Spinner"))||{showSpinner:a,hideSpinner:a}}var l={},n=!1;return{beforeDecoration:function(){window.liTrackClient?m=window.liTrackClient:"function"===typeof require&&require.ensure(["liTrackClient"],function(a){try{m=a("liTrackClient")}catch(c){}});
this._config.title=this._config.title||this._$el.data("first-message");this._config=g.defaults(this._config,{customClassName:"dialog-v2",cssPreloaded:!1,dialogTemplate:(this._config.tlPathPrefix||"tl/shared")+"/"+("davinci"===this._config.style?"spam_report_dialog":"spam_report_dialog_art_deco"),successTemplate:(this._config.tlPathPrefix||"tl/shared")+"/"+("davinci"===this._config.style?"spam_report_dialog_success":"spam_report_dialog_success_art_deco"),callbacks:{submitSuccess:this._config.callbacks&&
this._config.callbacks.submitSuccess?this._config.callbacks.submitSuccess:function(){}}});"davinci"!==this._config.style&&(this._config.width=this._config.width||552);this._config.callbacks.closeOnMaskClick=!0;this._config.callbacks.beforeClose=this._beforeCloseHandler.bind(this);this._config.callbacks.submitFailure=this._config.callbacks.submitFailure||function(a){a&&a.message&&r(a.message,"error")};e.beforeDecoration.call(this)},_loadContent:function(){var a;a=[this._config.dialogTemplate,this._config.successTemplate];
var c=[],b,h;p().showSpinner(this._$dialog.find(".dialog-body"));if(dust&&dust.cache)for(b=0,h=a.length;b<h;b++)dust.cache.hasOwnProperty(a[b])||c.push(a[b]);a=this.loadDependencies(c);return d.when(a,d.ajax({url:this._href}))},_loadContentSuccess:function(a,c){var b=c[0],h=b.numberOfSteps,d=[],f;for(f=1;f<=h;f+=1)d.push(f);b.pageIndices=d;this._stack.push(b);this._config.pageIndices=b.pageIndices;b.resultScreen&&(this._config.resultScreen=b.resultScreen);b.dialogTrackingCodes&&g.extend(l,b.dialogTrackingCodes);
this._track(l.dialogOpen);this._updateContent(this._config.dialogTemplate,g.extend({},this._state,this._config,b),this._dustRenderSuccess)},_dustRenderSuccess:function(a,c){a||(d("#dialog-mask").html(c),this._renderMarkUpSuccess("#dialog-mask","#dialog"),this._attachPostRenderHandler(),d("#dialog").attr("tabindex",-1).focus())},_renderReportSuccess:function(){var a=this._stack[this._stack.length-1];p().hideSpinner(this._$dialog.find(".dialog-body"));this._updateContent(this._config.successTemplate,
g.extend({},this._state,this._config,a),this._dustRenderSuccess);this._config.callbacks.submitSuccess()},_track:function(a,c){var b=c||{},d="unknown";document.body.id&&(d=document.body.id.substring(8));b={requestHeader:{pageKey:d},action:"CLICK",sponsoredFlag:"ORGANIC",moduleKey:a,customProperties:b};m&&m.trackUnifiedAction(b)},_updateContent:function(a,c,b){dust.render(a,c,b)},_optionSelected:function(a){var c=d(a.currentTarget),b=c.data("tracking-id")||c.parent().data("tracking-id"),h=c.data("option-index"),
e=c.attr("href")||c.data("option-url"),f=c.data("open-link-url"),k=this._stack[this._stack.length-1];a.preventDefault();b?(k.options&&(k=k.options[h].section||k.options[h].action,this._state.pageCount+=1,this._stack.push(k)),e?(n=!0,p().showSpinner(this._$dialog.find(".dialog-body")),a=c.parents().hasClass("additional-actions"),b={url:e,trackingId:b},a||(b.success=this._renderReportSuccess),this._postAndTrackUrl(b),a&&this.destroy()):f?(n=!0,this._openAndTrackUrl({url:f,trackingId:b}),this.close()):
(this._track(b),this._updateContent(this._config.dialogTemplate,g.extend({},this._state,this._config,k),this._dustRenderSuccess)),c.off("click",this._optionSelected),c.off("keypress",this._optionSelected)):this._config.callback.submitFailure(Error("trackingId is missing"))},_backButtonClickHandler:function(a){this._stack.pop();--this._state.pageCount;a=this._stack[this._stack.length-1];this._track(l.dialogBackButton);this._updateContent(this._config.dialogTemplate,g.extend({},this._state,this._config,
a),this._dustRenderSuccess)},_beforeCloseHandler:function(a){this._track(n?l.dialogClose:l.dialogCancel);this.detachEventListeners()},open:function(){var a=this._config.externalsPath||("davinci"===this._config.style?"scss/modules/dialog/spam_report_dialog":"scss/modules/dialog/_spam_report_dialog_art_deco");this._stack=[];this._state={pageCount:1};this._config.cssPreloaded?e.open.call(this):this.loadCss(["css!"+a]).then(g.bind(e.open,this));n=!1},_attachPostRenderHandler:function(){var a=this;d("#dialog .dialog-body dl.option").keypress(function(c){13!==
c.keyCode&&32!==c.keyCode||a._optionSelected(c)});d("#dialog .dialog-body dl.option").on("click",this._optionSelected);d("#dialog .back").on("click",this._backButtonClickHandler);d(".action-options .option a").on("click",this._optionSelected);this._attachEventListeners()},_postAndTrackUrl:function(a){var c;LI&&LI.readCookie&&(c=(LI.readCookie("JSESSIONID")||"").replace(/"/g,""));d.ajax({url:a.url,method:"POST",headers:{"X-IsAJAXForm":1},data:c,success:function(){this._track(a.trackingId);a.success&&
a.success()}.bind(this),error:function(b,c,d){(a.error||this._config.callbacks.submitFailure)(d)}.bind(this)})},_openAndTrackUrl:function(a){window.open(a.url,"_blank");this._track(a.trackingId)}}});LIModules.exports("SpamReportDialog",e)})();
(function(e){function d(a){if(c)return c[a]}var b={},c;b.get=d;b.isTreatment=function(a){return"treatment"===d(a)};b.isEnabled=function(a){return"enabled"===d(a)};b.isControl=function(a){return"control"===b.get(a)};b.create=function(a){c||(c=a);return b};e.exports("LixValues",b)})(window.LIModules);
(function(d){var a,c={get:function(b){if(a)return a[b]},create:function(b){a||(a=b);return c}};d.exports("LegoData",c)})(window.LIModules);
(function(c){var e=c.requires("underscore"),f=c.requires("backbone"),g=c.requires("patterns"),h=f.Model.extend({defaults:{phone:"",location:"",emails:[]},set:function(b,c,d){var a;if(null===b)return this;e.isObject(b)?(a=b,d=c):(a={})[b]=c;d=d||{};a=e.clone(a);a instanceof f.Model&&(a=a.attributes);b=this.getEmails();a.preferredEmail||(a.preferredEmail=b&&b[0]||a.emails[0]);a.profileUrl=this._addTrkToUrl(a.profileUrl||"/profile/view?id\x3d"+a.profileId+"\x26authType\x3d"+a.authType+"\x26authToken\x3d"+
a.authToken);return f.Model.prototype.set.call(this,a,d)},_addTrkToUrl:function(b){return b+"\x26trk\x3dwonton-desktop"},_isValidEmail:function(b){return b.match(g.email)},getFirstName:function(){return this.get("firstName")},getPhone:function(){return this.get("phone")},getTitle:function(){return this.get("title")},getLocation:function(){return this.get("location")},getCompany:function(){return this.get("company")},getEmails:function(){return this.get("emails")},getPreferredEmail:function(){return this.get("preferredEmail")},
setPhone:function(b){this.set("phone",b)},setPreferredEmail:function(b){var c=this._isValidEmail(b),d=e.find(this.getEmails(),function(a){return(c?a.emailAddress:a.id)===b});this.set("preferredEmail",d)}});c.exports("UserModel",h)})(window.LIModules);
(function(c){c.helpers.sanitizeUrl=function(d,a,e,b){e=/^https?$/;var f="";a=c.helpers.tap(b.url,d,a);b=(a||"").indexOf(":");return-1<b&&(f=a.slice(0,b).trim())&&f.match(e)?d.write(c.filters.h(a)):d.write("invalid://")}})(dust);
(function(g){function f(a,b){var c,d=0,e=0;b=h.extend(this._getPollConfig(),b);this.control=b.control;if(!this.control){this.trigger=b.trigger||"send";this.pollMap=b.pollMap||[];this.debug=b.debug||!1;this.pollMapIndex=this.count=0;for(this.timeout=null;d<this.pollMap.length;d++)c=this.pollMap[d],c.priorPolls=e,e+=c[1];this.pollFunction=a||b.pollFunction||h.noop;this.stepCallback=b.stepCallback;this.finishCallback=b.finishCallback;this.debug&&(console.log("\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d"),
console.log("\x3d\x3d\x3d POLLER CONFIG "),console.log("\x3d\x3d\x3d Poll Trigger: "+this.trigger),console.log("\x3d\x3d\x3d Poll Map:     "+JSON.stringify(this.pollMap)),console.log("\x3d\x3d\x3d Poll Start:   "+(new Date).toTimeString()),console.log("\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d"));this.start()}}var n=g.requires("dust"),q=g.requires("LixValues"),t=g.requires("UserModel"),h=g.requires("underscore"),p,r,l,m,s={timeFormatter:function(a,b){b=h.defaults(b,
{today:"today",yesterday:"yesterday",monthDay:"date.md.medium",day:"date.d.long",year:"date.mdy.short"});var c=new Date,d=new Date(a.get("timestamp")),e;c.setHours(0,0,0,0);d.setHours(0,0,0,0);e=(c-d)/864E5;return 0===e?b.today:1===e?b.yesterday:0<=c.getDay()-e?b.day:c.getYear()===d.getYear()?b.monthDay:b.year},daysUntil:function(a){var b=(new Date).setHours(0,0,0,0);a=(new Date(a)).setHours(0,0,0,0);return Math.round((a-b)/864E5)},geti18nString:function(a,b,c){var d="";a&&b&&(c?(p||(p=g.requires("t8"),
r=new p.Resources(n.i18n,n)),r.get(a,b,c,function(a,b){d=b})):d=n.i18n.cache[b][a]);return d},geti18nStrings:function(a,b,c,d){var e=this;Object.keys(a).forEach(function(k){a[k]=e.geti18nString(d?a[k]:k,b,c)});return a},getMemberIdFromUrn:function(a){return-1!==a.indexOf("urn:li:member:")?a.substring(14):""},getInvitationIdFromUrn:function(a){return-1!==a.indexOf("urn:li:invitation:")?a.substring(18):""},getCurrentUser:function(){if(!l)throw Error("current user has not been set yet");return l},setCurrentUser:function(a){if(l)throw Error("current user has already been instantiated");
l=new t(a)},getActiveTransitionEvent:function(){if(m)return m;var a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},b=document.createElement("div"),c;for(c in a)void 0!==b.style[c]&&(m=a[c]);return m}},u={option1:[[10,1],[2,30],[10,12],[60,5],[900,3],[3600,1]],option2:[[5,20],[10,12],[60,5],[900,3],[3600,1]],option3:[[10,1],[2,10],[5,6],[15,16],[60,10],[3600]]};f.prototype={start:function(a){var b,c,d=function(){this.debug&&
console.log("\x3d\x3d\x3d\x3d\x3d Poll fired at "+(new Date).toTimeString()+" \x3d\x3d\x3d\x3d\x3d "+this.count);this.pollFunction.apply(this);this.start.apply(this)};if(!this.control){b=this.pollMap[this.pollMapIndex];c=b[1];a&&(this.debug&&console.log("\x3d\x3d\x3d\x3d\x3d Callback request fired pre-poll at "+(new Date).toTimeString()),this.pollFunction.apply(this));if(c&&c+b.priorPolls===this.count){this.pollMapIndex++;if(this.pollMapIndex===this.pollMap.length){this.debug&&console.log("\x3d\x3d\x3d\x3d\x3d Poller Complete");
this.finishCallback&&this.finishCallback.apply(this);return}b=this.pollMap[this.pollMapIndex];this.stepCallback&&this.stepCallback.apply(this,[this.pollMapIndex,this.pollMap[this.pollMapIndex]])}a=1E3*b[0];this.debug&&console.log("\x3d\x3d\x3d\x3d\x3d next poll in: "+b[0]+" seconds");window.clearTimeout(this.timeout);this.timeout=setTimeout(h.bind(d,this),a);this.count++}},reset:function(a){this.control||(this.pollMapIndex=this.count=0,this.start(a))},stop:function(){this.control||window.clearTimeout(this.timeout)},
_getPollConfig:function(){var a={},b=(q.get("wonton.pollingBehavior")||"control").split(":"),c,d,e,k,g=c=0,f,h;e=function(a,b,c){a=a.split("-");return[parseInt(a[0],10),parseInt(a[1]||0,10)]};if("control"===b[0])a.control=!0;else if(a.trigger="launch"===b[0]?"launch":"send",a.debug=!!b[2],c=b[1].split("_"),d=c[0],1===c.length)a.pollMap=u[b[1]],a.pollMap||(a.control=!0);else if(a.pollMap=[],"constant"===d)a.pollMap.push([parseInt(c[1],10),parseInt(c[2],10)]);else if("decay"===d)for(b=1*c[1],d=1*c[2],
e=parseInt(c[3],10),k=parseInt(c[4],10),c=g=0;c<k;g++)f=Math.floor(b*Math.pow(2,d*g)),h=(k-c)/f,h>e?(a.pollMap.push([f,e]),c+=f*e):(a.pollMap.push([f,0]),c=k);else a.pollMap=c.map(e);return a}};f.CONSTANT="constant";f.DECAY="decay";f.LAUNCHTRIGGER="launch";f.SENDTRIGGER="send";h.extend(s,{Poller:f,pollOnInit:function(){return"launch"===(q.get("wonton.pollingBehavior")||"control").split(":")[0]}});g.exports("Utils",s)})(window.LIModules);
(function(h){var m=h.requires("punycode"),n=/\b(https?:|www)\S+/,p=/^(https?:\/\/)?([^\/:]+)/,k=/\.(jpe?g|png|gif|bmp|tiff?)$/i,q=/[,;\.'"\)]$/;h.exports("UrlUtils",{annotate:function(a,f){var b=[],c=0,d;for(d in f){var e=f[d].start,l=f[d].end,g=f[d].link;/^(f|ht)tps?:\/\//i.test(g)||(g="http://"+g);c<e&&b.push({value:a.substring(c,e)});b.push({value:a.substring(e,l),url:g,isImage:k.test(g)});c=l}c<a.length&&b.push({value:a.substring(c,a.length)});return b},linkify:function(a){var f,b,c,d=[],e;if("string"!==
typeof a)return d;for(;null!==(b=n.exec(a));)e=b[0].replace(q,""),f=b.index+e.length,c=e=e.replace(p,function(a,b,c){return(b||"")+m.toASCII(c)}),"www"===b[1]&&(c="http://"+c),b.index&&d.push({value:a.substr(0,b.index)}),d.push({value:e,url:c,isImage:k.test(c)}),a=a.substr(f);a&&d.push({value:a});return d}})})(window.LIModules);
(function(c){var d=c.requires("jquery"),b;c.exports("PageViewTracking",new function(){function h(){b=b||c.requires("play");var a=b.getPageContext();if(a&&a.contextPath&&1<a.contextPath.length)return a.contextPath+"/beacon";console.log("Missing context path in "+a)}function k(a){b=b||c.requires("play");return b.addCsrfTokenToUrl(h()+"/"+a)}function e(a){f(a.target)}function f(a){a=d(a).closest("[data-pv-key]").data("pv-key");g(a)}function g(a){a&&d.ajax({url:k(a),type:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}})}
return{init:function(a){a&&a.length&&a[0].addEventListener("click",e,!0)},getPageKey:function(a){return a.data("pv-key")},fireTracking:g,fireTrackingFromElement:f,destroy:function(a){a&&a.length&&a[0].removeEventListener("click",e,!0)}}})})(window.LIModules);
(function(c){var b=c.requires("jquery"),e=c.requires("LixValues"),d=!1;c.exports("LazyLoader",{initialize:function(){e.isTreatment("wonton.lazyLoading")&&(d="true",b(window).on("load",function(){d=!1;b("img[data-delayed-url]").each(function(){var a=b(this);a.attr("src",a.attr("data-delayed-url"));a.removeAttr("data-delayed-url")});b("[data-delayed-bg]").each(function(){var a=b(this);a.css("background-image","url("+a.attr("data-delayed-bg")+")");a.removeAttr("data-delayed-bg")})}))},shouldLazyLoad:function(){return d}})})(window.LIModules);
(function(a){var e=a.requires("jquery");a.exports("TrackingQueue",new function(){function a(c){b.length&&(e.ajax({url:"/li/track",type:"POST",contentType:"application/json",data:JSON.stringify(b),async:!1!==c}),b=[]);d=null}var b=[],d=null;return{add:function(c){b.push(c);null===d&&(d=setTimeout(a,2E4))},flush:a}})})(window.LIModules);
(function(b){var e=b.requires("jquery"),c=b.requires("underscore"),d=b.requires("marionette").Object.extend({_isActive:!1,_runningTimer:null,options:{timeout:1E4,throttle:1E3},initialize:function(){this.activityChannel=this.getOption("activityChannel");this.bindEvents()},destroy:function(){this.unbindWindowEvents()},bindChannelEvents:function(){var a=this;a.activityChannel&&(a.activityChannel.reply("activityService",function(){return a}),a.activityChannel.on("stopActivityService",c.bind(a.unbindWindowEvents,
a)),a.activityChannel.on("startActivityService",c.bind(a.bindWindowEvents,a)),a.activityChannel.reply("isActive",c.bind(a.isActive,a)),a.on("user:active",function(){a.activityChannel.trigger("userActive")}),a.on("user:inactive",function(){a.activityChannel.trigger("userInactive")}))},bindWindowEvents:function(){var a=e(window),b=this.getOption("debounce"),d=c.bind(this._sawActivity,this),f=c.bind(this.setInactive,this),b=c.throttle(d,b);a.on("mousemove.user-activity",b);a.on("keydown.user-activity",
b);a.on("blur.user-activity",f)},bindEvents:function(){this.bindChannelEvents();this.bindWindowEvents()},unbindWindowEvents:function(){e(window).off(".user-activity")},setInactive:function(){this._isActive=!1;this.triggerMethod("user:inactive")},setActive:function(){this._isActive=!0;this._runningTimer||this.triggerMethod("user:active");this._setTimer()},isActive:function(){return!!this._isActive},_setTimer:function(){var a=c.bind(this.setInactive,this);this._stopTimer();this._runningTimer=window.setTimeout(a,
this.getOption("timeout"))},_stopTimer:function(){this._runningTimer&&(window.clearTimeout(this._runningTimer),this._runningTimer=null)},_sawActivity:function(){this.setActive()}});b.exports("UserActivityService",d)})(window.LIModules);
(function(a){a.requires("backbone");a.exports("InstanceStore",{create:function(a){var c=window.WeakMap?new WeakMap:{};return a.extend({constructor:function(e,f){var b,d;a.apply(this,arguments);if(b=this.id){if(d=c[b])return d;c[b]=this}}})}})})(window.LIModules);
(function(d){function f(a){this.filters=[];this.keyword="";this.activeConversations=a.activeConversations;this.searchConversations=a.searchConversations;this.masterConversations=a.masterConversations;this.config=a.config}var g=d.requires("jquery"),e=d.requires("underscore"),h=d.requires("backbone"),k=d.requires("PageViewTracking"),l=d.requires("externalTracking"),c=h.Radio.channel("inbox"),b;f.prototype={setConversations:function(a){this.activeConversations!==a&&(this.activeConversations=a,c.reply("conversations:active",
this.activeConversations),c.trigger("change:conversations",this.activeConversations))},syncConversations:function(){return this.masterConversations.fetchUpdates()},getConfig:function(){return this.config},getPageKey:function(a){var b=this.getConfig().pageKeys,c=b.default,b=b.current;return"default"===a?c:b},getLocale:function(){return this.getConfig().locale},getMasterConversations:function(){return this.masterConversations},getSearchConversations:function(){return this.searchConversations},getActiveConversations:function(){return this.activeConversations},
doSearch:function(a){this.keyword||this.filters.length?(this.masterConversations.stopPolling(),this.searchConversations.search(this.keyword,this.filters,a),this.setConversations(this.searchConversations)):(this.masterConversations.restartPolling(),this.searchConversations.reset(),this.searchConversations.summary.clear(),this.setConversations(this.masterConversations),window.RUM2.appRenderComplete())},search:function(a,b){this.keyword=e.isString(a)?a:this.keyword;this.doSearch(b)},filter:function(a){a=
e.compact(a);this.filters=e.isArray(a)?a:this.filters;k.fireTracking(this.getPageKey("default"));this.doSearch()}};c.reply("initialize",function(a){b||(b=new f(a),c.reply({"sync:conversations":b.syncConversations,search:b.search,filter:b.filter,conversations:b.getMasterConversations,"conversations:search":b.getSearchConversations,"conversations:active":b.getActiveConversations,config:b.getConfig,pageKeys:b.getPageKey,locale:b.getLocale},b));return this});c.reply("track:comscore",function(a){l.trackWithComScore(a)});
c.once("launch:complete",function(){window.RUM2.appRenderComplete();c.on("threaddetail:shown",function(){window.RUM2.appRenderComplete()})});c.on("jump-link",function(a){g('[data-jump-link-id\x3d"'+a+'"]').focus()});d.exports("InboxChannel",c)})(window.LIModules);
(function(a){var b=a.requires("backbone");a.exports("StickerChannel",b.Radio.channel("stickers"))})(window.LIModules);
(function(b){var a=b.requires("backbone"),c=b.requires("UserActivityService"),a=a.Radio.channel("userActivity");new c({activityChannel:a});b.exports("UserActivityChannel",a)})(window.LIModules);
(function(b){var a=b.requires("backbone"),e=b.requires("SyncQueue"),f=a.Model.extend({constructor:function(){a.Model.apply(this,arguments);this.on("change:"+this.idAttribute,function(a,c,d){this.trigger("hydrate",a,c,d)})},save:function(b,c){var d;return c.queue?(d=e.create(c.queue),d.enqueue(this,a.Model.prototype.save,arguments)):a.Model.prototype.save.apply(this,arguments)}});b.exports("LIModel",f)})(window.LIModules);
(function(e){var d=e.requires("backbone"),f=d.Collection.extend({_isInsideSet:!1,set:function(){function a(){b=!0}var c,b=!1;this._isInsideSet=!0;this.once("add remove",a,this);c=d.Collection.prototype.set.apply(this,arguments);this.off("add remove",a,this);b&&this.trigger("update",this,arguments[1]);this._isInsideSet=!1;return c},remove:function(){function a(){b=!0}var c,b=!1;this.once("remove",a);c=d.Collection.prototype.remove.apply(this,arguments);this.off("remove",a);b&&!this._isInsideSet&&this.trigger("update",
this,arguments[1]);return c}});e.exports("LICollection",f)})(window.LIModules);
(function(b){var c=b.requires("backbone"),e=b.requires("Utils"),c=c.Model.extend({defaults:function(){var a=e.getCurrentUser();return{shareEmail:!0,sharePhone:!0,emails:a.getEmails(),phone:a.getPhone(),location:a.getLocation(),company:a.getCompany()}},getShareInfo:function(){var a={},d=e.getCurrentUser(),b=d.getPreferredEmail(),c=d.getPhone();this.canShareEmail()&&b&&(a.emails=[b]);this.canSharePhone()&&c&&(a.phone=c);a.emails&&a.phone&&(a=_.extend(a,{location:d.getLocation(),title:d.getTitle(),company:d.getCompany()}));
return a},setShareEmail:function(a){this.set("shareEmail",a)},setSharePhone:function(a){this.set("sharePhone",a)},setShare:function(a){this.setShareEmail(a);this.setSharePhone(a)},canShareInfo:function(){return this.canShareEmail()|this.canSharePhone()},canShareEmail:function(){return!!this.get("shareEmail")},canSharePhone:function(){return!!this.get("sharePhone")}});b.exports("ShareInfoModel",c)})(window.LIModules);
(function(a){var b=a.requires("backbone").Model.extend({});a.exports("StickerModel",b)})(window.LIModules);
(function(a){var b=a.requires("LICollection"),c=a.requires("StickerModel"),b=b.extend({model:c});a.exports("StickerCollection",b)})(window.LIModules);
(function(a){var b=a.requires("backbone");a.requires("StickerCollection");b=b.Model.extend({});a.exports("StickerPackModel",b)})(window.LIModules);
(function(a){var b=a.requires("LICollection"),c=a.requires("StickerPackModel"),b=b.extend({url:"/messaging/stickerPacks",model:c,parse:function(a){return a.elements}});a.exports("StickerPackCollection",b)})(window.LIModules);
(function(b){var d=b.requires("backbone"),g=b.requires("Utils"),e=b.requires("LICollection"),f=b.requires("UserModel"),h=e.extend({defaults:{withCurrentUser:!1},model:f,initialize:function(a,c){var b=g.getCurrentUser();c=c||{};_.defaults(c,this.defaults);c.withCurrentUser&&this.add(b)},add:function(a){return this.hasUser(a)?!1:d.Collection.prototype.add.call(this,a)},set:function(a,c){var b=a;b&&(b=a instanceof d.Collection?a.models:_.isArray(a)?_.map(a,function(a){return a instanceof d.Model?a:new f(a)}):
[a]);return e.prototype.set.call(this,b,c)},hasUser:function(a){return this.any(function(b){return b.id===a.id})}});b.exports("UserCollection",h)})(window.LIModules);
(function(a){a.requires("underscore");var c=a.requires("LIModel");a.requires("InboxChannel");var d=a.requires("InstanceStore");a.requires("LixValues");var b=a.requires("Utils");a.requires("UserModel");c=c.extend({url:"/inbox/action",defaults:{invitationResolved:!1},initialize:function(e,a){a=a||{};this.onSave=a.onSave},isSentInvitation:function(){return!this.get("invitationResolved")&&b.getCurrentUser().id===this.getInviterId()},isPendingInvitation:function(){return!this.get("invitationResolved")&&
b.getCurrentUser().id===this.getInviteeId()},setInvitationResolved:function(){this.set("invitationResolved",!0)},getTimestamp:function(){return this.get("sentTime")},_sendInvitationRequest:function(a){a.mboxItemGID="";a.invitationId=this.getInvitationId();a.validationToken=this.get("sharedSecret");a.csrfToken=play.getPageContextValue("csrfToken");a=this.url+"?"+$.param(a);return $.ajax(a,{headers:{"X-IsAJAXForm":1},method:"post"})},getInviterId:function(){return this.get("inviterId")||b.getMemberIdFromUrn(this.get("inviter"))},
getInviteeId:function(){return this.get("inviteeId")||b.getMemberIdFromUrn(this.get("invitee"))},getInvitationId:function(){return b.getInvitationIdFromUrn(this.get("invitationUrn"))},hasSharedSecret:function(){return!!this.get("sharedSecret")},setSharedSecret:function(a){this.set("sharedSecret",a)},acceptInvite:function(){return this._sendInvitationRequest({actionType:"invitationAccept",trk:"connect-hub-pending-accept",ctx:"connecthub"})},ignoreInvite:function(){return this._sendInvitationRequest({actionType:"invitationIgnore",
trk:"connect-hub-pending-ignore",ctx:"connecthub"})}});a.exports("InvitationModel",d.create(c))})(window.LIModules);
(function(c){var g=c.requires("backbone"),e=c.requires("jquery"),d=c.requires("underscore"),f=window.URL||window.webkitURL,h,k=g.Model.extend({urlRoot:"/mupld/attachment",idAttribute:"mediaId",defaults:{filename:"",mediaId:null,type:"application/octet-stream",downloadUrl:"",size:0,errorStatus:""},abortScan:e.noop,isClean:!1,disableDownload:!1,constructor:function(a,b){window.File&&a instanceof File&&(this.file=a,a={filename:this.file.name,type:this.file.type,size:this.file.size,downloadUrl:f.createObjectURL(this.file)});
g.Model.apply(this,[a,b])},initialize:function(){var a=c.requires("play");h=h||{persist:!0,isCSMode:!1,store_securely:!0,csrfToken:a.getPageContextValue("csrfToken")};this.on("destroy",this.onDestroy,this);this.on("change:downloadUrl",this.onChangeDownloadUrl,this)},parse:function(a){var b;a=JSON.parse(a);return this._isMupldAttachmentResponse(a)?("ERROR"===a.status&&(b=a.value,a.value=null),{filename:a.filename,mediaId:a.value,errorStatus:b}):a},sync:function(a,b,c){if("create"===a){var f=d.extend({upload_info:k.uploadInfoToken,
upload_info_with_js:k.uploadInfoToken,file:b.file},b.attributes,h),e=new FormData;d.each(f,function(a,b){e.append(b,a)});c=d.extend({},c,{data:e,processData:!1,contentType:!1,xhr:function(){var a=new window.XMLHttpRequest;a.upload.addEventListener("progress",function(a){a.lengthComputable&&b.trigger("upload:progress",a.loaded/a.total)},!1);return a}})}return g.Model.prototype.sync.apply(this,[a,b,c])},onDestroy:function(a){a=a.get("downloadUrl");f.revokeObjectURL(a)},onChangeDownloadUrl:function(a){a=
a.previous("downloadUrl");f.revokeObjectURL(a)},_isMupldAttachmentResponse:function(a){return d.has(a,"status")},scan:function(){this.abortScan();this.trigger("scan:start");var a=this.get("downloadUrl"),a=e.ajax(a+"/status/").done(d.bind(function(a){switch(a.status){case "VIRUS_DETECTED":this.disableDownload=!0;this.set("errorStatus","VIRUS_DETECTED");break;case "VIRUS_NOT_DETECTED":this.disableDownload=!1;this.unset("errorStatus");break;case "SCANNING":this.disableDownload=!0,this.set("errorStatus",
"VIRUS_SCANNING")}},this)).always(d.bind(function(){this.trigger("scan:end")},this));this.abortScan=a.abort;return a},getMediaType:function(){return(this.get("type")||"").split("/")[0]},getMediaFormat:function(){return(this.get("type")||"").split("/")[1]},isImage:function(){var a;return"image"===this.getMediaType()?(a=this.getMediaFormat(),-1===a.indexOf("photoshop")):!1},isLocalFile:function(){return 0===(this.get("downloadUrl")||"").indexOf("blob")},download:function(){var a=this.get("downloadUrl");
this.isClean||this.isLocalFile()?window.location=a:this.scan().done(d.bind(function(){this.disableDownload||(window.location=a)},this))}},{uploadInfoToken:null});c.exports("ThreadAttachmentModel",k)})(window.LIModules);
(function(a){var b=a.requires("backbone"),c=a.requires("ThreadAttachmentModel"),b=b.Collection.extend({model:c});a.exports("ThreadAttachmentCollection",b)})(window.LIModules);
(function(b){var l=b.requires("underscore"),q=b.requires("backbone"),r=b.requires("LIModel"),s=b.requires("UserModel"),t=b.requires("UserCollection"),w=b.requires("jSecure"),n=b.requires("Utils"),u=b.requires("UrlUtils"),x=b.requires("ThreadAttachmentCollection"),y=b.requires("StickerCollection"),v=b.requires("LixValues"),z=q.Radio.channel("inbox"),g={ACCEPT:"ACCEPT",DECLINE:"DECLINE"},d={MEBC:"MEBC",GROUP:"GROUP",INMAIL:"INMAIL",INMAIL_REPLY:"INMAIL_REPLY",SPONSORED_INMAIL:"SPONSORED_INMAIL",SPONSORED_INMAIL_LEGACY:"SPONSORED_INMAIL_LEGACY",
PERSON_ADDED:"PERSON_ADDED",PERSON_REMOVED:"PERSON_REMOVED",SHARE:"SHARE",INTRO:"INTRO",JOB_REFERRAL:"JOB_REFERRAL",THREAD_UPDATED:"THREAD_UPDATED",INVITATION_ACCEPTED:"INVITATION_ACCEPTED",UNSUPPORTED:"UNSUPPORTED"},f={BLOCKED:"BLOCKED",PENDING_INMAIL:"PENDING_INMAIL",DECLINED_INMAIL:"DECLINED_INMAIL",LEFT_CONVERSATION:"LEFT_CONVERSATION"},A={company:"https://www.linkedin.com/company/{id}",school:"https://www.linkedin.com/edu/school?id\x3d{id}",member:"",thread:""},q=r.extend({defaults:function(){return{sender:n.getCurrentUser(),
body:"",type:d.MEBC,isSpam:!1,isConversationStarter:!1,blocked:!1,hasMentions:!1,annotations:[]}},TYPES:d,RESPONSES:g,BLOCKED_REASONS:f,initialize:function(){this.shouldRetrySend=!1;this.listenTo(this.getRecipients(),"update",this.onChangeRecipients);this.initializeMentions()},initializeMentions:function(){var a=this.get("attributedBody"),e=a&&a.text,a=a&&a.attributes,k=0,c,p,d=[];(this.hasMentions=a&&0<a.length)?(this.getActiveParticipants(),a.sort(function(a,c){return a.start-c.start}),a.forEach(function(a,
b){var h=a.type["com.linkedin.voyager.messaging.text.Entity"].urn.split(":"),m=h[2],f=h[3],g=A[m].replace("{id}",f),h={};c=a.start;p=c+a.length;h.mentionType=(v.isTreatment("wonton.prependMentionsWithAtSign")?"at ":"")+m;h.value=w.htmlEncode(e.slice(c,p));if(g)h.mentionURL=g;else if(m=l.find(this.getActiveParticipants().models,function(a){return a.id===this.toString()},f))h.mentionURL=m.get("profileUrl");Array.prototype.push.apply(d,u.linkify(e.slice(k,c)));d.push(h);k=p},this),Array.prototype.push.apply(d,
u.linkify(e.slice(p))),this.mentionsBody=d):this.mentionsBody=this.get("body")},validate:function(){switch(this.getType()){case d.MEBC:case d.INMAIL_REPLY:var a=this.getBody().trim().length,e=this.getAttachments().models,k=e.length,c=this.get("stickers").models.length,p=this.getRecipients().length,b=0;e.forEach(function(a){a.get("errorStatus")&&b++});this.attachmentErrorCount=b;if(8E3<a)return"ERR_MAX_CHARS";if(b)return"ERR_BAD_ATTACHMENTS";if(0===p)return"ERR_RECIPIENT_REQUIRED";if(0===a&&0===k&&
0===c)return"ERR_CONTENT_REQUIRED";break;case d.PERSON_ADDED:a=this.getCustomContent();if(!(a&&a.participantChange&&a.participantChange.participants&&a.participantChange.participants.length))return"ERR_PARTICIPANTS_REQUIRED";break;case d.PERSON_REMOVED:if(a=this.getCustomContent(),!(a&&a.participantChange&&a.participantChange.removedParticipants&&a.participantChange.removedParticipants.length))return"ERR_REMOVED_PARTICIPANTS_REQUIRED"}},parse:function(a,e){var k=e.xhr.getResponseHeader("X-Message-Id");
a=a||{};k&&(a.id=k);return a},set:function(a,e,k){var c;if(null===a)return this;l.isObject(a)?(c=a,k=e):(c={})[a]=e;k=k||{};c=l.clone(c);a=this.getAttachments();e=c.attachments;var d=this.getStickers(),b=c.stickers,f=this.getRecipients(),g=c.recipients,h=this.getSender(),m=c.sender,n=c.customContent&&c.customContent.intro&&c.customContent.intro.member;a?e&&e.length&&a.set(e):a=new x(e||[]);a&&(c.attachments=a);d?b&&b.length&&d.set(b):d=new y(b||[]);d&&(c.stickers=d);f?g&&g.length&&f.set(g):f=new t(g||
[]);f&&(c.recipients=f);h||(h=m instanceof s?m:new s(m));h&&(c.sender=h);n&&(c.customContent.intro.member=new s(n));return r.prototype.set.call(this,c,k)},toJSON:function(a){a=r.prototype.toJSON.call(this,a);a.sender&&(a.sender=a.sender.toJSON());a.customContent&&a.customContent.intro&&a.customContent.intro.member&&(a.customContent=l.clone(a.customContent),a.customContent.intro=l.clone(a.customContent.intro),a.customContent.intro.member=a.customContent.intro.member.toJSON());return a},onChangeRecipients:function(){this._participants=
null;this._participants=this.getActiveParticipants();this._recipients=null;this._recipients=this.getValidRecipients()},_setResponseAction:function(a,e){var b=this.getValidActions();this.isType(d.INMAIL_REPLY)&&(b[0].inmail||(b[0].inmail={}),b[0].inmail.action=a,e&&(b[0].inmail.contactInfo=e),b[0].inmail.shareContactInfo=!!e,this.setActions(b))},isGroup:function(){return 1<this.getValidRecipients().size()},isSpam:function(){return!!this.get("isSpam")},hasSticker:function(){var a=this.getStickers();
return!(!a||!a.length)},isFromCurrentUser:function(){return n.getCurrentUser().id===this.getSender().id},isType:function(a){return this.getType()===a},isDeclined:function(){var a=!1,b;this.isType(d.INMAIL_REPLY)&&(b=this.getValidActions()[0],b.inmail&&(a=b.inmail.action===g.DECLINE));return a},isAccepted:function(){return!this.isDeclined()},isRecruiterInMail:function(){var a=this.getCustomContent();return!!(a&&a.inmail&&a.inmail.recruiterInmail)},isConversationStarter:function(){return this.get("isConversationStarter")},
canShareContactInfo:function(){var a=this.getCustomContent();return!!(a&&a.inmail&&a.inmail.shareContactInfo)},getValidRecipients:function(){var a;this._recipients&&this._recipients.size()||(a=this.getActiveParticipants(),a.remove(n.getCurrentUser().id),!a.size()&&this.collection.thread&&a.reset(n.getCurrentUser()),this._recipients=a);return this._recipients},getActiveParticipants:function(){var a;this._participants&&this._participants.size()||(a=new t(this.getRecipients()),this.isType(d.PERSON_REMOVED)||
a.push(this.getSender()),this._participants=a);return this._participants},getType:function(){return this.get("type")},getStatus:function(){var a=this.getCustomContent();return a&&a.inmail&&(a.inmail.responseAction||a.inmail.status)},getCustomContent:function(){return this.get("customContent")},getTimestamp:function(){return this.get("timestamp")},getSender:function(){return this.get("sender")},getBody:function(){return this.get("body")},getRecipients:function(){return this.get("recipients")},getAttachments:function(){return this.get("attachments")},
getBlocked:function(){return this.get("blocked")},getBlockedReason:function(){var a=this.getCustomContent(),a=a&&a.inmail&&a.inmail.responseAction;if(this.getBlocked())return f.BLOCKED;if(this.isFromCurrentUser()){if(this.isType(d.INMAIL))return f.PENDING_INMAIL;if(this.isType(d.PERSON_REMOVED))return f.LEFT_CONVERSATION}else if(this.isType(d.INMAIL_REPLY)&&"DECLINED"===a)return f.DECLINED_INMAIL},getSubject:function(){return this.get("subject")},getStickers:function(){return this.get("stickers")},
getValidActions:function(){var a=this.get("actions");a&&l.isArray(a)||(a=[{}]);return a},getAnnotations:function(){return this.get("annotations")},setTimestamp:function(a){this.set("timestamp",a)},setActions:function(a){this.set("actions",a)},setDeclineAction:function(){this._setResponseAction(g.DECLINE)},setAcceptAction:function(a){this._setResponseAction(g.ACCEPT,a)},setBody:function(a){this.set("body",a)},setType:function(a){this.set("type",a)},markAsSpam:function(){this.set("isSpam",!0)},markAsActioned:function(a){return this.save(null,
{url:play.addQueryParameter(this.url(),"action","markActioned"),method:"post",success:a||$.noop})},send:function(){this.shouldRetrySend=!1;var a={success:l.bind(function(a,b,c){var d=c.xhr;d&&d.getResponseHeader("X-Error-Code")&&(this.shouldRetrySend=!0,this.trigger("error",a,b,c));z.request("track:comscore","wonton-compose-send")},this),error:l.bind(function(a,b,c){this.shouldRetrySend=!0},this)};v.isTreatment("wonton.queue.messages")&&(a.queue="messageQueue");return this.save(null,a)}},{TYPES:d,
BLOCKED_REASONS:f,RESPONSES:g});b.exports("ThreadMessageModel",q)})(window.LIModules);
(function(d){var c=d.requires("underscore"),h=d.requires("backbone"),e=d.requires("LICollection"),k=d.requires("ThreadMessageModel"),f=d.requires("LixValues"),g=d.requires("InboxChannel"),e=e.extend({model:k,donePaging:!1,donePagingOld:!1,_fetchXhr:void 0,reorderOnSort:!0,comparator:function(a){return a.isNew()?Infinity:a.getTimestamp()},url:function(){return"/messaging/conversations/"+this.thread.id+"/messages"},initialize:function(){this.on("sync",this.onSync,this);this.on("request",this.onRequest,
this)},parse:function(a){return a.elements},save:function(a){return h.sync("update",this,a)},onRequest:function(a,b,c){c.isPageRequest&&(this.donePagingOld=this.donePaging=!1,this.trigger("page:request"))},onSync:function(a,b,c){c.isPageRequest&&(b=b.elements?b.elements.length:0,a=20>b,this.donePaging=b=f.isTreatment("wonton.paginateUntilNoResults.messages")?0===b:20>b,this.donePagingOld=a,this.trigger("page:sync",{isLastResult:b}))},_constructActionUrl:function(a){return play.addQueryParameter(this.url(),
"action",a)},_postAction:function(a){var b={action:!0,url:this._constructActionUrl(a.actionName),method:"post",contentType:"application/json",data:JSON.stringify({messages:c.pluck(a.messages,"id")})};a=c.defaults(a,b);return this.save(a)},_fetch:function(a){this._fetchXhr&&"pending"===this._fetchXhr.state()||this.donePaging||(f.isTreatment("wonton.paginateUntilNoResults.messages")&&this.donePagingOld&&window.RUM2.appRenderComplete(),this._fetchXhr=this.fetch({isPageRequest:!0,remove:!1,silenceScroller:!!a,
data:{before:a,count:20},success:c.bind(function(){this.syncedOnce=!0},this)}),this._fetchXhr.always(function(){g.trigger("threaddetail:shown")}),a&&g.request("track:comscore","wonton-conversation-scroll"));return this._fetchXhr},getNewest:function(){return this.last()},getNewestSynced:function(){var a=this.reject(function(a){return a.isNew()});if(!c.isEmpty(a))return c.max(a,this.comparator)},getOldestTimestamp:function(){var a=this.first();return a?a.getTimestamp():void 0},fetchInitial:function(){if(f.isTreatment("wonton.paginateUntilNoResults.messages")){if(1<
this.length&&20>this.length&&(this.donePagingOld=!0),20>this.length&&!this.syncedOnce)return this._fetch()}else if(1<this.length&&20>this.length&&(this.donePaging=!0),2>this.length&&!this.syncedOnce)return this._fetch()},fetchOlder:function(){return this._fetch(this.getOldestTimestamp())},abortFetchRequests:function(){this._fetchXhr&&this._fetchXhr.abort()},areAllFromCurrentUser:function(){return!this.some(function(a){return!a.isFromCurrentUser()})},reportAsSpam:function(a){var b;a.length&&(b=this._postAction({actionName:"reportAsSpam",
messages:a}),b.done(c.bind(function(){c.isEqual(a,this.models)?this.thread.markAsSpam():c.each(a,function(a){a.markAsSpam()})},this)));return b},sendUnsubscribeRequest:function(){return this.save({url:this.url()+"?action\x3dcreateCapRestriction\x26csrf\x3d"+play.getPageContextValue("csrfToken"),method:"post",data:null})},fromCurrentUser:function(){return this.filter(function(a){return a.isFromCurrentUser()})},fromOtherUsers:function(){return this.filter(function(a){return!a.isFromCurrentUser()})}});
d.exports("ThreadMessageCollection",e)})(window.LIModules);
(function(e){var f=e.requires("underscore"),l=e.requires("LIModel"),q=e.requires("InboxChannel"),r=e.requires("InstanceStore"),g=e.requires("LixValues"),p=e.requires("Utils");e.requires("UserModel");var m=e.requires("UserCollection"),n=e.requires("ThreadMessageModel"),s=e.requires("ThreadMessageCollection"),t=e.requires("InvitationModel"),u=l.extend({idAttribute:"threadId",urlRoot:"/messaging/conversations",defaults:function(){return{notificationStatus:"ACTIVE",muted:!1,timestamp:(new Date).getTime(),
read:!0}},initialize:function(a,b){b=b||{};this.listenTo(this,"change:muted",this.onChangeMuted);this.listenTo(this,"change:notificationStatus",this.onChangeNotify);this.listenTo(this.getMessages(),"update",this.onUpdateMessages);this.setDraft(b.composeFields);this.saveCallback=b.onSave||f.noop},parse:function(a,b){var c,d;b&&b.xhr&&(c=b.xhr.getResponseHeader("X-Thread-Id"),d=b.xhr.getResponseHeader("X-Message-Id"),a=a||{},c&&(a.timestamp=(new Date).getTime(),a.messageId=d,a.threadId=c));return a},
set:function(a,b,c){var d;if(null===a)return this;f.isObject(a)?(d=a,c=b):(d={})[a]=b;c=c||{};d=f.clone(d);a=this.getMessages();b=d.messages;var h=this.get("participants"),e=d.participants,k=this.get("pendingInvitation"),g;a?b&&(this.hasInvitationAcceptedMessage(b)&&(g=f.filter(a.models,function(a){return a.get("type")===n.TYPES.INVITATION_ACCEPTED}),a.remove(g)),a.set(b,{remove:!1})):a=new s(b||[]);a&&(d.messages=a);h?e&&h.set(e):h=new m(d.participants||[]);h&&(h.add(p.getCurrentUser()),d.participants=
h);d.threadId&&(a.thread=this);d.messageId&&this.getNewestMessage().set("id",d.messageId);d.pendingInvitation&&(k?(k.hasSharedSecret()||k.setSharedSecret(d.pendingInvitation.sharedSecret),d.pendingInvitation=k):d.pendingInvitation=new t(d.pendingInvitation));return l.prototype.set.call(this,d,c)},save:function(a,b,c){if(null==a||"object"===typeof a)c=b;c=c||{};var d=c.success;c.success=f.bind(function(a,b,c){"function"===typeof this.saveCallback&&this.saveCallback();if("function"===typeof d)return d(a,
b,c)},this);return l.prototype.save.call(this,a,b,c)},destroy:function(a){a=a||{};var b=a.success;a.success=f.bind(function(a,d,e){this._processUnreadCountFromResponse(a,d,e);if("function"===typeof b)return b(a,d,e)},this);return l.prototype.destroy.call(this,a)},hasInvitationAcceptedMessage:function(a){return f.some(a,function(a){return a.type===n.TYPES.INVITATION_ACCEPTED})},onUpdateMessages:function(){var a=this.getDraft(),b=this.getNewestMessage(),c=b&&b.getTimestamp(),d=b&&b.getValidRecipients(),
b=b&&b.getType();d&&a.set("recipients",d);a.setType(this._getDraftMessageType(b));c>this.getTimestamp()&&this.setTimestamp(c)},_processUnreadCountFromResponse:function(a,b,c){a=c&&c.xhr&&c.xhr.getResponseHeader("X-Unread-Count");a=parseInt(a);isNaN(a)||q.trigger("newUnreadCount",a)},_getDraftMessageType:function(a){var b=n.TYPES;switch(a){case b.INMAIL:case b.INMAIL_REPLY:return b.INMAIL_REPLY;default:return b.MEBC}},getBlockedReason:function(){var a=this.getNewestMessage();if(a)return a.getBlockedReason()},
isCustomReply:function(){return!!this.getDraft().get("replyItemId")},setInvitation:function(){var a=this.getDraft(),b=a.get("sender").get("id"),c=this.getRecipientFromDraft(),c=c?c.get("id"):-1,a={invitationUrn:a.get("replyItemId"),inviteeId:b,inviterId:c};this.set("pendingInvitation",a)},getNewestSyncedMessage:function(){return this.getMessages().getNewestSynced()},getNewestMessage:function(){return this.getMessages().getNewest()},getMessages:function(){return this.get("messages")},getTimestamp:function(){return this.get("timestamp")},
getValidRecipients:function(){var a=this.getNewestMessage();return a?a.getValidRecipients():new m([])},getMentionDataSet:function(){this.getValidRecipients();var a=play.getPageContext().locale,b;t8=t8||e.requires("t8");b=new t8.NameFormatter;return this.getValidRecipients().models.map(function(c){var d=c.toJSON();c=b.format({firstName:c.get("firstName"),lastName:c.get("lastName")},"FULL_NAME",a);d.displayName=c;d.headLine=c;d.subLine=d.headline;return d}).sort(function(a,b){var e=a.displayName.toUpperCase(),
f=b.displayName.toUpperCase();return e<f?-1:e>f?1:0})},getInvitation:function(){return this.get("pendingInvitation")},getDraft:function(){return this.get("draft")},getRecipientFromDraft:function(){return this.get("draft").get("recipients").at(0)},getInvitationSenderName:function(){var a,b=play.getPageContext().locale,c=this.get("pendingInvitation"),d=this.getNewestMessage(),h="",g="",k="";t8||(t8=e.requires("t8"));a=new t8.NameFormatter;c&&(d&&d.isFromCurrentUser()?(c=c.getInviterId(),d=f.findWhere(d.getRecipients().models,
{id:c})):d=d?d.getSender():"",d&&(g=d.get("firstName")||"",k=d.get("lastName")||""),h=a.format({firstName:g,lastName:k},"FULL_NAME",b));return h},setDraft:function(a){a=a||{};var b=this.getNewestMessage(),c=a.recipients,c=c?new m(c):new m(b&&b.getValidRecipients()),b=this._getDraftMessageType(b&&b.getType());a=new n({type:b,recipients:c,body:a.body||"",bodyPlaceholder:a.bodyPlaceholder||"",groupId:a.groupId,replyItemId:a.replyItemId,onSend:a.onSend,isConversationStarter:a.isConversationStarter},{collection:this.getMessages()});
this.set("draft",a)},setTimestamp:function(a){this.set("timestamp",a)},setMuted:function(a){this.set("muted",a)},hasDraft:function(){return!!this.get("draft")},hasPendingInvitation:function(){return!!this.get("pendingInvitation")},isGroup:function(){return(this.getNewestMessage()||this.getDraft()).isGroup()},isAlive:function(){var a=this.getNewestMessage(),b;return a&&a.isType(a.TYPES.PERSON_REMOVED)?(b=p.getCurrentUser().id,a=a.getCustomContent().participantChange.removedParticipants,!f.contains(f.pluck(a,
"id"),b)):!0},isRead:function(){return this.get("read")},isMuted:function(){return this.get("muted")},isNotifiable:function(){return this.isAlive()},isActioned:function(){return this.get("actioned")},isReportable:function(){return this.isAlive()?!this.getMessages().areAllFromCurrentUser():!1},isAddable:function(){var a=this.isGroup(),b=this.isAlive(),c=this.getMessages(),c=1>=c.fromOtherUsers().length&&5>=c.fromCurrentUser().length;return!this.isAnyInmail()&&b&&(g.isTreatment("wonton.add1To1")||a||
c)},isForwardable:function(){return g.isTreatment("wonton.enableForwarding")},isLeaveable:function(){return g.isTreatment("wonton.enableLeaveConversation")&&!this.isAnyInmail()&&this.isGroup()&&!this.isNew()&&this.isAlive()},isInmail:function(){var a=this.getNewestMessage();return a&&a.isType(a.TYPES.INMAIL)},isAnyInmail:function(){var a=this.getNewestMessage();return a?f.contains([a.TYPES.INMAIL,a.TYPES.INMAIL_REPLY,a.TYPES.SPONSORED_INMAIL,a.TYPES.SPONSORED_INMAIL_LEGACY],a.getType()):!1},isBlocked:function(){var a=
!1;this.getNewestMessage()&&(a=!!this.getBlockedReason());return a},isSponsoredInmailLegacy:function(){var a=this.getNewestMessage();return a&&a.isType(a.TYPES.SPONSORED_INMAIL_LEGACY)},isSponsoredInmail:function(){var a=this.getNewestMessage();return a&&a.isType(a.TYPES.SPONSORED_INMAIL)},leave:function(a){a=a||{};var b=a.success;a.success=f.bind(function(a,d,e){if("function"===typeof b)return b(a,d,e)},this)},markAsSpam:function(){return this.destroy()},markAsRead:function(){var a;this.isNew()||
this.isRead()||(a=this.save({read:!0},{patch:!0,dataType:"text",success:f.bind(this._processUnreadCountFromResponse,this)}));return a},markAsUnread:function(){var a;if(!this.isNew()||this.isRead())a=this.save({read:!1},{patch:!0,dataType:"text",success:f.bind(this._processUnreadCountFromResponse,this)});return a},markAsActioned:function(){this.getNewestMessage().markAsActioned(f.bind(function(){this.set("actioned",!0)},this))},editGroupName:function(){var a,b=this.get("name");this.isNew()||(a=this.save({name:b},
{patch:!0,dataType:"text"}));return a},addMessage:function(a){this.getMessages().add(a)},setNotify:function(a){this.set("notificationStatus",a)},getNotify:function(){return this.get("notificationStatus")},notifyAll:function(){this.notify("ACTIVE")},notifyMention:function(){this.notify("ACTIVE_FOR_MENTIONS_ONLY")},notifyNone:function(){this.notify("MUTE")},notify:function(a){var b;this.getNotify();this.isNew()||(b=this.save({notificationStatus:a},{patch:!0,dataType:"text"}));return b},mute:function(){var a;
this.isMuted()||this.isNew()||(a=this.save({muted:!0},{patch:!0,dataType:"text"}));return a},unmute:function(){var a;this.isMuted()&&!this.isNew()&&(a=this.save({muted:!1},{patch:!0,dataType:"text"}));return a}});e.exports("ThreadModel",r.create(u))})(window.LIModules);
(function(e){var k=e.requires("jquery"),d=e.requires("underscore"),l=e.requires("backbone"),m=e.requires("LICollection"),g=e.requires("InboxChannel"),n=e.requires("Utils"),h=e.requires("ThreadModel"),f=e.requires("LixValues"),p=e.requires("UserActivityChannel"),h=m.extend({model:h,url:"/messaging/conversationsView",donePaging:!1,_thePoller:void 0,_pollAbort:void 0,_lastFetchTimeStamp:(new Date).getTime(),_fetchXhr:void 0,initialize:function(a,b){b=d.defaults(b||{},{polling:!0});this.meta=new l.Model;
this.summary=new l.Model;this.on("change:timestamp",this.sort);this.on("destroy",this.onThreadDestroy);this.on("sync",this.onSync,this);this.on("request",this.onRequest,this);this.on("hydrate",this.onHydrate,this);this.listenTo(g,"newUnreadCount",function(a){this.summary.set("unreadCount",a)});this.pollingEnabled=!!b.polling;if(a&&a.conversationsBefore&&0<a.conversationsBefore.length){var c=d.first(a.conversationsBefore).messages;c&&(this._lastFetchTimeStamp=d.last(c).timestamp)}a&&a.conversationsBefore&&
20>a.conversationsBefore.length&&f.isTreatment("wonton.preventExtraConversationListFetch")&&(this.donePaging=!0)},comparator:function(a){return a.isNew()?-Infinity:-1*a.get("timestamp")},parse:function(a,b){var c=(a.conversationsBefore||[]).concat(a.conversationsAfter||[]);this.meta.set(a.meta);this.summary.clear();this.summary.set(a.summary);return c},getNewestThread:function(){return d.first(this.models)},getOldestThread:function(){return d.last(this.models)},getNewestTimestamp:function(){var a=
this.getNewestThread();return a?a.get("timestamp"):void 0},getOldestTimestamp:function(){var a=this.getOldestThread();return a?a.get("timestamp"):void 0},fetchUpdates:function(a){a=d.extend({remove:!1},a);a.data=d.extend({after:this._lastFetchTimeStamp,clearUnseen:p.request("isActive")},a.data);f.isTreatment("wonton.fetchAllMessages")&&(a.data=d.extend({includeSent:"true"},a.data));return this.fetch(a)},startPolling:function(){var a=f.get("wonton.pollingStepRestart").split("_"),b=d.bind(this.pollUpdates,
this),c=d.bind(this.restartPolling,this,!0);this._thePoller=new n.Poller(b,{finishCallback:function(){},stepCallback:function(b,d){if(b===parseInt(a[1],10))k("body").one("mousemove",c)}})},restartPolling:function(a){this._thePoller?this._thePoller.reset(a):this.startPolling()},getLastFetchTimeStampFromPollResults:function(a){var b=this._lastFetchTimeStamp;a&&a.conversationsAfter&&0<a.conversationsAfter.length&&(a=d.last(a.conversationsAfter).messages)&&(b=d.last(a).timestamp);return b},pollUpdates:function(){var a=
this.fetchUpdates();a.done(d.bind(function(a){this._pollAbort=null;this._lastFetchTimeStamp=this.getLastFetchTimeStampFromPollResults(a)},this));this._pollAbort=d.bind(a.abort,a);return a},stopPolling:function(){(this._pollAbort||k.noop)();this._pollTimeoutId&&window.clearTimeout(this._pollTimeoutId)},fetchOlder:function(a){var b,c;this._fetchXhr&&"pending"===this._fetchXhr.state()||this.donePaging||(a=a||{},b=this.getNewestTimestamp(),c=this.getOldestTimestamp(),d.extend(a,{after:b,before:c&&c-1,
count:20}),this.stopPolling(),this._fetchXhr=this.fetch({remove:!1,silenceScroller:!0,data:a}),this.pollingEnabled&&this._fetchXhr.done(d.bind(this.restartPolling,this)),g.request("track:comscore","wonton-inf-scroll"));return this._fetchXhr},fetch:function(a){a=a||{};a.data=a.data||{};a.headers={"Csrf-Token":play.getPageContextValue("csrfToken")};this.keyword&&(a.data.keyword=this.keyword);this.filters&&this.filters.length&&(a.traditional=!0,a.data.filters=this.filters);return m.prototype.fetch.call(this,
a)},onRequest:function(a,b,c){c&&c.data&&(c.data.before||!c.data.after)&&(this.donePaging=!1,this.trigger("page:request"))},onHydrate:function(a){var b=this.chain().where({id:a.id}).reject(function(b){return a===b}).value();this.remove(b)},onSync:function(a,b,c){c&&c.data&&(c.data.before||!c.data.after)&&(a=b.conversationsBefore?b.conversationsBefore.length:0,this.donePaging=a=f.isTreatment("wonton.paginateUntilNoResults")?0===a:20>a,this.trigger("page:sync",{isLastResult:a}));b.conversationsAfter&&
b.conversationsAfter.length&&this.trigger("message:received",b)},search:function(a,b,c){this.keyword=a?a:void 0;this.filters=b;this.donePaging=!1;return c?c:this.fetch({remove:!0,traditional:!0,data:{keyword:this.keyword,filters:this.filters},success:function(){window.RUM2.appRenderComplete()},error:function(){g.trigger("search:error")}})},onThreadDestroy:function(){var a=this.summary.get("totalResultsCount");d.isNumber(a)&&this.summary.set("totalResultsCount",a-1||0)}},{pollInterval:void 0});e.exports("ThreadCollection",
h)})(window.LIModules);
(function(b){var f=b.requires("underscore"),d=b.requires("backbone"),g=b.requires("UserModel"),h=d.Model.extend({idAttribute:"urn",set:function(a,b,e){var c;if(null===a)return this;f.isObject(a)?(c=a,e=b):(c={})[a]=b;e=e||{};c=f.clone(c);a=c.target;a instanceof d.Model||(c.target=new g(a));return d.Model.prototype.set.call(this,c,e)},toJSON:function(a){a=d.Model.prototype.toJSON.call(this,a);a.target&&(a.target=a.target.toJSON());return a}},{TYPES:{BIRTHDAY:"BIRTHDAY",JOB_CHANGE:"JOB_CHANGE",WORK_ANNIVERSARY:"WORK_ANNIVERSARY"}});
b.exports("ConversationStarterModel",h)})(window.LIModules);
(function(a){var c=a.requires("LICollection"),d=a.requires("ConversationStarterModel"),c=c.extend({url:"/messaging/props",model:d,parse:function(b){var a=[];Array.isArray(b)?a=b:Array.isArray(b.elements)&&(a=b.elements);return a.slice(0,5)}});a.exports("ConversationStartersCollection",c)})(window.LIModules);
(function(c){var e=c.requires("LICollection"),d=c.requires("UserModel"),f=c.requires("docCookies"),d=e.extend({url:"/messaging/connections",model:d,parse:function(a){var b=[];Array.isArray(a)?b=a:Array.isArray(a.elements)&&(b=a.elements);var c=this.getIdsToExclude(),b=b.filter(function(a){return-1===c.indexOf(a.id)});return b.slice(0,5)},remove:function(a){this.addIdToExclude(a.get("id"));e.prototype.remove.apply(this,arguments)},getIdsToExclude:function(){var a=f.getItem("holidayPromoCompleted");
return a?a.split(","):[]},addIdToExclude:function(a){var b=this.getIdsToExclude();b.push(a);f.setItem("holidayPromoCompleted",b.join(","),2592E3,"/messaging")}});c.exports("ConnectionCollection",d)})(window.LIModules);
(function(a){var g=a.requires("underscore"),k=a.requires("HopscotchTourRunner"),h=a.requires("Utils"),l=a.requires("LegoData"),b={i18n_learn_more_tour_name:"",i18n_learn_more_tour_threads_head:"",i18n_learn_more_tour_threads_body:"",i18n_learn_more_tour_invitations_head:"",i18n_learn_more_tour_invitations_body:"",i18n_learn_more_tour_compose_head:"",i18n_learn_more_tour_compose_body:""},c=!1,m=g.once(function(a){h.geti18nStrings(b,"templates/right-rail/learn-more",a)});a.exports("InboxTour",{run:function(){if(!c){var f=
a.requires("PlayLego"),d=l.get("messaging_feature_tour"),e=d&&d.trackingToken;c=!0;m(h.getCurrentUser().toJSON());d={tourId:"wontonTour",tourText:b.i18n_learn_more_tour_name,steps:[{target:"inbox-list",placement:"right",title:b.i18n_learn_more_tour_threads_head,content:b.i18n_learn_more_tour_threads_body},{target:"[data-li-activity-type\x3daddconnections]",placement:"bottom",title:b.i18n_learn_more_tour_invitations_head,content:b.i18n_learn_more_tour_invitations_body,xOffset:-235,arrowOffset:241},
{target:"compose-button",placement:"bottom",title:b.i18n_learn_more_tour_compose_head,content:b.i18n_learn_more_tour_compose_body,xOffset:-12}],onEnd:function(){c=!1},onClose:function(){c=!1}};e&&g.extend(d,{onStart:function(){f.fireImpressionEvent([e])},onEnd:function(){f.fireActionEvent(e,"PRIMARY_ACTION","wonton-tour-complete");c=!1},onNext:function(){f.fireActionEvent(e,"SECONDARY_ACTION","wonton-tour-next")},onClose:function(){f.fireActionEvent(e,"DISMISS","wonton-tour-dismiss");c=!1}});k.startTour({tourId:"wontonTour",
tourData:d})}}})})(window.LIModules);
(function(b){var c=b.requires("underscore"),a=b.requires("marionette"),d=b.requires("InboxChannel"),a=a.ItemView.extend({el:"#a11y-announcer",initialize:function(){this.listenTo(d,"announce",this.announce)},announce:function(b){var a=this.$el;a.html($("\x3cspan/\x3e").text(b));setTimeout(c.bind(a.empty,a),3E3)}});b.exports("AnnouncerView",a)})(window.LIModules);
(function(b){var c=b.requires("jquery"),g=b.requires("underscore"),f=b.requires("backbone"),k=b.requires("marionette"),h=b.requires("PageViewTracking"),l=f.Radio.channel("inbox"),f=k.Behavior.extend({ui:{dismissBtn:".dismiss",yesBtn:".yes-btn",noBtn:".no-btn",skipBtn:".skip-btn"},events:{click:"onClickOverlay","click @ui.dismissBtn":"onDismissAction","click @ui.yesBtn":"onYesAction","click @ui.noBtn":"onNoAction","click @ui.skipBtn":"onSkipAction",keydown:"onKeyDown"},keyboardShortcuts:{esc:"onDismissAction"},
onClickOverlay:function(a){c(a.target).is(this.$el)&&this.triggerMethod("hide:modal")},onRender:function(){this.$el.addClass("modal")},onShow:function(){this.preDialogFocusedElement=document.activeElement;this.triggerMethod("show:modal");this._fireTracking(this.$el)},onDestroy:function(){},onKeyDown:function(a){var d=this.$el,c=document.activeElement,b;9===(a.keyCode||e.which)&&(d=d.add(d.find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible")),
b=d.length,c=d.index(c),a.shiftKey?0===c&&(d.get(b-1).focus(),a.preventDefault()):c===b-1&&(d.get(0).focus(),a.preventDefault()))},onDismissAction:function(a){this._fireTracking(c(a.target));this.triggerMethod("hide:modal");this._generateEvent("dismiss")},onYesAction:function(a){this._fireTracking(c(a.target));this.triggerMethod("hide:modal");this._generateEvent("yes")},onNoAction:function(a){this._fireTracking(c(a.target));this.triggerMethod("hide:modal");this._generateEvent("no")},onSkipAction:function(a){this._fireTracking(c(a.target));
this._generateEvent("skip")},onHideModal:function(){var a=this.preDialogFocusedElement;this.$el.removeClass("visible");c(document).off("focusin.modal");this.unbindKeyboardShortcuts();l.trigger("modal:hidden");a&&a.focus();setTimeout(g.bind(this.view.destroy,this.view),500)},onShowModal:function(){var a=this.$el;c(document).on("focusin.modal",g.bind(function(a){var b=this.$el,f=c(a.target);a.stopPropagation();if(b.is(f)||0<b.has(f).length)return!1;this.$el.focus()},this));a.addClass("visible");a.focus();
this.bindKeyboardShortcuts()},_fireTracking:function(a){(a=h.getPageKey(a))&&h.fireTracking(a)},_generateEvent:function(a){this.view.triggerMethod("modal:action",a);this.view.triggerMethod(this._generateSpecificEventName(a))},_generateSpecificEventName:function(a){return"modal:"+a+":action"}});b.exports("BaseModal",f)})(window.LIModules);
(function(a){var b=a.requires("marionette"),c=a.requires("BaseModal"),b=b.ItemView.extend({tagName:"section",attributes:{role:"dialog",tabindex:"0"},behaviors:{BaseModal:{behaviorClass:c}}});a.exports("BaseModalView",b)})(window.LIModules);
(function(a){var b=a.requires("BaseModalView").extend({className:"confirmation-modal",ui:{confirmHeader:".confirm-header"},onRender:function(){this.ui.confirmHeader.attr("id",this.$el.attr("aria-labelledby"))}});a.exports("ConfirmationModalView",b)})(window.LIModules);
(function(a){a.requires("underscore");var b=a.requires("BaseModalView").extend({template:"templates/components/modals/keyboard-shortcuts-list",id:"keyboard-shortcuts-list"});a.exports("KeyboardShortcutsListModalView",b)})(window.LIModules);
(function(a){var b=a.requires("underscore"),c=a.requires("ConfirmationModalView"),d=c.extend({template:"templates/components/modals/mute-confirmation",attributes:function(){var a=b.result(c.prototype,"attributes");b.extend(a,{id:"mute-confirmation","aria-labelledby":"confirm-mute"});return a}});a.exports("MuteConfirmationModalView",d)})(window.LIModules);
(function(a){var b=a.requires("underscore"),c=a.requires("ConfirmationModalView"),d=c.extend({template:"templates/components/modals/delete-confirmation",attributes:function(){var a=b.result(c.prototype,"attributes");b.extend(a,{id:"delete-confirmation","aria-labelledby":"confirm-delete"});return a}});a.exports("DeleteConfirmationModalView",d)})(window.LIModules);
(function(a){var b=a.requires("underscore"),c=a.requires("ConfirmationModalView"),d=c.extend({template:"templates/components/modals/leave-confirmation",attributes:function(){var a=b.result(c.prototype,"attributes");b.extend(a,{id:"leave-confirmation","aria-labelledby":"confirm-leave"});return a}});a.exports("LeaveConfirmationModalView",d)})(window.LIModules);
(function(a){var b=a.requires("underscore"),c=a.requires("ConfirmationModalView"),d=c.extend({template:"templates/components/modals/spam-confirmation",attributes:function(){var a=b.result(c.prototype,"attributes");b.extend(a,{id:"spam-confirmation","aria-labelledby":"confirm-spam"});return a}});a.exports("SpamConfirmationModalView",d)})(window.LIModules);
(function(a){var b=a.requires("underscore"),c=a.requires("ConfirmationModalView"),d=c.extend({template:"templates/components/modals/unsubscribe-confirmation",attributes:function(){var a=b.result(c.prototype,"attributes");b.extend(a,{id:"unsubscribe-confirmation","aria-labelledby":"confirm-unsubscribe"});return a},initialize:function(){this.thread=this.options.thread}});a.exports("UnsubscribeConfirmationModalView",d)})(window.LIModules);
(function(e){var f=e.requires("underscore"),h=e.requires("marionette"),l=e.requires("ThreadMessageModel"),q=e.requires("MuteConfirmationModalView"),r=e.requires("LeaveConfirmationModalView"),s=e.requires("DeleteConfirmationModalView"),t=e.requires("SpamConfirmationModalView"),u=e.requires("SpamReportDialog"),c=e.requires("PageViewTracking"),m=e.requires("Utils"),n=e.requires("LixValues"),g=e.requires("InboxChannel"),h=h.Behavior.extend({ui:{addParticipantsAction:".add-people-action",addMemberButton:".add-person-trigger",
muteAction:".mute",unmuteAction:".unmute",leaveAction:".leave-action",deleteAction:".delete-action",reportAsSpamAction:".report-as-spam-action",forwardAction:".forward-action",markAsReadAction:".mark-as-read",markAsUnreadAction:".mark-as-unread",editGroupName:".edit-group-name-trigger",acceptInvitation:".accept-invitation",rejectInvitation:".reject-invitation",notificationMenuItem:".notifications.submenu",notificationAction:".notification-action",notificationCheckboxes:".notifications-option .notification-radio",
notifyAll:".notify-all",notifyMention:".notify-mention",notifyNone:".notify-none"},modelEvents:{"change:muted":"toggleMuted","change:notificationStatus":"updateNotify","change:read":"toggleRead"},keyboardShortcuts:{"ctrl+shift+del":"onShortcutDelete","ctrl+shift+backspace":"onShortcutDelete","ctrl+alt+r":"onShortcutToggleRead","ctrl+alt+f":"onShortcutForward","ctrl+alt+a":"onShortcutAddParticipants","ctrl+alt+y":"onShortcutReportAsSpam"},triggers:{"click @ui.addParticipantsAction":"action:addParticipants",
"click @ui.addMemberButton":"action:addParticipants","click @ui.muteAction":"action:mute","click @ui.unmuteAction":"action:unmute","click @ui.leaveAction":"action:leave","click @ui.deleteAction":"action:delete","click @ui.reportAsSpamAction":"action:reportAsSpam","click @ui.forwardAction":"action:forward","click @ui.markAsReadAction":"action:markAsRead","click @ui.markAsUnreadAction":"action:markAsUnread","click @ui.editGroupName":"action:editGroupName","click @ui.acceptInvitation":"action:acceptInvitation",
"click @ui.rejectInvitation":"action:rejectInvitation","click @ui.notificationAction":"toggle:notificationsMenu","click @ui.notifyAll":"action:notifyAll","click @ui.notifyMention":"action:notifyMention","click @ui.notifyNone":"action:notifyNone"},initialize:function(){var a=this.view.options;this.viewModel=a.model;this.threadDetailState=a.threadDetailState;this.messages=this.viewModel.getMessages();this.keyboardShortcuts["ctrl+alt+m"]=n.isTreatment("wonton.composeMentions")?"onShortcutCycleNotify":
"onShortcutToggleMute";this.bindKeyboardShortcuts();this.listenTo(this.messages,"sync",this.toggleReportable);this.listenTo(this.messages,"sync",this.toggleAddable);this.listenTo(this.messages,"sync",this.toggleLeaveable);g.on("cancel:group:name:edit",this.onCancelGroupNameEdit.bind(this));this.debounced_doOnActionNotify=f.debounce(f.bind(this._doOnActionNotify,this),1E3)},onRender:function(){this.viewModel.isNew()||(this.toggleReportable(),this.toggleRead(),this.toggleMuted(),this.updateNotify(),
this.toggleAddable(),this.toggleLeaveable())},onShortcutReportAsSpam:function(){c.fireTracking("wonton-shortcut-report-spam");this._doOnActionReportAsSpam(this._getActiveThread())},onShortcutDelete:function(){var a=this._getActiveThread();a.pageKey="wonton-shortcut-initiate-delete";a.pageKeyConfirm="wonton-shortcut-initiate-delete-confirm";c.fireTracking(a.pageKey);this._doOnActionDelete(a)},onShortcutForward:function(){this.onActionForward()},onShortcutAddParticipants:function(){this.onActionAddParticipants(this._getActiveThread())},
onShortcutToggleRead:function(){var a=this.viewModel.get("read"),b=this._getActiveThread();c.fireTracking(a?"wonton-shortcut-unread":"wonton-shortcut-read");a?this._doOnActionMarkAsUnread(b):this._doOnActionMarkAsRead(b)},onShortcutToggleMute:function(){var a=this.viewModel.get("muted"),b=this._getActiveThread();c.fireTracking(a?"wonton-shortcut-initiate-unmute":"wonton-shortcut-initiate-mute");a?this._doOnActionUnmute(b):(b.pageKeyConfirm="wonton-shortcut-initiate-mute-confirm",this._doOnActionMute(b))},
onShortcutCycleNotify:function(){var a=this.viewModel,b=this._getActiveThread();a.isNotifiable()&&(a=this.retrieveNotify()||a.get("notificationStatus"),"ACTIVE"===a?(c.fireTracking("wonton-shortcut-notify-mention"),a="ACTIVE_FOR_MENTIONS_ONLY"):"ACTIVE_FOR_MENTIONS_ONLY"===a?(c.fireTracking("wonton-shortcut-notify-none"),a="MUTE"):(c.fireTracking("wonton-shortcut-notify-all"),a="ACTIVE"),this.setNotifyUI(a),b.notificationStatus=a,this.debounced_doOnActionNotify(b))},onToggleNotificationsMenu:function(){this.ui.notificationMenuItem.toggleClass("open")},
onActionMarkAsRead:function(a){var b=a&&a.view&&a.view.$el.hasClass("dropdown")?"wonton-dimple-read":"wonton-mark-read";c.fireTracking(b);this._doOnActionMarkAsRead(a)},onActionMarkAsUnread:function(a){var b=a&&a.view&&a.view.$el.hasClass("dropdown")?"wonton-dimple-unread":"wonton-mark-unread";c.fireTracking(b);this._doOnActionMarkAsUnread(a)},onActionAddParticipants:function(a){var b=this.threadDetailState;(a=a.model||this.viewModel)&&!a.isNew()&&b.set("mode",b.MODES.ADD_PARTICIPANT)},onActionNotifyAll:function(a){"ACTIVE"!==
(a.model||this.viewModel).get("notificationStatus")&&(c.fireTracking("wonton-dimple-notify-all"),a.notificationStatus="ACTIVE",this._doOnActionNotify(a))},onActionNotifyMention:function(a){"ACTIVE_FOR_MENTIONS_ONLY"!==(a.model||this.viewModel).get("notificationStatus")&&(c.fireTracking("wonton-dimple-notify-mention"),a.notificationStatus="ACTIVE_FOR_MENTIONS_ONLY",this._doOnActionNotify(a))},onActionNotifyNone:function(a){"MUTE"!==(a.model||this.viewModel).get("notificationStatus")&&(c.fireTracking("wonton-dimple-notify-none"),
a.notificationStatus="MUTE",this._doOnActionNotify(a))},onActionMute:function(a){c.fireTracking("wonton-dimple-mute");a.pageKeyConfirm="wonton-dimple-mute-confirm";this._doOnActionMute(a)},onActionUnmute:function(a){c.fireTracking("wonton-dimple-unmute");this._doOnActionUnmute(a)},onActionLeave:function(a){a=a||{};a.view&&a.view.$el.hasClass("dropdown")?(a.pageKey="wonton-dimple-leave",a.pageKeyConfirm="wonton-dimple-leave-confirm"):(a.pageKey="wonton-initiate-leave",a.pageKeyConfirm="wonton-initiate-leave-confirm");
c.fireTracking(a.pageKey);this._doOnActionLeave(a)},onActionDelete:function(a){var b=a&&a.view;a=a||{};b.$el.hasClass("dropdown")?(a.pageKey="wonton-dimple-delete",a.pageKeyConfirm="wonton-dimple-delete-confirm"):(a.pageKey="wonton-initiate-delete",a.pageKeyConfirm="wonton-initiate-delete-confirm");c.fireTracking(a.pageKey);this._doOnActionDelete(a)},onActionReportAsSpam:function(a){c.fireTracking("wonton-dimple-report-spam");this._doOnActionReportAsSpam(a)},onActionEditGroupName:function(){this.view.triggerMethod("show:edit:group:name");
c.fireTracking("wonton-conversation-name-edit")},onActionForward:function(){c.fireTracking("wonton-dimple-forward");this.threadDetailState.enterForwardMode()},onActionAcceptInvitation:function(){this.view.triggerMethod("invitation:accept")},onActionRejectInvitation:function(){this.view.triggerMethod("invitation:reject")},onCancelGroupNameEdit:function(){this.ui.editGroupName.focus()},_getActiveThread:function(){return{model:g.request("active:conversation")}},_triggerError:function(a,b,d){"abort"!==
b&&this.view.triggerMethod("thread:action:error")},_doOnActionMarkAsRead:function(a){if(a=a.model||this.viewModel)if(a=a.markAsRead())this.view.triggerMethod("mark:as:read:action"),a.fail(f.bind(function(a,d,v){"abort"!==d&&(this._triggerError(),this.view.triggerMethod("mark:as:unread:action"))},this))},_doOnActionMarkAsUnread:function(a){if(a=a.model||this.viewModel)if(a=a.markAsUnread())this.view.triggerMethod("mark:as:unread:action"),a.fail(f.bind(function(a,d,v){"abort"!==d&&(this._triggerError(),
this.view.triggerMethod("mark:as:read:action"))},this))},_doOnActionNotify:function(a){var b=a.model||this.viewModel,d;a=a.notificationStatus||"ACTIVE";this.ui.notificationMenuItem.removeClass("open");b&&(d=b.getNotify(),(a=b.notify(a))&&a.fail(f.bind(function(a,c,e){"abort"!==c&&(this._triggerError(),b.setNotify(d))},this)))},_doOnActionMute:function(a){var b=a.model||this.viewModel,d=a.pageKeyConfirm;b&&(a=g.request("show:modal",q))&&this.listenToOnce(a,"modal:yes:action",function(){d&&c.fireTracking(d);
var a=b.mute();a&&a.fail(f.bind(function(a,d,c){"abort"!==d&&(this._triggerError(),b.setMuted(!1))},this))})},_doOnActionUnmute:function(a){var b=a.model||this.viewModel;b&&(a=b.unmute())&&a.fail(f.bind(function(a,c,p){"abort"!==c&&(this._triggerError(),b.setMuted(!0))},this))},_doOnActionLeave:function(a){var b=a.model||this.viewModel,d=a.pageKeyConfirm;b&&(a=g.request("show:modal",r,{thread:b}))&&this.listenToOnce(a,"modal:yes:action",function(){var a,p=b.getNewestMessage().getValidRecipients().clone(),
e=(new Date).getTime(),g=b.leave();d&&c.fireTracking(d);a=new l({type:l.TYPES.PERSON_REMOVED,timestamp:e,recipients:p,customContent:{participantChange:{removedParticipants:[m.getCurrentUser()]}}},{collection:b.getMessages()});b.getMessages().add(a);this.toggleLeaveable();this.toggleReportable();this.updateNotify();this.view.triggerMethod("mark:as:leave:action");a.save(null,{success:f.bind(function(){},this),error:f.bind(function(){b.getMessages().remove(a);this.toggleLeaveable();this.toggleReportable();
this.view.triggerMethod("mark:as:return:action");this._triggerError()},this)});g&&g.fail(f.bind(function(a,b,d){"abort"!==b&&(this._triggerError(),this.view.triggerMethod("mark:as:return:action"))},this))})},_doOnActionDelete:function(a){var b=a.model||this.viewModel,d=a.pageKeyConfirm;b&&(a=g.request("show:modal",s,{thread:b}))&&this.listenToOnce(a,"modal:yes:action",function(){d&&c.fireTracking(d);var a=b.destroy();a&&a.fail(f.bind(this._triggerError,this))})},_doOnActionReportAsSpam:function(a){var b=
this.threadDetailState,d=this.messages,c=d.at(0),e=a.model||this.viewModel;a={};var k,h=n.isTreatment("wonton.semaphore.reportAsSpam");d.areAllFromCurrentUser()||!e||e.isNew()||(h?(k=this._getLastReceivedMessage(),d={externalsPath:"scss/spam_report",tlPathPrefix:"tl/shared",templateDataUrl:"/psettings/flagging-menu?entityUrn\x3durn:li:mail:"+k.id+"\x26authorUrn\x3durn:li:member:"+k.getSender().id+"\x26contentSource\x3dINBOX_REPORT_SPAM",maskTemplate:"tl/shared/dialog_mask",cssPreloaded:!0,title:m.geti18nString("i18n_spam_report_dialog_title",
"templates/main-page"),callbacks:{submitSuccess:function(){k.markAsSpam()}}},d=new u(a,d),d.open()):1!==d.size()||c.isFromCurrentUser()?b.set("mode",b.MODES.BULK_SPAM):(d=g.request("show:modal",t,{message:c,threadDetailState:b}))&&this.listenToOnce(d,"modal:yes:action",function(){var a;b.addMessage(this.message);(a=b.reportSelectedMessagesAsSpam())&&a.fail(f.bind(this._triggerError,this))}))},_getLastReceivedMessage:function(){for(var a=this.messages,b=a.size()-1,d;-1<b;b--)if((d=a.at(b))&&!d.isFromCurrentUser())return d},
toggleRead:function(){this.viewModel.get("read")?(this.$el.removeClass("unread"),this.ui.markAsReadAction.attr("disabled","disabled"),this.ui.markAsReadAction.attr("aria-hidden","true"),this.ui.markAsUnreadAction.removeAttr("disabled"),this.ui.markAsUnreadAction.removeAttr("aria-hidden")):(this.$el.addClass("unread"),this.ui.markAsUnreadAction.attr("disabled","disabled"),this.ui.markAsUnreadAction.attr("aria-hidden","true"),this.ui.markAsReadAction.removeAttr("disabled"),this.ui.markAsReadAction.removeAttr("aria-hidden"))},
retrieveNotify:function(){var a,b=this.ui.notificationCheckboxes,d=b.length,c={all:"ACTIVE",mention:"ACTIVE_FOR_MENTIONS_ONLY",none:"MUTE"},e=0;if(this.viewModel.isNotifiable())for(;e<d;e++)if(a=b[e],a.checked)return c[a.value]},updateNotify:function(){this.setNotifyUI(this.viewModel.get("notificationStatus"))},setNotifyUI:function(a){var b=this.viewModel,d=b.isNotifiable(),c={},e;this.$el.toggleClass("notifiable",d);if(d){c.ACTIVE={hClass:"notifyall",el:this.ui.notifyAll};c.ACTIVE_FOR_MENTIONS_ONLY=
{hClass:"mention",el:this.ui.notifyMention};c.MUTE={hClass:"muted",el:this.ui.notifyNone};for(e in c)c[e].el.find("input").prop("checked",e===a),this.$el.toggleClass(c[e].hClass,e===a);b.setNotify(a)}},toggleMuted:function(){this.$el.toggleClass("muted",this.viewModel.get("muted"))},toggleReportable:function(){var a=this.viewModel.isReportable();this.$el.toggleClass("reportable",a);a||this.stopListening(this.messages,"sync",this.toggleReportable)},toggleAddable:function(){var a=this.viewModel.isAddable();
this.$el.toggleClass("addable",a);a||this.stopListening(this.messages,"sync",this.toggleAddable)},toggleLeaveable:function(){var a=this.viewModel.isLeaveable();this.$el.toggleClass("leaveable",a)}});e.exports("ThreadActions",h)})(window.LIModules);
(function(a){var b=a.requires("marionette"),c=a.requires("jSecure"),d=a.requires("InboxChannel"),b=b.Behavior.extend({ui:{errorContainer:".error-container",dismissAction:".error-container .dismiss-action",errorText:".error-container .error-text",retryContainer:".retry-container",retryAction:".retry-container .retry-action"},triggers:{"click @ui.dismissAction":"hide:error","click @ui.retryAction":"retry","click @ui.retryContainer":"retry"},modelEvents:{request:"onRequest"},onRequest:function(){this.triggerMethod("hide:error")},
onShowError:function(a){var b=this.ui.errorText;a&&b.empty().append(c.parseHTML(a));this.ui.errorContainer.removeClass("hidden");this.ui.retryContainer.removeClass("hidden");this.$el.addClass("error-present");d.trigger("announce",a||b.text())},onHideError:function(){this.ui.errorContainer.addClass("hidden");this.ui.retryContainer.addClass("hidden");this.$el.removeClass("error-present")}});a.exports("ErrorHandler",b)})(window.LIModules);
(function(d){var g=d.requires("jquery"),b=d.requires("underscore"),f=d.requires("marionette"),h=d.requires("InboxChannel"),f=f.Behavior.extend({defaults:{triggerFromBoundary:{top:200,bottom:200}},collectionEvents:{add:"onCollectionAdd",sync:"onCollectionSync"},events:{scroll:"onScroll",render:"onScroll",keydown:"onKeydown"},initialSync:!0,lastScrollTop:0,lastScrollBottom:0,initialize:function(){this.triggerFromBoundary=this.options.triggerFromBoundary;this.scrollOnAdd=this.options.scrollOnAdd;this.scrollOnShow=
this.options.scrollOnShow;this.scrollFromBoundary=this.options.scrollFromBoundary;this.onResize=b.bind(b.debounce(this._reconcileScrollbar,500),this);this.listenTo(h,"scroller:newContent",this.onNewContent);g(window).on("resize",this.onResize)},onRender:function(){this.$el.addClass("scroller")},onShow:function(){var a=this.scrollOnShow;this._reconcileScrollbar();b.defer(b.bind(function(){"top"===a?this._scrollToTop():"bottom"===a&&this._scrollToBottom()},this))},onAttach:function(){this._reconcileScrollbar()},
onDestroy:function(){this.$el.removeClass("scroller");g(window).off("resize",this.onResize)},onKeydown:function(a){32===a.keyCode&&a.preventDefault()},_calculateDimensions:function(){this.height=this.$el.innerHeight();this.contentHeight=this.getContentHeight()},_reconcileScrollbar:function(){var a=this.getScrollDimensions();this.view.$el.is(":visible")&&5>a[0]&&5>a[1]&&(this.view.triggerMethod("scroll:top"),this.view.triggerMethod("scroll:bottom"))},_scrollToTop:function(){this.lastScrollTop=0;this.lastScrollBottom=
this.contentHeight-this.height;this.$el.scrollTop(0)},_scrollToBottom:function(){var a=this.view.collection;a&&((a=this.view.children.findByModel(a.last()))&&this.$el.scrollTop(a.$el.position().top),this.lastScrollTop=this.$el.scrollTop(),this.lastScrollBottom=0)},onCollectionAdd:function(a,c,e){e.silenceScroller||this.scrollToEnd()},onCollectionSync:function(){var a=this.contentHeight;this._reconcileScrollbar();this.options.maintainPositionOnSync&&!this.initialSync&&this.$el.scrollTop(this.contentHeight+
this.lastScrollTop-a);this.initialSync=!1},onNewContent:function(){this._reconcileScrollbar();this.options.maintainPositionFromBottom&&this._scrollToMaintainBottom()},scrollToEnd:b.debounce(function(){var a=this.scrollOnAdd,c=this.scrollFromBoundary,e=this.getScrollDimensions();"top"===a?c.top?e[0]<c&&this._scrollToTop():this._scrollToTop():"bottom"===a&&(c.bottom?e[1]<c&&this._scrollToBottom():this._scrollToBottom())},100),_scrollToMaintainBottom:function(){var a=this.lastScrollBottom,c=this.getScrollDimensions(),
e=c[0],k=c[1];b.defer(b.bind(function(){this.$el.scrollTop(e+(k-a))},this))},getContentHeight:function(){return this.$el[0].scrollHeight},getScrollDimensions:function(){this._calculateDimensions();var a=this.$el.scrollTop(),c=this.contentHeight-this.height;return[a,c-a,a/c]},onScroll:b.throttle(function(){var a=this.view,c=this.lastScrollTop,e=this.triggerFromBoundary,b=this.getScrollDimensions(),d=b[0],b=b[1];0===d&&a.triggerMethod("scroll:top");d<e.top&&c>d?a.triggerMethod("scroll:nearTop"):b<e.bottom&&
c<d&&a.triggerMethod("scroll:nearBottom");0>=b&&a.triggerMethod("scroll:bottom");this.lastScrollTop=d;this.lastScrollBottom=b},100)},{TOP:"top",BOTTOM:"bottom",LAST:"last"});d.exports("Scroller",f)})(window.LIModules);
(function(a){var d=a.requires("jquery"),e=a.requires("underscore"),b=a.requires("marionette"),f=a.requires("Dropdown"),b=b.Behavior.extend({defaults:{orientation:"bottom",closeOnClick:!0},ui:{dropdowns:".dropdown"},onRender:function(){var a=this.ui.dropdowns.length?this.ui.dropdowns:this.$el,b=this.options,g=this;this.view.dropdowns=[];a.each(function(){var a=d(this),c=new f(a,{triggerSelector:".dropdown-trigger"});if(b.closeOnClick)a.find(".dropdown-menu").on("click",e.bind(c.close,c));g.view.dropdowns.push(c);
a.addClass(b.orientation)})},onDestroy:function(){this.$el.find(".dropdown-menu").off()},onDropdownOpen:function(){this.view.dropdowns.forEach(function(a){a.open()})},onDropdownClose:function(){this.view.dropdowns.forEach(function(a){a.close()})}});a.exports("Dropdowner",b)})(window.LIModules);
(function(b){var c=b.requires("marionette").Behavior.extend({defaults:{listenToCollection:!0},ui:{loader:".loader"},initialize:function(){this.modelOfInterest=this.options.listenToCollection?this.view.options.collection:this.view.options.model},onRender:function(){this.$el.addClass("loader-wrapper");this.modelOfInterest.donePaging&&this.hideLoader();this.listenTo(this.modelOfInterest,"page:request",this.onPageRequest);this.listenTo(this.modelOfInterest,"page:sync",this.onPageSync)},onPageRequest:function(){this.showLoader()},
onPageSync:function(a){this.toggleLoader(!a.isLastResult)},showLoader:function(){this.toggleLoader(!0)},hideLoader:function(){this.toggleLoader(!1)},toggleLoader:function(a){this.ui.loader.toggleClass("done",!a)},onDestroy:function(){this.$el.removeClass("loader-wrapper")}});b.exports("Loader",c)})(window.LIModules);
(function(b){var d=3E3,e=b.requires("marionette").Behavior.extend({_readTimeout:null,modelEvents:{request:"onRequest"},onShow:function(){var c=this.view.model;this._readTimeout=window.setTimeout(_.bind(c.markAsRead,c),d);d=0},onDestroy:function(){window.clearTimeout(this._readTimeout)},onRequest:function(c,b,a){a&&a.attrs&&a.attrs.patch&&a.attrs.patch.$set&&!_.isUndefined(a.attrs.patch.$set.read)&&window.clearTimeout(this._readTimeout)}});b.exports("ThreadDetailBehavior",e)})(window.LIModules);
(function(a){var b=a.requires("jquery"),c=a.requires("marionette").Behavior.extend({ui:{iframe:"iframe",ad:".ad"},onRender:function(){var a=this;b(window).load(function(){a.ui.iframe.each(function(){0==this.clientHeight&&(a.view.trigger("adblock:on"),b(this).addClass("hidden"),a.ui.ad.addClass("hidden"))})})}});a.exports("HideAdOnBlock",c)})(window.LIModules);
(function(b){b.requires("jquery");var c=b.requires("marionette"),f=b.requires("ErrorHandler"),d=b.requires("PageViewTracking"),e=b.requires("InboxChannel"),g=b.requires("Utils"),c=c.ItemView.extend({template:"templates/shared/editGroupName",id:"edit-group-name",ui:{form:"#group-name-form",groupName:".group-name",cancel:".edit-group-name-cancel",save:".edit-group-name-save"},behaviors:{ErrorHandler:{behaviorClass:f}},events:{"paste @ui.groupName":"onNewCharacterEvent","keyup @ui.groupName":"onNewCharacterEvent",
"focusin @ui.groupName":"onGroupNameFocus","submit @ui.form":"onSubmit","click @ui.cancel":"_cancelEdit","click @ui.save":"_saveEdit"},initialize:function(a){a=a||{};this.mode=a.mode||"COMPOSE";"undefined"===typeof this.model.get("cachedName")&&this.model.set("cachedName","");this._isInComposeMode()?(this.dataSource=a.draft&&a.draft.get("recipients"),this.listenTo(this.dataSource,"update",this.onParticipantChange)):this.dataSource=this.model.get("participants");if(!this.dataSource)throw Error("Datasource was not available");
},onRender:function(){this._isInComposeMode()&&this._isOneToMany()&&this.showForm()},onParticipantChange:function(){this._isOneToMany()?this.showForm():(this.hideForm(),this._resetNameAttr())},onNewCharacterEvent:function(a){var b=this.ui.groupName.val();13===a.which&&b&&this._saveEdit();this._setCachedNameAttr(b)},onSubmit:function(){return!1},onGroupNameFocus:function(){this._isInComposeMode()&&d.fireTracking("wonton-conversation-name-compose")},onDestroy:function(){this._resetNameAttr()},showForm:function(){var a=
this.model.get("name"),b=this.ui.groupName.val();this.$el.addClass("active");this.model.get("name")&&(this.ui.groupName.val(a),this._setCachedNameAttr(a));this._isInComposeMode()?b&&this._setCachedNameAttr(b):this.ui.groupName.focus()},hideForm:function(){this.$el.removeClass("active")},_setCachedNameAttr:function(a){this.model.set("cachedName",a)},_resetNameAttr:function(){var a=this.model.get("name");a&&this._isOneToMany()?this._setCachedNameAttr(a):this._setCachedNameAttr("")},_isInComposeMode:function(){return"COMPOSE"===
this.mode},_isOneToMany:function(){var a=this._isInComposeMode()?2:3;return this.dataSource.length>=a},_cancelEdit:function(){this.hideForm();this._resetNameAttr();e.trigger("cancel:group:name:edit");d.fireTracking("wonton-conversation-name-cancel")},_saveEdit:function(){this._isInComposeMode()||(this.ui.groupName.val().trim()?(d.fireTracking("wonton-conversation-name-save"),this.ui.save.addClass("submitting"),this.ui.save.prop("disabled",!0),this.model.set("name",this.model.get("cachedName")),this.model.editGroupName().done(function(){e.request("conversations").restartPolling();
this.hideForm()}.bind(this)).fail(function(){this.triggerMethod("show:error")}.bind(this)).always(function(){this.ui.save.removeClass("submitting");this.ui.save.prop("disabled",!1)}.bind(this))):this.triggerMethod("show:error",g.geti18nString("i18n_must_enter_name_before_saving","templates/shared/editGroupName")))},templateHelpers:function(){return{name:this.model.get("name")||"",isEdit:!this._isInComposeMode()}}});b.exports("EditGroupNameView",c)})(window.LIModules);
(function(b){var e=b.requires("jquery"),c=b.requires("underscore"),d=b.requires("marionette"),f=b.requires("HopscotchCallout"),d=d.ItemView.extend({opened:!1,shown:!1,initialize:function(a){this.elem=a.elem;this.render()},renderCallout:function(a){a=c.extend(a,{onShow:c.bind(this.onCalloutShow,this),showOn:null});this.calloutId=a.id;this.callout=new f(this.elem,a)},onCalloutShow:function(){this.ui=c.extend(this.uiElements,{closeButton:".hopscotch-close"});this.triggers=c.extend(this.uiTriggers,{"click @ui.closeButton":"dismiss:callout"});
this.$el=e(".hopscotch-callout.hopscotch-bubble");this.$el.attr("id",this.calloutId);this.bindUIElements();this.delegateEvents()},onDismissCallout:function(){this.close()},setVisibility:function(){this.isOpened()?this.close():this.open()},open:function(){this.callout.open();this.opened=!0},close:function(){this.callout.close();this.opened=!1},isOpened:function(){return this.opened}});b.exports("BaseCalloutView",d)})(window.LIModules);
(function(a){var b=a.requires("BaseCalloutView").extend({template:"templates/components/callouts/enter-to-send",uiElements:{okAction:".actions-ok",offAction:".actions-off"},uiTriggers:{"click @ui.okAction":"ok:action","click @ui.offAction":"off:action"},onRender:function(){this.renderCallout({id:"enter-to-send-callout",content:this.$el.html(),orientation:"top",xOffset:-25})},onOffAction:function(){this.close()},onOkAction:function(){this.close()}});a.exports("EnterToSendCalloutView",b)})(window.LIModules);
(function(b){var f=b.requires("jquery"),g=b.requires("underscore"),d=b.requires("marionette"),e=b.requires("LixValues"),h=b.requires("HideAdOnBlock"),c=b.requires("InboxChannel"),d=d.ItemView.extend({id:"inbox-ads-module",template:"templates/components/ads/display-ad",behaviors:{HideAdOnBlock:{behaviorClass:h}},adUrls:{primary:"/csp/dtag?sz\x3d300x250\x26ti\x3d2\x26p\x3d1",secondary:"/csp/ads?f\x3df300x250_exp_2_8\x26fk\x3dtrue\x26p\x3d1\x26c\x3d35\x26r\x3d"},randomNumberMultiplier:1000001,normalAds:void 0,
sponsoredInMailAd:void 0,initialize:function(){this.listenTo(c,"ads:refresh",this.refresh);this.listenTo(c,"ads:showSponsoredInmailAd",this.showSponsoredInmailAd);this.listenTo(c,"ads:hideSponsoredInmailAd",this.hideSponsoredInmailAd);f(window).on("resize",g.bind(this.updateSecondAdVisibility,this));this._getNormalAds()},templateHelpers:function(){return{sponsoredInMailAd:this.sponsoredInMailAd,normalAds:this.normalAds}},_getNormalAds:function(a){var b=a&&a.pageKey||c.request("pageKeys","default");
a=a&&void 0!==a.showSecondAd?a.showSecondAd:this.secondAdWillFit();e.isTreatment("wonton.ads.optimizedZones")?this.normalAds=[{actionUrl:this.adUrls.primary+"\x26t\x3d"+this._getRandomMultiplier()+"\x26z\x3dinbox\x26pk\x3d"+b}]:this.normalAds=[{actionUrl:this.adUrls.primary+"\x26t\x3d"+this._getRandomMultiplier()+"\x26z\x3d"+b}];a&&this.normalAds.push({actionUrl:this.adUrls.secondary+this._getRandomMultiplier()})},_getRandomMultiplier:function(){return Math.floor(Math.random()*this.randomNumberMultiplier)},
refresh:function(a){this._getNormalAds(a);this.render()},showSponsoredInmailAd:function(a){this.sponsoredInMailAd=a;this.render()},hideSponsoredInmailAd:function(){this.sponsoredInMailAd=void 0;this.render()},updateSecondAdVisibility:function(){this.secondAdWillFit()?2>this.normalAds.length&&this.refresh({showSecondAd:!0}):2===this.normalAds.length&&this.refresh({showSecondAd:!1})},secondAdWillFit:function(){return e.isTreatment("wonton.ads.secondAdHiding")?520<=document.getElementById("inbox-module-rail").offsetHeight-
document.getElementById("conversation-starters-region").offsetHeight-document.getElementById("footer-region").offsetHeight:!0}});b.exports("DisplayAdsView",d)})(window.LIModules);
(function(a){var c=a.requires("marionette"),f=a.requires("HideAdOnBlock"),d=a.requires("InboxChannel"),e=a.requires("LixValues"),c=c.ItemView.extend({id:"top-text-ad",template:"templates/components/ads/top-text-ad",behaviors:{HideAdOnBlock:{behaviorClass:f}},templateHelpers:function(){return{adUrl:this.adUrl}},initialize:function(){e.isTreatment("wonton.ads.refresh.topText")&&this.listenTo(d,"ads:refresh",this.refresh);this._getNewAdUrl()},refresh:function(b){this._getNewAdUrl(b);this.render()},_getNewAdUrl:function(b){b=
b&&b.pageKey||d.request("pageKeys","default");var a=Math.floor(1000001*Math.random());e.isTreatment("wonton.ads.optimizedZones")?this.adUrl="/csp/dtag?sz\x3d1x1\x26ti\x3d1\x26p\x3d1\x26t\x3d"+a+"\x26z\x3dinbox\x26pk\x3d"+b:this.adUrl="/csp/dtag?sz\x3d1x1\x26ti\x3d1\x26p\x3d1\x26t\x3d"+a+"\x26z\x3d"+b}});a.exports("TopTextAdView",c)})(window.LIModules);
(function(f){var d=f.requires("jquery"),p=f.requires("underscore"),h=f.requires("dust"),m=f.requires("InboxChannel"),q={id:"pillbox-list",eventPrefix:"pillbox"};f.exports("PillBox",function(f,r){function s(a){var c;h.render("templates/components/pillbox/pill",{firstName:a.firstName,lastName:a.lastName,memberId:a.id},function(a,b){c=d(b)});return c}function n(a){if(!e.val()||c.getSelected())a&&a.preventDefault(),a=d(c.previous()),1>a.length&&!c.getSelected()?d(c.getLast()).focus():a.focus()}function k(a){var b=
d(c.getSelected()),g=d(c.previous());0<b.length?(a.preventDefault(),c.remove(b),g.focus()):e.val().length||0!==b.length||n(a)}var g=p.defaults(r||{},q),t=d(f),b=null,l=null,e=null,c=this;h.render("templates/components/pillbox/list",{},function(a,c){b=d(c)});h.render("templates/components/pillbox/label",{},function(a,b){l=d(b)});h.render("templates/components/pillbox/input",{},function(a,b){e=d(b)});b.append(e);t.append(b).append(l);b.on("click",function(){b.hasClass("focus")||c.showInput()});b.on("focus blur",
".pillbox-input",function(a){c.unselect();b.toggleClass("focus","focusin"===a.type)});b.on("keypress keydown",function(a){"keypress"===a.type?c._handleKeyPressEvents(a):c._handleKeyDownEvents(a)});b.on("click",".pill_remove",function(a){var b=d(a.currentTarget.parentNode);b.hasClass("selected")&&c.remove(b);a.stopPropagation()});b.on("focus blur",".pill",function(a){"focusin"===a.type?c.select(a.currentTarget):c.unselect(a.currentTarget)});m.reply("pill:input:contents",function(){return e.val()});
this.getInstanceId=function(){return g.id};this.getInputLabel=function(){return l[0]};this.getInput=function(){return e[0]};this.showInput=function(a){!1===a?e.show():e.show().focus()};this.hideInput=function(){e.hide()};this.add=function(a){if(a&&a.id&&0===b.find('.pill[data-member-id\x3d"'+a.id+'"]').length){var d=e.parent(),f=new s(a);b.append(f);0<d.length&&d.hasClass("twitter-typeahead")?d.appendTo(b):e.appendTo(b);c.showInput();b.trigger(g.eventPrefix+":change",a.id).trigger(g.eventPrefix+":add",
a.id);return f}};this.getSelected=function(){var a=b.find(".selected");return 0<a.length?a[0]:null};this.unselect=function(a){a?d(a).removeClass("selected"):b.find(".selected").removeClass("selected");b.removeClass("focus");b.trigger(g.eventPrefix+":change").trigger(g.eventPrefix+":unselect")};this.select=function(a){if(a&&!(1>d(a).length))return c.unselect(),d(a).addClass("selected"),b.addClass("focus"),c.showInput(!1),b.trigger(g.eventPrefix+":change").trigger(g.eventPrefix+":select"),a};this.remove=
function(a){var e,f;if(a)return e=d(a).data("member-id"),e===d(c.getFirst()).data("member-id")&&(f=!0),b.find(a).remove(),c.isEmpty()?c.showInput():f&&d(c.getFirst()).focus(),b.trigger(g.eventPrefix+":change",e).trigger(g.eventPrefix+":remove",e),a};this.empty=function(){b.find(".pill").remove()};this.size=function(){return b.find(".pill").length};this.isEmpty=function(){return 1>c.size()};this.getFirst=function(){var a=b.find(".pill");return 0<a.length?a[0]:null};this.getLast=function(){var a=b.find(".pill").last();
return 0<a.length?a[0]:null};this.getMemberIds=function(){var a=[];b.find(".pill").each(function(b,c){a.push(d(c).data("member-id"))});return a};this.next=function(){var a=d(c.getSelected());if(1>a.length)return null;a=a.next(".pill");return 0<a.length?a[0]:null};this.previous=function(){var a=d(c.getSelected());if(1>a.length)return null;a=a.prev(".pill");return 0<a.length?a[0]:null};this.destroy=function(){this.empty();m.stopReplying("pill:input:contents")};this._handleKeyPressEvents=function(a){if("keypress"===
a.type)switch(a.keyCode){case 46:k(a)}};this._handleKeyDownEvents=function(a){if("keydown"===a.type)switch(a.keyCode){case 13:a.preventDefault();break;case 37:n();break;case 39:if(!e.val()||c.getSelected())a=d(c.next()),0<a.length?a.focus():c.showInput();break;case 8:k(a);break;case 46:k(a);break;case 9:break;default:46<a.keyCode&&91>a.keyCode&&c.showInput()}}})})(window.LIModules);
(function(a,h){function f(a){return k.geti18nString.call(null,a,"templates/components/pillbox/container")}var d=a.requires("jquery"),c=a.requires("underscore"),g=a.requires("marionette"),e=a.imports("Bloodhound"),l=a.requires("AccessibleTwitterTypeahead"),m=a.requires("jSecure"),k=a.requires("Utils"),n=a.requires("ErrorHandler"),p=a.requires("PillBox"),q=a.requires("UserModel");a.requires("InboxChannel");a.requires("UserCollection");g=g.ItemView.extend({template:"templates/components/pillbox/container",
id:"pillbox-container",ui:{pillboxListContainer:".pillbox-list-container",errorContainer:".error-container"},events:{"pillbox:remove":"removeRecipient","typeahead:selected":"typeaheadSelected","typeahead:autocompleted":"typeaheadSelected","pillbox:error":"onPillError"},behaviors:{ErrorHandler:{behaviorClass:n}},initialize:function(a){this.thread=a.thread},onShow:function(){this.pillbox=new p(this.ui.pillboxListContainer);this.initializeTypeahead();this.thread.isNew()&&this.model.getValidRecipients().each(c.bind(function(a){this.pillbox.add(a.attributes)},
this));this.model.isConversationStarter()?this._toggleInput(!1):c.defer(c.bind(this._focusOnPillbox,this))},onDestroy:function(){this.pillbox&&this.pillbox.destroy()},onPillError:function(){this.triggerMethod("show:error")},_toggleInput:function(a){var b;this.pillbox&&(b=d(this.pillbox.getInput()),a?b.removeClass("hidden").focus():b.addClass("hidden"))},_focusOnPillbox:function(){this.pillbox&&d(this.pillbox.getInput()).focus()},_generatePillBoxListEvent:function(a){return"pillBoxList:"+a+":user"},
initializeTypeahead:function(a){if(e&&d.fn.typeahead){var b=new e({datumTokenizer:e.tokenizers.obj.whitespace("displayName"),queryTokenizer:e.tokenizers.whitespace,remote:{url:"/ta/my1stnetwork?query\x3d%QUERY",filter:c.bind(function(a){a=a&&a.resultList;var b=this.model.getRecipients();if(a)return a=c.filter(a,function(a){return!b.hasUser(a)}),c.map(a,function(a){a.encodedName=m.htmlUnencode(a.displayName);return a});h.error("empty response from typeahead")},this)},limit:50});new l(d(a),{dataset:"MESSAGE-TA",
bloodhoundEngine:b,i18nStrings:{zeroResults:f("i18n_typeahead_zero_results"),singleResult:f("i18n_typeahead_single_result"),multipleResults:f("i18n_typeahead_multiple_results")},labelId:"ta-label",regionId:"a11y-announcer"});b.initialize();this.typeaheadInput=d(this.pillbox.getInput()).typeahead({hint:!0,highlight:!0,minLength:1,autoselect:!0},{name:"MESSAGE-TA",displayKey:"encodedName",source:b.ttAdapter(),templates:{suggestion:function(a){return function(b){b=b||{};var c="";dust.render(a,b,function(a,
b){c=b});return c}}("templates/components/typeahead/typeahead-result")}});this.typeaheadInput.siblings(".tt-hint").attr("aria-hidden","true");this.ui.pillboxListContainer.append(this.$el.find(".tt-dropdown-menu"))}else this.triggerMethod("show:method",f("i18n_could_not_init_user_lookup"))},removeRecipient:function(a,b){var c=this.model,d=c.getRecipients().remove(""+b);d&&(c.isConversationStarter()&&!c.getRecipients().length&&this._toggleInput(!0),this.trigger(this._generatePillBoxListEvent("remove"),
d));this.triggerMethod("hide:error")},typeaheadSelected:function(a,b){var d=c.clone(b),f=this.model.getRecipients(),e;d.headline=b.subLine||b.headline;d.firstName=b.encodedName||b.displayName||b.firstName;d.profileUrl=b.url;d=c.omit(d,["subLine","headLine","displayName","url","misc"]);e=new q(d);!f.hasUser(e)&&f.add(e)&&(this.pillbox.add(d),this.trigger(this._generatePillBoxListEvent("add"),e),c.defer(c.bind(this._toggleInput,this,!0)));this.typeaheadInput.typeahead("val","")}});a.exports("PillBoxListView",
g)})(window.LIModules,window.console);
(function(g){function h(){var a=window.navigator.userAgent,c=a.indexOf("MSIE ");return 0<c||navigator.userAgent.match(/Trident.*rv\:11\./)?parseInt(a.substring(c+5,a.indexOf(".",c)),10):0}var k=g.requires("jquery");g.exports("RealTimeChangeObserver",function(a){function c(){d.trigger("change")}function b(a){a?setTimeout(c,50):c()}var f=h(),e=!1,d=k(a);if(f&&10>=f)e=9===f,a.attachEvent("onpropertychange",function(a){"value"===a.propertyName.toLowerCase()&&b()}),d.on("keyup",function(a){switch(a.keyCode){case 8:e&&
b();break;case 46:e&&b();break;case 35:case 36:case 37:case 38:case 39:case 40:b()}}),e&&a.attachEvent("oncut",function(){b(!0)},!1);else d.on("input",b);d.on("click",b)})})(window.LIModules);
(function(){var r=LIModules.requires("jquery"),s=/(?:(?:(?:[\s]|^)\@$)|(?:(?:[\s]|^)\@([\S]+(?:[\u0020]+[^\s\@]+)?)))/gim;LIModules.exports("TokenMatcher",function(c){var h=r(c),k=[],n;k.push({trigger:"@",includeInSearch:!1,regExp:s});n=k.length;h.on("change",function(){var a;a=0;document.selection?(a=document.selection.createRange(),a.moveStart("character",-c.value.length),a=a.text.length):0<=c.selectionStart&&(a=c.selectionStart);var l=c.value.substr(0,a),d,e,m=!1,f,b,g,p,q;for(f=0;f<n;f++){e=k[f];
d=e.regExp;if(l.match(d))for(d.lastIndex=0,b=d.exec(l);b;){q=e.trigger;p=b[1]?b[1].replace(/^\s+|\s+$/,""):"";g=b.index;b=g+b[0].length;if(a>g&&a<=b){h.trigger("match",{match:{caretPosition:a,end:b,start:g,token:p,trigger:q,triggerIncluded:e.includeInSearch}});m=!0;break}b=d.exec(l)}if(m)break}m||h.trigger("typeaheadHide")})})})();
(function(c){function q(b){return m.filter(b,function(a){return 0<=a.index&&a.length})}function n(b,a){this.config=m.defaults(a||{},{highlightClass:"highlight"});this.el=b;this.$el=r(b)}var r=c.requires("jquery"),m=c.requires("underscore"),p=c.imports("jSecure"),e=p&&p.htmlEncode||c.requires("htmlEncode"),s=/\r?\n/gm,t=/\S/;n.prototype={render:function(b,a){var c,d,f,k,g=[],h,l=0;if(void 0!==b&&void 0!==a&&t.test(b))if(a=q(a),c=a.length){a.sort(function(a,b){return a.index-b.index});for(d=0;d<c;d++)h=
a[d],f=h.index,k=f+h.length,f&&g.push(e(b.substr(l,f-l))),g.push(['\x3cspan class\x3d"',e(this.config.highlightClass),'"\x3e',e(h.token),"\x3c/span\x3e"].join("")),d===c-1&&g.push(e(b.substr(k))),l=k;this.$el.html(g.join("").replace(s,"\x3cbr /\x3e")+"\x26nbsp;")}else this.$el.text(b);else this.el.innerHTML=""}};c.exports("TokenHighlighter",n)})(window.LIModules);
(function(h){var s=h.requires("jquery"),f=h.requires("underscore"),t=h.requires("LixValues"),l=h.imports("jSecure"),u=h.requires("PageViewTracking"),n=l&&l.htmlUnencode||h.requires("htmlUnencode"),v=h.requires("RealTimeChangeObserver"),w=h.requires("TokenMatcher"),x=h.requires("TokenHighlighter"),y=f.values({up:38,down:40,enter:13,escape:27}),k={},z={T:"thread",C:"companies",S:"schools",P:"people"},A=/([A-Z\u00C0-\u00D6\u00D8-\u00DE]\S+)( [A-Z\u00C0-\u00D6\u00D8-\u00DE].+)/,l=function(a,b){var c=
t.get("wonton.composeMentionsTypes")||"control";this.el=a;this.$el=s(this.el);this.mentionsData=[];"control"===c?k.thread=!0:f.each(z,function(a,b){k[a]=0<=c.indexOf(b)});this.useOonMentions=!1;this.$mentionsInput=this.$el.find(".mentions-input");this.$mentionsTypeahead=this.$el.find(".mentions-typeahead");this.$mentionsEntities=this.$el.find(".mentions-entities");this.$mentionsHighlighter=this.$el.find(".mentions-highlighter");this.tokenMatcher=this.changeObserver=null;this.useAdjustOffset=!0;this.currentMentionTokens=
this.previousEditedMentionTokens=null;this.inputValue=this.inputValueOld="";this.lastMatch=null;this.config=f.defaults(b||{},{threadData:void 0,isInfluencer:!1,oonMentions:!1,ieVersion:0,mentionsTL:"tl/shared/mentions/mentions-play",limits:{mynetwork:3,my1stnetwork:3,thread:50,company:3,school:3}});this.$el.data("is-connections-only")||!this.config.isInfluencer&&!this.config.oonMentions||(this.useOonMentions=!0);this.init()};l.prototype={attachEventEmitters:function(){this.changeObserver=new v(this.$mentionsInput.get(0));
this.tokenMatcher=new w(this.$mentionsInput.get(0))},attachEventListeners:function(){this.$mentionsInput.on("keyup keydown keypress",this.events.proxyTypeahead).on("change",this.events.handleUpdates).on("change",this.events.syncMentionsHighlighterScroll).on("typeaheadHide blur",this.events.hideTypeahead).on("match",this.events.tokenMatched).on("scroll",this.events.syncMentionsHighlighterScroll);this.$mentionsTypeahead.on("typeahead:opened",this.events.typeaheadOpened).on("typeahead:closed",this.events.typeaheadClosed).on("typeahead:selected",
this.events.typeaheadSelected)},bindAllEvents:function(){var a={},b=this;f.each(this.events,function(c,d){a[d]=f.bind(c,b)});this.events=a},clearMentions:function(){this.mentionsData=[];this.updateMentionsEntitiesInput();this.tokenHighlighter.render("",[])},updateMentionsEntitiesInput:function(){this.$mentionsEntities.val(JSON.stringify(this.generateMentions())).trigger("change")},generateMentions:function(){return f.map(this.mentionsData,function(a){return f.pick(a,"id","index","length","type","isFirstDegree",
"token")})},init:function(){this.bindAllEvents();this.loadTemplates();this.loadi18n();this.initBloodhound();this.initTypeahead();this.tokenHighlighter=new x(this.$mentionsHighlighter.get(0));this.attachEventEmitters();this.attachEventListeners();this.highlightMentions()},initBloodhound:function(){var a=this.useOonMentions?"mynetwork":"my1stnetwork",b=this.config.limits,c=this.config.threadData;this.bloodhound={};k.thread&&c&&(this.bloodhound.thread=this.buildLocalBloodhound({limit:b.thread},c,"thread"));
k.people&&(this.bloodhound.people=this.buildBloodhound({limit:b[a]},{url:"/ta/federator?query\x3d%QUERY\x26types\x3d"+a},a,"people"));k.schools&&(this.bloodhound.universities=this.buildBloodhound({limit:b.school},{url:"/ta/federator?query\x3d%QUERY\x26types\x3dschool"},"school","universities"));k.companies&&(this.bloodhound.companies=this.buildBloodhound({limit:b.company},{url:"/ta/federator?query\x3d%QUERY\x26types\x3dcompany"},"company","companies"));f.invoke(this.bloodhound,"initialize")},buildLocalBloodhound:function(a,
b,c){b={datumTokenizer:Bloodhound.tokenizers.obj.whitespace("displayName"),queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(a){return a.id},local:b};f.extend(b,a);return new Bloodhound(b)},buildBloodhound:function(a,b,c,d){var e={datumTokenizer:Bloodhound.tokenizers.obj.whitespace("displayName"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{rateLimitBy:"debounce",rateLimitWait:250,filter:f.bind(function(a){a=a[c]&&a[c].resultList?a[c].resultList:[];this.bloodhound[d].isEmpty=
!a.length;return a},this)}};f.extend(e,a);f.extend(e.remote,b);return f.extend(new Bloodhound(e),{isEmpty:!0})},initTypeahead:function(){var a=this,b=this.config.mentionsTL,c=[],d;k.thread&&(d={name:"Participants",displayKey:"displayName",source:f.bind(function(a,b){var c=this.bloodhound.thread;""===a?(c.isEmpty=!1,b(c.index.datums)):c.get(a,function(a){c.isEmpty=0===a.length;b(a)})},this),templates:{header:function(a){return a.isEmpty?"":dust.i18n.cache[b].i18n_participants},empty:function(){a.events.typeaheadEmpty("participants")},
suggestion:this.templates.suggestion}},c.push(d));k.people&&(d={name:"People",displayKey:"displayName",source:this.bloodhound.people.ttAdapter(),templates:{header:function(a){return a.isEmpty?"":dust.i18n.cache[b].i18n_people},empty:function(){a.events.typeaheadEmpty("people")},suggestion:this.templates.suggestion}},c.push(d));k.companies&&(d={name:"Companies",displayKey:"displayName",source:this.bloodhound.companies.ttAdapter(),templates:{header:function(a){return a.isEmpty?"":dust.i18n.cache[b].i18n_companies},
empty:function(){a.events.typeaheadEmpty("companies")},suggestion:this.templates.suggestion}},c.push(d));k.schools&&(d={name:"Universities",displayKey:"displayName",source:this.bloodhound.universities.ttAdapter(),templates:{header:function(a){return a.isEmpty?"":dust.i18n.cache[b].i18n_universities},empty:function(){a.events.typeaheadEmpty("universities")},suggestion:this.templates.suggestion}},c.push(d));this.$mentionsTypeahead.typeahead({minLength:0,highlight:!0,hint:!1},c)},loadi18n:function(){},
loadTemplates:function(){var a=this.config.mentionsTL;this.templates={suggestion:function(b){var c="";dust.render(a,b,function(a,b){if(a)throw Error("Template for Mentions could not be loaded.");c=b});return c}}},events:{hideTypeahead:function(){this.$mentionsTypeahead.typeahead("close")},handleUpdates:function(){this.inputValueOld=this.inputValue;this.inputValue=this.$mentionsInput.val();this.adjustMentions()},tokenMatched:function(a,b){var c=b.match;this.$mentionsInput.is(":focus")&&this.validateMentionPosition(c)&&
!this._isEditingExistingMention()&&(this.lastMatch=b,this.$mentionsTypeahead.val(c.token).trigger("input").trigger("keydown"),f.every(this.bloodhound,function(a){return a.isEmpty})||this.$mentionsTypeahead.typeahead("open"))},typeaheadEmpty:function(){var a=this.lastMatch,b=A.exec(a.match.token),c=f.every(this.bloodhound,function(a){return a.isEmpty});b&&c&&(a.match.start&&a.match.start++,a.match.start+=b[1].length,a.match.token=b[2],4<=a.match.token.length&&this.events.tokenMatched(null,a))},typeaheadOpened:function(){this.$mentionsTypeahead.open=
!0},typeaheadClosed:function(){this.$mentionsTypeahead.open=!1},typeaheadSelected:function(a,b,c){var d=this.$mentionsInput.val();a=this.lastMatch.match;var e=a.start,g=n(b.displayName),h=b.misc&&b.misc.degree?!0:!1,k=g.length,l=a.triggerIncluded;f.extend(a,b);e&&e++;b={Companies:"company",People:"member",Universities:"school"}[c];c=[d.substr(0,e),g,d.substr(a.end)].join("");e&&(c=this.checkTripleUpperStart(g,e,c),e=c[0],c=c[1]);this.$mentionsInput.val(c);this.addMention({id:a.id,index:e,length:k,
type:b,token:g,isFirstDegree:h,triggerIncluded:l,caretPosition:a.caretPosition})},proxyTypeahead:function(a){if(this.$mentionsTypeahead.open&&!a.charCode&&0<=f.indexOf(y,a.which))return a.preventDefault(),f.every(this.bloodhound,function(a){return a.isEmpty})||(a.mentions=!0),this.$mentionsTypeahead.trigger(a),!1},syncMentionsHighlighterScroll:function(){this.$mentionsHighlighter.scrollTop(this.$mentionsInput.scrollTop())}},addMention:function(a){this.mentionsData.push(a);this.sortMentions();this.events.handleUpdates();
this.updateMentionsEntitiesInput();this.$mentionsInput.focus();this.setCursorPosition(this.$mentionsInput.get(0),a.index+a.length+(a.index&&!a.triggerIncluded?1:0));this.highlightMentions();u.fireTracking("wonton-mentions-add")},highlightMentions:function(){this.tokenHighlighter.render(this.$mentionsInput.val(),this.mentionsData)},checkTripleUpperStart:function(a,b,c){var d,e,g,f,h=a.length;d=a.indexOf(" ");-1!==d&&(e=n(a.substr(0,d)),""!==e&&(d=b-(e.length+1),g=b+h,f=c.substr(d,g).toLowerCase(),
e=[e,a].join(" ").toLowerCase(),e===f&&this.validateMentionPosition({start:d,end:d+h})&&(c=[c.substr(0,d),a,c.substr(g)].join(""),b=d)));return[b,c]},_isEditingExistingMention:function(){var a=this.previousEditedMentionTokens,b=this.currentMentionTokens,c,d;return a&&b&&(this.currentMentionTokens=this.previousEditedMentionTokens=null,a.length===b.length&&(c=a[a.length-1],d=b[b.length-1],c.length>d.length||a[0].length>b[0].length))?!0:!1},adjustMentions:function(){var a,b=[],c,d,e,g,h=!1,k,l=this.mentionsData.length,
q=[],m,p,r,n=this.ieVersion&&9>=this.ieVersion;this.inputValue=this.$mentionsInput.val();m=n&&this.useAdjustOffset?-1:0;e=this.inputValue.length-this.inputValueOld.length;for(g=0;g<l;g++)c=this.mentionsData[g],d=c.token,a=c.index,d=d.replace(/\u0000$/,""),b=this.inputValue.indexOf(d),(k=this.inputValueOld.indexOf(d)===this.inputValueOld.lastIndexOf(d)&&b===this.inputValue.lastIndexOf(d))&&b!==a&&-1!==b?this.mentionsData[g].index=this.inputValue.indexOf(d):(k=d.length,b=this.inputValue.substr(a,k),
b!==d&&(a=a+e+m,p=this.inputValue.substr(a,k),p===d?this.mentionsData[g].index=a:(m=d.split(" "),d=new RegExp("[^"+d.replace(/\s/g,"").replace(/([\-\[\]])/g,"\\$1")+"\\s]","gi"),d=b.replace(d,"").split(" "),b=f.intersection(m,d),b.length?(h=!0,r=b.join(" "),b=c.index,p=r.length,a=b+p,this.previousEditedMentionTokens=m,this.currentMentionTokens=d,c.token=r,c.length=p,c.end=a,this.mentionsData[g]=c,c=this.inputValue.substr(0,b)+r+""+this.inputValue.substr(b-1+k),this.$mentionsInput.val(c),n?(e=this.inputValue.length-
this.$mentionsInput.value.length,f.defer(this.setCursorPosition,this.$mentionsInput,a)):this.setCursorPosition(this.$mentionsInput,a)):q.push(g),m=0)));e=q.length;q.sort().reverse();if(e)for(g=0;g<e;g++)this.mentionsData.splice(q[g],1);this.sortMentions();h&&this.adjustMentions();this.updateMentionsEntitiesInput();this.highlightMentions();this.useAdjustOffset=!1},sortMentions:function(){this.mentionsData.sort(function(a,b){return a.index-b.index})},setCursorPosition:function(a,b){var c;a.setSelectionRange?
a.setSelectionRange(b,b):a.createTextRange&&(c=a.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select())},validateMentionPosition:function(a){var b=a.start;a=a.end;for(var c,d,e=this.mentionsData,f=e.length;f--;)if(c=e[f],d=c.index-1,c=d+c.length,b>=d&&b<c||a>=d&&a<=c)return!1;return!0}};h.exports("Mentions",l)})(window.LIModules);
(function(f){var g=f.requires("jquery"),d=f.requires("underscore"),h=f.requires("Mentions"),b=function(a,b){var e=g(a);this.el=a;this.config=d.defaults(b||{},{entitlementUrl:"/nhome/influencer-entitlement",oonMentions:e.data("oon-mentions")||!1,schoolMentions:e.data("school-mentions")||!1,limits:e.data("mentions-limits")||{mynetwork:3,my1stnetwork:3,thread:50,company:3,school:0},isInfluencer:null,mentionsTL:null});this.init()};d.extend(b,{cache:{},count:0,ieVersion:function(){var a=window.navigator.userAgent,
b=a.indexOf("MSIE ");return 0<b||navigator.userAgent.match(/Trident.*rv\:11\./)?parseInt(a.substring(b+5,a.indexOf(".",b)),10):0}(),containerClass:".mentions-container",idAttr:"data-li-mentionsid",hasDelegatorSelector:".hasMentionsDelegator"});b.prototype={setInstance:function(a){a=g(a.target).closest(b.containerClass);var c=this.config.mentionsThread&&this.config.mentionsThread.dataset||void 0,e=this.config.isInfluencer,d=this.config.oonMentions,f=this.config.schoolMentions,k=this.config.limits,
l=this.config.mentionsTL;a.attr(b.idAttr)||(c=new h(a.get(0),{threadData:c,isInfluencer:null!==e?e:b.isInfluencer,ieVersion:b.ieVersion,memberId:this.memberId,oonMentions:d,schoolMentions:f,limits:k,mentionsTL:l}),a.attr(b.idAttr,b.count),b.cache[b.count]={el:a,instance:c},b.count++)},getInstance:function(a){a=g(a).closest(b.containerClass).attr(b.idAttr);return void 0===a?void 0:b.cache[a].instance},checkInfluencer:function(){var a;void 0===b.isInfluencer&&(a=d.bind(function(a){try{this.isInfluencer=
a.content.influencer_entitlement.result.isInfluencer}catch(b){}},b),g.ajax({url:"/nhome/influencer-entitlement",beforeSend:function(a){a.setRequestHeader("X-IsAJAXForm","1")},success:a}))},init:function(){var a=g(this.el),c=b.hasDelegatorSelector;if(a.is(c))throw Error("Mentions Delegator cannot be instantiated twice on the same element");if(a.find(c).length)throw Error("Mentions Delegator cannot be nested (a Delegator already exists within that DOM scope)");if(a.parents(c).length)throw Error("Mentions Delegator cannot be nested (tried to instantiate a Delegator within a Delegator");
this.checkInfluencer();d.bindAll(this,"setInstance");a.addClass(c.substr(1));a.on("focus",".mentions-input",this.setInstance)}};h.Delegator=b})(window.LIModules);
(function(a){var b=a.requires("underscore"),c=a.requires("marionette"),e=a.requires("LixValues"),f=a.requires("ErrorHandler"),d=a.requires("InboxChannel"),c=c.ItemView.extend({template:"templates/thread-list/search",id:"search-wrapper",ui:{input:"#messages-search",clearInput:".clear-input"},events:{"blur @ui.input":"onBlur","click @ui.clearInput":"onClickClear","keydown @ui.input":"onKeydown","keyup @ui.input":"onKeyupPaste","paste @ui.input":"onKeyupPaste"},behaviors:{ErrorHandler:{behaviorClass:f}},
templateHelpers:function(){return{searchType:e.get("wonton.searchType")}},initialize:function(){d.on("search:error",b.bind(this.onError,this))},onKeydown:function(a){switch(a.keyCode){case 13:window.RUM2.appTransitionStart();window.RUM2.setPageKey("wonton-search");this.search();break;case 27:this.ui.input.val().length&&this.triggerMethod("clear:search")}},onKeyupPaste:function(){if(this.ui.input.val())this.$el.addClass("clearable");else this.onClickClear()},search:function(a){d.request("search",this.getKeyword(),
a)},onClickClear:function(){window.RUM2.appTransitionStart();window.RUM2.setPageKey("wonton-search");this.triggerMethod("clear:search");b.defer(b.bind(function(){this.ui.input.focus()},this))},onClearSearch:function(){this.ui.input.val("");this.$el.removeClass("clearable");d.request("search","");this.triggerMethod("hide:error")},onError:function(){this.triggerMethod("show:error")},getKeyword:function(){return this.ui.input.val()},setKeyword:function(a){this.ui.input.val(a);this.$el.toggleClass("clearable",
0<this.ui.input.val().length)}});a.exports("SearchListView",c)})(window.LIModules);
(function(a){var b=a.requires("marionette").ItemView.extend({template:"templates/thread-list/no-thread-items",tagName:"li"});a.exports("NoThreadItemsView",b)})(window.LIModules);
(function(e){var g=e.requires("underscore"),f=e.requires("marionette"),p=e.requires("UserCollection"),k=e.imports("ThreadActions"),q=e.requires("ErrorHandler"),r=e.requires("LazyLoader"),l=e.requires("Utils"),m=e.requires("jSecure"),s=e.requires("InboxChannel"),n=e.requires("LixValues"),h={i18n_a11y_active_thread:"",i18n_a11y_draft_thread:"",i18n_a11y_active_draft_thread:""},h=l.geti18nStrings(h,"templates/thread-list/thread-types/base"),k=f.ItemView.extend({getTemplate:function(){var a=this._getNewestMessage(),
b=a.TYPES;switch(a.getType()){case b.INMAIL:return"templates/thread-list/thread-types/inmail";case b.INMAIL_REPLY:return"templates/thread-list/thread-types/inmail-reply";case b.SPONSORED_INMAIL:return"templates/thread-list/thread-types/sponsored-inmail";case b.SPONSORED_INMAIL_LEGACY:return"templates/thread-list/thread-types/sponsored-inmail-legacy";case b.PERSON_ADDED:return"templates/thread-list/thread-types/person-added";case b.PERSON_REMOVED:return"templates/thread-list/thread-types/person-removed";
case b.INTRO:return"templates/thread-list/thread-types/intro";case b.JOB_REFERRAL:return"templates/thread-list/thread-types/job-referral";case b.THREAD_UPDATED:return"templates/thread-list/thread-types/thread-name-updated";case b.INVITATION_ACCEPTED:return n.isEnabled("wonton.enableInvitationReply")?"templates/thread-list/thread-types/accepted-invitation":"templates/thread-list/thread-types/base";case b.UNSUPPORTED:return"templates/thread-list/thread-types/unsupported";default:return"templates/thread-list/thread-types/base"}},
tagName:"li",className:function(){var a=this._getNewestMessage();return["thread-item animate",this._getClassName(a.getType()),this.model.isNew()?"new-thread":"",a.isGroup()?"group":"private"].join(" ")},attributes:{"data-pv-key":"wonton-conversation"},ui:{threadLink:".thread-link",markAsReadAction:".mark-as-read",markAsUnreadAction:".mark-as-unread",name:".name"},modelEvents:{"change:muted":"onChangeMuted","change:notificationStatus":"onChangeNotify","change:draft":"onChangeDraft","change:name":"onChangeName",
"change:cachedName":"onChangeCachedName",hydrate:"render",destroy:"onDestroyModel"},draftRecipientEvents:{update:"render"},messagesEvents:{hydrate:"render",update:"render"},events:{"click @ui.threadLink":"onClickThreadLink","keydown @ui.threadLink":"onKeydownThreadLink"},behaviors:{ThreadActions:{behaviorClass:k},ErrorHandler:{behaviorClass:q}},templateHelpers:function(){var a=this.model.isGroup(),b=this.model.isAnyInmail(),c=this._getNewestMessage(),d=c.toJSON(),e=c.isFromCurrentUser(),f=this._extractRecipientsInfo(c),
a=n.isEnabled("wonton.enableNameConversation")&&a&&!b&&this.model.get("name")||null;g.extend(d,f);d.sender=c.get("sender").toJSON();d={message:d,dateFormatter:this.dateFormatter,isGroup:c.isGroup(),threadId:this.model.id,userHasLeft:!this.model.isAlive(),showDeleteAction:!this.model.isLeaveable(),isCurrentUser:e,isActiveThread:this.model===s.request("active:conversation"),isDraftThread:this.model.isNew(),isPendingFromCurrentUser:e&&"PENDING"===c.getStatus(),isAcceptedFromOtherUser:!e&&"ACCEPTED"===
c.getStatus(),isDeclinedFromOtherUser:!e&&"DECLINED"===c.getStatus(),lazyLoadImages:r.shouldLazyLoad(),threadName:a};g.extend(d,this._getAdditionalData(c));return d},initialize:function(){var a=this.model,b=a.getDraft();this.dateFormatter=l.timeFormatter(a,{today:"hour"});f.bindEntityEvents(this,a.getMessages(),this.messagesEvents);this.onChangeDraft(a,b)},onMarkAsReadAction:function(){this.ui.markAsUnreadAction.focus()},onMarkAsUnreadAction:function(){this.ui.markAsReadAction.focus()},onChangeMuted:function(){this.$el.toggleClass("muted",
this.model.get("muted"))},onChangeNotify:function(){var a=this.model.get("notificationStatus");this.$el.toggleClass("mention","ACTIVE_FOR_MENTIONS_ONLY"===a);this.$el.toggleClass("muted","MUTE"===a)},onChangeDraft:function(a,b){var c=a.previous("draft"),d=b.getRecipients();c&&f.unbindEntityEvents(this,d,this.draftRecipientEvents);f.bindEntityEvents(this,d,this.draftRecipientEvents)},onChangeCachedName:function(){var a=this.model.get("cachedName");a&&this.model.isGroup()?this.ui.name.text(a):this.render()},
onChangeName:function(){var a=this.model.get("name");a&&this.model.isGroup()&&this.ui.name.text(a)},onClickThreadLink:function(a){this.model.isSponsoredInmailLegacy()?(this.ui.threadLink.blur(),this.model.markAsRead()):(a.preventDefault(),this.trigger("thread:select",this))},onDestroyModel:function(){this.trigger("destroy:model",this)},onKeydownThreadLink:function(a){32===a.keyCode&&(a.preventDefault(),this.model.isSponsoredInmailLegacy()?(window.open(m.sanitizeUrl(this.ui.threadLink.attr("href")),
"_blank"),this.model.markAsRead()):this.trigger("thread:select",this))},onThreadActionError:function(){this.triggerMethod("show:error")},_getClassName:g.memoize(function(a){return a.toLowerCase().replace(/_/g,"-")}),_extractRecipientsInfo:function(a){a=a.getValidRecipients().toJSON();var b=a.length,c=0;4<b?(c=b-3,b=a.slice(0,3)):b=a.slice(0,4);return{recipients:a,truncatedRecipients:b,peopleLeft:c}},_getAdditionalData:function(a){var b=a.getCustomContent();if(a.isType(a.TYPES.PERSON_ADDED))return a=
b.participantChange.participants,{newParticipants:a,addedYou:g.contains(g.pluck(a,"id"),l.getCurrentUser().id)};if(a.isType(a.TYPES.PERSON_REMOVED))return a=new p(b.participantChange.removedParticipants),{removedParticipants:a.toJSON()}},_getNewestMessage:function(){return this.model.getNewestSyncedMessage()||this.model.getDraft()},_updateAccessibilityTag:function(){var a=this.$el,b=this.ui.threadLink,c=b.children(".screen-reader-text:first-child"),d=[];a.hasClass("active")&&d.push("active");a.hasClass("new-thread")&&
d.push("draft");d.length?(d="i18n_a11y_"+d.join("_")+"_thread",c.length?c.text(h[d]):b.prepend('\x3cspan class\x3d"screen-reader-text"\x3e'+m.htmlEncode(h[d])+"\x3c/span\x3e")):c.length&&c.remove()},disableAnimation:function(){this.$el.removeClass("animate")},enableAnimation:function(){this.$el.addClass("animate")},toggleActive:function(a){var b=this.$el,c=this.ui.threadLink;c.children(".screen-reader-text:first-child");a?(b.addClass("active"),this._updateAccessibilityTag(),c.focus()):(b.removeClass("active"),
this._updateAccessibilityTag())},focusOnConversation:function(){this.ui.threadLink.focus()}});e.exports("ListItemView",k)})(window.LIModules);
(function(c){var e=c.requires("underscore"),f=c.requires("marionette"),n=c.requires("ListItemView"),p=c.requires("NoThreadItemsView"),h=c.requires("ErrorHandler"),q=c.requires("Scroller"),r=c.requires("Loader"),s=c.requires("Utils"),k=c.requires("LixValues"),d=c.requires("InboxChannel"),t=c.requires("UserActivityChannel"),u=0,v=0,l=null,m=null,g={i18n_num_of_results:""},f=f.CompositeView.extend({className:"thread-list-wrapper",template:"templates/thread-list/list",attributes:{tabindex:"-1","data-jump-link-id":"list-of-conversations"},
childView:n,childViewContainer:"#thread-list",childEvents:{"thread:select":"onThreadViewSelect","destroy:model":"onDestroyChildViewModel","mark:as:leave:action":"onMarkAsLeaveAction","mark:as:return:action":"onMarkAsReturnAction"},collectionEvents:{"draft:created":"toggleActive"},modelEvents:{"change:totalResultsCount":"onResultCountChange"},keyboardShortcuts:{"alt+up":"onShortcutPrevious","alt+down":"onShortcutNext","ctrl+alt+e":"onShortcutFocusConversationList","ctrl+alt+g":"onShortcutFocusActiveConversation"},
ui:{resultCount:".result-count",resultInfo:".result-info",jumpLinks:".jump-link"},events:{render:"toggleDefault","click @ui.jumpLinks":"onClickJumpLinks"},behaviors:{Scroller:{behaviorClass:q,triggerFromBoundary:{bottom:350}},Loader:{behaviorClass:r},ErrorHandler:{behaviorClass:h,modelType:h.COLLECTION}},reorderOnSort:!0,setEmptyView:function(){this.emptyView=p},initialize:function(a){this.thread=a.thread;l=this._getLixScrollInterval();m=this._getLixThreadInterval();(this.collection.length||a.preloaded)&&
this.setEmptyView();this.listenTo(this.collection,"message:received",e.bind(this.onReceiveNewMessages,this));this.emptyView||this.listenToOnce(this.collection,"sync",function(a){this.setEmptyView();a.length||this.render()});d.reply("active:conversation",function(){return this.thread},this)},onReceiveNewMessages:function(a){a=a||[];t.request("isActive")&&a.conversationsAfter.forEach(e.bind(function(a){this.thread&&this.thread.id===a.threadId&&this.thread.markAsRead()},this))},onBeforeReorder:function(){this.children.call("disableAnimation")},
onRender:function(){this.toggleResultInfo()},onAddChild:function(a){a=a.model;this.isDefaultThread(a)&&!a.isConversationStarter&&this.toggleActive(a)},onClickJumpLinks:function(a){d.trigger("jump-link",$(a.target).data("jump-link-location"))},onShortcutPrevious:function(){var a=d.request("conversations"),b=a.indexOf(this.focusedSponsoredInmailLegacy||this.thread)-1;0<=b&&this._canSwitchThreadsWithKeyboard()&&this.selectThread(a.at(b))},onShortcutNext:function(){var a=d.request("conversations"),b=
a.indexOf(this.focusedSponsoredInmailLegacy||this.thread)+1;b<a.size()&&this._canSwitchThreadsWithKeyboard()&&this.selectThread(a.at(b))},onShortcutFocusConversationList:function(){this.$el.focus()},onShortcutFocusActiveConversation:function(){var a;this.thread&&(a=this.children.findByModel(this.thread),a.focusOnConversation())},onDestroyChildViewModel:function(a){a&&this.selectNextAvailableThread(a)},selectNextAvailableThread:function(a){a=a||{};var b=this.getNextAvailableThread(a);a.model===this.thread?
this.selectThread(b,{fetch:!1}):this.children.findByModel(b).ui.threadLink.focus()},onMarkAsLeaveAction:function(a){a.model===d.request("active:conversation")&&this.trigger("leave:active:conversation",a)},onMarkAsReturnAction:function(a){a.model===d.request("active:conversation")&&this.trigger("return:active:conversation",a)},onResultCountChange:function(a,b){e.isUndefined(b)||(this.ui.resultCount.text(b),g=s.geti18nStrings(g,"templates/thread-list/list",{totalResultsCount:b}),d.trigger("announce",
g.i18n_num_of_results));this.toggleResultInfo()},onThreadViewSelect:function(a){a=a.model;this.thread&&a.id===this.thread.id||this.selectThread(a)},onDraftCreate:function(a){this.toggleActive(a)},onScrollNearBottom:function(){this._fetchMoreConversations()},onScrollBottom:function(){this._fetchMoreConversations()},_canSwitchThreadsWithKeyboard:function(){var a=d.request("composeTextarea:contents")||"",b=d.request("pill:input:contents")||"";return!(a.length||b.length)},_fetchMoreConversations:function(){this._fetchXhr&&
"resolved"!==this._fetchXhr.state()||(window.RUM2.appTransitionStart(),window.RUM2.setPageKey("wonton-inf-scroll"),this._fetchXhr=null,(this._fetchXhr=this.collection.fetchOlder())?(this._fetchXhr.fail(e.bind(this._triggerError,this)),0===++u%l&&d.trigger("ads:refresh",{pageKey:"wonton-inf-scroll"}),this._fetchXhr.always(function(){window.RUM2.appRenderComplete()})):window.RUM2.appRenderComplete());return this._fetchXhr},_triggerError:function(a,b,c){"abort"!==b&&this.triggerMethod("show:error")},
_getLixScrollInterval:function(){var a=k.get("wonton.adsRefreshInterval")||"control";return"control"===a?3:parseInt(a.slice(1))},_getLixThreadInterval:function(){var a=k.get("wonton.ads.refresh.thread")||"control";return"control"===a?3:parseInt(a.slice(1))},toggleDefault:function(){var a=this.thread.id;(a=a&&this.collection.get(a))&&this.toggleActive(a)},toggleActive:function(a){var b=null!=this.thread?this.children.findByModel(this.thread):null,c=a&&this.children.findByModel(a);this.thread=a;b&&
b.toggleActive(!1);c&&c.toggleActive(!0)},getNextAvailableThread:function(a){var b=e.filter(this.children.toArray(),function(a){return!a.model.isSponsoredInmailLegacy()});a=e.indexOf(b,a);var c;-1!==a&&(c=(b=b[a+1]||b[a-1])&&b.model||void 0);return c},isDefaultThread:function(a){return this.thread?a.id===this.thread.id:!1},toggleResultInfo:function(){var a=this.model.get("totalResultsCount");this.ui.resultInfo.toggleClass("hidden",e.isUndefined(a))},selectThread:function(a,b){b=e.defaults(b||{},{fetch:!0});
if(a){if(a.isSponsoredInmailLegacy()){this.focusedSponsoredInmailLegacy=a;this.children.findByModel(a).ui.threadLink.focus();return}this.focusedSponsoredInmailLegacy=!1;window.RUM2.appTransitionStart();window.RUM2.setPageKey("wonton-conversation");b.fetch&&this.collection.fetchUpdates();0===++v%m&&d.trigger("ads:refresh",{pageKey:"wonton-conversation"});this.toggleActive(a)}this.trigger("select:conversation",a)}});c.exports("ThreadListView",f)})(window.LIModules);
(function(b){var e=b.requires("marionette"),g=b.requires("Utils"),h=b.requires("Dropdowner"),k=b.requires("SearchListView"),l=b.requires("LixValues"),f=b.requires("InboxChannel"),d=g.geti18nStrings({i18n_disabled_visit_messaging_home:"",i18n_disabled_compose_new_message:"",i18n_visit_messaging_home:"",i18n_compose_new_message:""},"templates/controls/controls"),e=e.LayoutView.extend({template:"templates/controls/controls",regions:{searchRegion:"#inbox-search",filtersRegion:".filters",actionsRegion:".actions"},
ui:{homeButton:"#home-button",composeButton:"#compose-button",dropdownButton:".dropdown-trigger",dropdownLabel:".dropdown-label",dropdownItems:".dropdown-item",dropdownListItems:".dropdown-list li"},triggers:{"click @ui.homeButton":"action:navigateToHome","click @ui.composeButton":"action:compose"},events:{"click @ui.dropdownItems":"onActionFilter"},behaviors:{Dropdowner:{behaviorClass:h}},initialize:function(){var a=f.request("config");this.recruiterInboxUrl=a.urls.recruiterInboxUrl;this.salesInboxUrl=
a.urls.salesInboxUrl},onRender:function(){this.searchRegion.show(new k)},onActionFilter:function(a){a=$(a.target);var c=a.text();window.RUM2.appTransitionStart();window.RUM2.setPageKey("wonton-filter");this.ui.dropdownLabel.text(c);this.ui.dropdownItems.removeClass("selected");this.ui.dropdownItems.removeAttr("aria-selected");a.addClass("selected");a.attr("aria-selected","true");f.request("filter",[a.data("filter")]);f.trigger("jump-link","list-of-conversations")},enableHomeButton:function(){this.ui.homeButton.removeAttr("disabled").attr("title",
d.i18n_visit_messaging_home)},disableHomeButton:function(){this.ui.homeButton.attr("disabled","disabled").attr("title",d.i18n_disabled_visit_messaging_home)},disableCompose:function(a){var c=this.ui.composeButton;a?(c.attr("disabled","disabled"),c.attr("title",d.i18n_disabled_compose_new_message)):(c.removeAttr("disabled"),c.attr("title",d.i18n_compose_new_message))},showActions:function(){},showFilters:function(){},onBeforeShow:function(){var a,c=this.ui.dropdownLabel.text();this.showActions();this.showFilters();
this.ui.dropdownListItems.removeAttr("tabindex");this.ui.dropdownButton.removeAttr("aria-haspopup");$.each(this.ui.dropdownItems,function(b,d){a=$(d);a.text()===c&&(a.addClass("selected"),a.attr("aria-selected","true"))})},onComposeNew:function(){this.composeNewThread()},templateHelpers:function(){return{recruiterInboxUrl:this.recruiterInboxUrl,salesInboxUrl:this.salesInboxUrl,showHomeButton:!l.isControl("wonton.conversationStartersV2")}}});b.exports("ControlsView",e)})(window.LIModules);
(function(b){var f=b.requires("underscore"),g=b.requires("backbone"),h=b.requires("dust"),k=b.requires("jSecure");b.requires("LixValues");var d=b.requires("LICollection"),l=b.requires("InboxChannel"),c={ADD_PARTICIPANT:"add-participant",PARTICIPANT_LIST:"participant-list",BULK_FORWARD:"bulk-forward",BULK_DELETE:"bulk-delete",BULK_SPAM:"bulk-spam",DEFAULT:"default"},m=d.extend({comparator:function(a){return a.getTimestamp()}}),d=g.Model.extend({MODES:c,defaults:{mode:c.DEFAULT},initialize:function(a){this.thread=
a.thread;this.threadMessages=this.thread.getMessages();this.selectedMessages=new m;this.listenTo(this,"change:mode",this.onChangeMode)},set:function(a,n,p){var e="mode"===a?n:a.mode,b=this.thread;if((e!==c.ADD_PARTICIPANT||b.isAddable())&&(e!==c.BULK_FORWARD||b.isForwardable())&&this.isSupportedMode(e))return g.Model.prototype.set.apply(this,arguments)},onChangeMode:function(){var a=this.previous("mode");this.isSelectMode(this.getMode())&&this.isSelectMode(a)||this.isDefaultMode(a)||this.resetSelectedMessages()},
reset:function(){this.resetMode();this.resetSelectedMessages()},getMode:function(){return this.get("mode")},setMode:function(a){this.set("mode",a)},isMode:function(a){return a===this.getMode()},isSelectMode:function(a){return f.contains([c.BULK_DELETE,c.BULK_SPAM,c.BULK_FORWARD],a)},inSelectMode:function(){return this.isSelectMode(this.getMode())},isDefaultMode:function(a){return a===c.DEFAULT},inDefaultMode:function(){return this.isMode(c.DEFAULT)},isSupportedMode:function(a){return void 0!==f.find(c,
function(c){return a===c})},resetMode:function(a){this.set({mode:c.DEFAULT},{silent:a});this.trigger("reset:mode")},resetSelectedMessages:function(){this.selectedMessages.reset()},getSelectedMessages:function(){return this.selectedMessages},getNumOfSelectedMessages:function(){return this.selectedMessages.length},addMessage:function(a){this.selectedMessages.add(a)},removeMessage:function(a){this.selectedMessages.remove(a)},reportSelectedMessagesAsSpam:function(){return this.threadMessages.reportAsSpam(this.selectedMessages.models)},
enterForwardMode:function(){var a=this.thread,b;a.isForwardable()&&(b=a.getMessages(),1===b.size()&&a&&!a.isNew()?(this.addMessage(b.at(0)),this.forwardSelectedMessages()):this.set("mode",c.BULK_FORWARD))},forwardSelectedMessages:function(){var a=this.selectedMessages.reduce(function(a,b){var c=b.getBody();c&&a.push({sender:b.getSender().toJSON(),subject:b.isType(b.TYPES.INMAIL)&&b.getSubject(),body:c,timestamp:b.getTimestamp()});return a},[]);h.render("templates/shared/forwarded-messages",{messages:a},
function(a,b){var c=b.replace(/\s+$/g,""),c=k.htmlUnencode(c);l.trigger("compose:thread",{body:c})})}},{MODES:c});b.exports("ThreadDetailState",d)})(window.LIModules);
(function(b){var f=b.requires("underscore"),d=b.requires("marionette"),g=b.requires("UserCollection"),e=b.requires("ThreadMessageModel");b.requires("Utils");b.requires("LixValues");var c=b.requires("ErrorHandler");b.requires("InboxChannel");var h=b.requires("PillBoxListView"),c=d.LayoutView.extend({template:"templates/thread-detail/participants/add-people",tagName:"form",id:"add-people-container",ui:{errorContainer:".error-container",doneAction:".done.action",cancelAction:".cancel.action",includeHistoryCheckbox:".include-history-option"},
triggers:{"click @ui.doneAction":"done:action","click @ui.cancelAction":"cancel:action"},regions:{pillboxRegion:"#pillbox-region"},behaviors:{ErrorHandler:{behaviorClass:c}},pillBoxEvents:{"pillBoxList:add:user":"onAddUser","pillBoxList:remove:user":"onRemoveUser"},initialize:function(a){this.thread=a.thread;this.threadDetailState=a.threadDetailState;this._resetAddPersonMessage();this._resetPendingNewRecipients();this.listenTo(this.threadDetailState,"change:mode",this.onStateChangeMode)},templateHelpers:function(){var a=
this.thread,b=a.getMessages();return{shareHistory:a.isGroup()||3>=b.length}},onBeforeShow:function(){var a;this.thread.isAddable()&&(a=new h({model:this.addPersonMessage,thread:this.thread}),this.getRegion("pillboxRegion").show(a),d.bindEntityEvents(this,a,this.pillBoxEvents))},onShow:function(){this.thread.isAddable()&&this.$el.addClass("fade-in")},onDestroy:function(){this.pendingNewRecipients=this.addPersonMessage=null},onCancelAction:function(){this._hideError();this.threadDetailState.resetMode()},
onStateChangeMode:function(){var a=this.threadDetailState;a.isMode(a.MODES.ADD_PARTICIPANT)||this.$el.removeClass("fade-in")},onDoneAction:function(){var a=this.addPersonMessage,b=this.ui.doneAction,c=this.pendingNewRecipients,d=this.model.getValidRecipients().clone(),e=(new Date).getTime();this._hideError();if(c.size())b.attr("disabled","disabled"),b.addClass("submitting"),d.add(c),a.set({timestamp:e,recipients:d,customContent:{participantChange:{participants:c.toJSON(),showHistory:this.ui.includeHistoryCheckbox.is(":checked")}}}),
a.save(null,{success:f.bind(function(){this.threadDetailState.resetMode();this._resetAddPersonMessage();this._resetPendingNewRecipients();this.thread.getMessages().add(a)},this),error:f.bind(this._showError,this),complete:function(){b.removeClass("submitting").removeAttr("disabled")}});else this.onCancelAction()},onAddUser:function(a){this.pendingNewRecipients.add(a);this.ui.doneAction.removeAttr("disabled")},onRemoveUser:function(a){this.pendingNewRecipients.remove(a.id);this.pendingNewRecipients.size()||
this.ui.doneAction.attr("disabled","disabled")},_showError:function(){this.triggerMethod("show:error")},_hideError:function(){this.triggerMethod("hide:error")},_resetAddPersonMessage:function(){var a=this.thread;this.addPersonMessage=null;this.addPersonMessage=new e({type:e.TYPES.PERSON_ADDED,recipients:a.getNewestMessage().getValidRecipients()},{collection:a.getMessages()})},_resetPendingNewRecipients:function(){this.pendingNewRecipients=null;this.pendingNewRecipients=new g}});b.exports("AddPeopleView",
c)})(window.LIModules);
(function(b){var e=b.requires("underscore"),f=b.requires("marionette");b.requires("dust");var g=b.requires("AddPeopleView");b.requires("ThreadMessageModel");b.requires("UserModel");b.requires("UserCollection");var h=b.requires("LazyLoader");b.requires("Utils");var d=b.requires("LixValues"),k=b.requires("InboxChannel"),l=f.LayoutView.extend({getTemplate:function(){return this.thread.isNew()||!this.model.isGroup()?"templates/thread-detail/participants/one-to-one":"templates/thread-detail/participants/one-to-many"},
id:"participants-view",ui:{listTrigger:".participants-wrapper",listButton:".participants-list-trigger"},triggers:{"click @ui.listTrigger":"enter:participantListMode"},threadNameEvents:{"change:name":"render"},regions:{addPeopleRegion:"#add-people-region"},initialize:function(a){this.thread=a.thread;this.messages=this.thread.getMessages();this.threadDetailState=a.threadDetailState;this.listenTo(k,"change:mode",this.render);this.listenTo(this.threadDetailState,"change:mode",this.onStateChangeMode);
this.listenTo(this.messages,"update",this.onThreadUpdateMessages);d.isEnabled("wonton.enableNameConversation")&&f.bindEntityEvents(this,this.thread,this.threadNameEvents)},templateHelpers:function(){var a=this.model.isGroup(),b=this.thread.isAnyInmail(),a={isNewThread:this.thread.isNew(),lazyLoadImages:h.shouldLazyLoad(),threadName:d.isEnabled("wonton.enableNameConversation")&&a&&!b&&this.thread.get("name")||null,isGroup:a,showFacePile:d.isTreatment("wonton.showFacePileOnThreadTitle")};e.extend(a,
this._extractRecipientsInfo());return a},onThreadUpdateMessages:function(){var a=this.threadDetailState,b=this.model.getValidRecipients().models,c=this.thread.getNewestMessage();this.model=c;e.isEqual(b,c.getValidRecipients().models)||(a.isMode(a.MODES.DEFAULT)?(this.render(),this.dirtyFlag=!1):this.dirtyFlag=!0)},onEnterParticipantListMode:function(){var a=this.threadDetailState;a.set("mode",a.MODES.PARTICIPANT_LIST)},onStateChangeMode:function(a){a.isMode(a.MODES.ADD_PARTICIPANT)?this.showAddPeople():
a.isMode(a.MODES.DEFAULT)&&!0===this.dirtyFlag&&(this.render(),this.dirtyFlag=!1)},showAddPeople:function(){this.addPeopleView=new g({thread:this.thread,model:this.model,threadDetailState:this.threadDetailState});this.getRegion("addPeopleRegion").show(this.addPeopleView)},setInitialFocus:function(){this.ui.listButton.focus()},_extractRecipientsInfo:function(){var a=this.model.getValidRecipients().toJSON(),b=a.length,c=0;4<b&&(c=b-3,a=a.slice(0,3));return{totalRecipients:b,recipients:a,peopleLeft:c}}});
b.exports("ParticipantsView",l)})(window.LIModules);
(function(a){var b=a.requires("marionette"),c=a.requires("LazyLoader"),b=b.ItemView.extend({template:"templates/thread-detail/participants/list",id:"participants-list",ui:{closeList:".header",fullList:".full-list"},triggers:{"click @ui.closeList":"closeList"},initialize:function(a){this.threadDetailState=a.threadDetailState;this.threadLayoutView=a.threadLayoutView},templateHelpers:function(){return{recipients:this.model.getValidRecipients().toJSON(),lazyLoadImages:c.shouldLazyLoad()}},setDefaultFocus:function(){this.ui.fullList.focus()},
onCloseList:function(){this.threadDetailState.resetMode();this.threadLayoutView.focusRegion("participantsRegion")}});a.exports("ParticipantsListView",b)})(window.LIModules);
(function(b){var g=b.requires("marionette"),d=b.requires("LixValues"),e=b.requires("Dropdowner"),h=b.requires("ErrorHandler"),k=b.imports("ThreadActions"),e=g.ItemView.extend({id:"action-dropdown",className:"more-actions dropdown",template:"templates/thread-detail/actions",ui:{error:".error",dropdownItem:".dropdown-item",invitationActionButton:".invitation-action"},events:{"click @ui.dropdownItem":"onClick"},messagesEvents:{hydrate:"render",update:"render"},behaviors:{ThreadActions:{behaviorClass:k},
Dropdowner:{behaviorClass:e,closeOnClick:!1},ErrorHandler:{behaviorClass:h}},initialize:function(a){var b=this.model,c=b.getInvitation();this.threadDetailState=a.threadDetailState;g.bindEntityEvents(this,b.getMessages(),this.messagesEvents);c&&this.listenTo(c,"change:sharedSecret",this.activateInvitationActions)},templateHelpers:function(){var a=this.model,b=(a.getNewestMessage()||{}).getValidRecipients()||[],c=a.get("pendingInvitation"),e=c?c.isPendingInvitation():!1,c=c?!c.hasSharedSecret():!1,
f=a.get("notificationStatus")||"ACTIVE";return{isAddable:a.isAddable(),isForwardable:a.isForwardable(),isMarkableAsSpam:a.isAlive(),isLeaveable:a.isLeaveable(),isPendingInvitation:e&&d.isEnabled("wonton.enableInvitationReply"),isDisabled:c,canAddPerson:d.isTreatment("wonton.addMemberButton")&&a.isAddable(),isNameEditable:d.isEnabled("wonton.enableNameConversation_edit")&&2<=b.length&&a.isAlive(),isNotifyEnabled:d.isTreatment("wonton.composeMentions")&&a.isNotifiable(),isMuteable:d.isControl("wonton.composeMentions"),
notifyAll:"ACTIVE"===f,notifyMention:"ACTIVE_FOR_MENTIONS_ONLY"===f,notifyNone:"MUTE"===f}},onClick:function(a){this.ui.error.addClass("hidden");a.currentTarget.classList.contains("notification-action")||this.dropdowns[0].close()},onThreadActionError:function(){this.triggerMethod("dropdown:open");this.triggerMethod("show:error");this.ui.error.removeClass("hidden")},activateInvitationActions:function(){this.ui.invitationActionButton.prop("disabled",!1);this.ui.invitationActionButton.attr("aria-disabled",
!1)}});b.exports("ActionsView",e)})(window.LIModules);
(function(d){function l(a){a=a.get("filename");if(a=/\.(\w+)$/.exec(a))return a[1]}function q(a){switch(l(a)){case "pdf":return"pdf";case "doc":case "docx":return"doc";case "txt":return"txt";case "csv":return"csv";case "ppt":case "pptx":return"ppt";case "xls":case "xlsx":return"xls";case "psd":return"psd";case "ai":return"ai";case "gif":case "png":case "jpg":case "jpeg":case "tiff":return"img";default:return"generic"}}function m(a){return(a=a.get("errorStatus"))?f[a]||f.GENERIC:""}var h=d.requires("marionette"),
r=d.requires("jSecure"),s=d.requires("LazyLoader"),k=d.requires("Utils"),t=d.requires("ErrorHandler"),n=d.requires("InboxChannel"),f={GENERIC:"i18n_attachment_error_generic",INV_MEDIA:"i18n_attachment_error_inv_media",SIZE:"i18n_attachment_error_size",TIME:"i18n_attachment_error_time",INV_FILENAME:"i18n_attachment_error_inv_filename",DIMENSION:"i18n_attachment_error_dimension",VIRUS_DETECTED:"i18n_attachment_error_virus_detected",VIRUS_SCANNING:"i18n_attachment_error_virus_scanning"},p=!1,h=h.ItemView.extend({tagName:"li",
className:"attachment",ui:{downloadAttachment:".download-attachment",image:".image-attachment",cancelScanButton:".cancel-scan",removeAttachmentButton:".remove-attachment",attachmentType:".attachment-type",progress:".progress",attachmentCard:".single-attachment",hoverPrompt:".prompt"},modelEvents:{"scan:start":"onScanStart","scan:end":"onScanEnd","upload:progress":"onUploadProgress","upload:complete":"onUploadComplete","change:errorStatus":"onErrorStatus"},triggers:{"click @ui.downloadAttachment":"click:download",
"click @ui.removeAttachmentButton":"click:remove","click @ui.cancelScanButton":"click:scan:abort"},behaviors:{ErrorHandler:{behaviorClass:t}},initialize:function(){p||(f=k.geti18nStrings(f,"templates/thread-detail/attachments/single-attachment",null,!0),p=!0)},templateHelpers:function(){var a=r.reEncode(this.model.get("filename")),d=m(this.model),f=q(this.model),b;b=l(this.model);switch(b){case "docx":b="doc";break;case "pptx":b="ppt";break;case "ppsx":b="pps";break;case "xlsx":b="xls";break;case "html":b=
"htm"}b=b&&4>b.length?b:" ";b=b.toUpperCase();var e;var c=this.model;e=0;var g=["i18n_bytes","i18n_kilobytes","i18n_megabytes"];if(c=c.file&&c.file.size||c.attributes&&c.attributes.size){for(;1024<=c&&!(c/=1024,e++,2<e););c=Math.round(100*c)/100;e=k.geti18nString(g[e],"templates/thread-detail/attachments/single-attachment",{size:c})}else e="";g=this.model;g=!("VIRUS_DETECTED"===g.get("errorStatus")||g.isLocalFile());return{filename:a,errorStatus:d,displayType:f,displayExt:b,displaySize:e,downloadable:g,
lazyLoadImages:s.shouldLazyLoad()}},getTemplate:function(){return this.model.isImage()?"templates/thread-detail/attachments/image-attachment":"templates/thread-detail/attachments/single-attachment"},onRender:function(){this.model.isImage()?(this.$el.addClass("image"),this.$el.find("img").on("load",function(){$(this).addClass("loaded");n.trigger("scroller:newContent")}).each(function(){this.complete&&$(this).load()})):this.$el.addClass("file")},onScanStart:function(){this.$el.addClass("scanning")},
onScanEnd:function(){this.$el.removeClass("scanning")},onUploadProgress:function(a){this.ui.progress.show();this.ui.progress.css("width",100-100*a+"%")},onUploadComplete:function(){this.ui.progress.hide();n.trigger("announce",k.geti18nString("i18n_attachment_upload_complete","templates/thread-detail/attachments/single-attachment"))},onErrorStatus:function(){var a=m(this.model);this.$el.toggleClass("attachError",!!a);a?("VIRUS_DETECTED"===this.model.get("errorStatus")&&(this.ui.hoverPrompt.addClass("hidden"),
this.ui.downloadAttachment.addClass("disabled")),this.triggerMethod("show:error",a)):this.triggerMethod("hide:error")},onClickDownload:function(){"VIRUS_DETECTED"!==this.model.get("errorStatus")&&this.model.download()},onClickRemove:function(){this.model.destroy()},onClickScanAbort:function(){this.model.abortScan()}});d.exports("AttachmentView",h)})(window.LIModules);
(function(a){var b=a.requires("marionette"),c=a.requires("AttachmentView"),b=b.CollectionView.extend({tagName:"ul",className:"attachments-list",childView:c});a.exports("AttachmentsListView",b)})(window.LIModules);
(function(a){var b=a.requires("marionette"),c=a.requires("LazyLoader"),d=a.requires("StickerChannel"),b=b.ItemView.extend({template:"templates/thread-detail/stickers/stickers",className:"sticker",tagName:"li",ui:{stickerButton:".sticker-button"},triggers:{"click @ui.stickerButton":"sticker:select"},templateHelpers:function(){return{lazyLoadImages:c.shouldLazyLoad()}},onStickerSelect:function(a){window.RUM2.appTransitionStart();d.trigger("send:sticker",a)}});a.exports("StickersView",b)})(window.LIModules);
(function(a){var b=a.requires("marionette"),c=a.requires("StickersView"),d=a.requires("StickerChannel"),b=b.CompositeView.extend({className:"selection-container",template:"templates/thread-detail/stickers/sticker-selection",childView:c,childViewContainer:".sticker-selection",initialize:function(){this.listenTo(d,"change:active:pack",this.onChangeActivePack)},onChangeActivePack:function(a){this.collection.reset(a.get("stickers"))}});a.exports("StickerSelectionView",b)})(window.LIModules);
(function(a){var b=a.requires("marionette"),c=a.requires("LazyLoader"),d=a.requires("StickerChannel"),b=b.ItemView.extend({template:"templates/thread-detail/stickers/sticker-packs",className:"sticker-pack",tagName:"li",ui:{packButton:".sticker-pack-button"},triggers:{"click @ui.packButton":"sticker:pack:select"},templateHelpers:function(){return{lazyLoadImages:c.shouldLazyLoad()}},initialize:function(){this.listenTo(d,"change:active:pack",this.toggleActive)},toggleActive:function(a){this.$el.toggleClass("active",
this.model===a)}});a.exports("StickerPacksView",b)})(window.LIModules);
(function(a){var b=a.requires("marionette"),c=a.requires("StickerPacksView"),d=a.requires("StickerChannel"),b=b.CompositeView.extend({className:"toolbar-container",template:"templates/thread-detail/stickers/sticker-toolbar",childView:c,childViewContainer:".sticker-toolbar",childEvents:{"sticker:pack:select":"setActivePack"},setActivePack:function(a){this.activePack=a?a.model:this.collection.first();d.trigger("change:active:pack",this.activePack)}});a.exports("StickerToolbarView",b)})(window.LIModules);
(function(a){var c=a.requires("marionette"),e=a.requires("Dropdowner"),f=a.requires("StickerCollection"),g=a.requires("StickerSelectionView"),d=a.requires("StickerPackCollection"),h=a.requires("StickerToolbarView"),k=a.requires("StickerChannel"),c=c.LayoutView.extend({id:"stickers-dropdown",template:"templates/thread-detail/stickers/sticker-layout",className:"dropdown",behaviors:{Dropdowner:{behaviorClass:e,orientation:"top"}},regions:{stickerToolbarRegion:".toolbar-region",stickerSelectionRegion:".selection-region"},
initialize:function(){this.listenTo(k,"close:sticker:dropdown",_.bind(this.triggerMethod,this,"dropdown:close"))},onBeforeShow:function(){var b=new d;b.fetch({success:_.bind(function(){this.showStickerSelection();this.showStickerToolbar(b)},this)})},showStickerSelection:function(){var b;this.getRegion("stickerToolbarRegion")&&(b=new g({collection:new f}),this.getRegion("stickerSelectionRegion").show(b))},showStickerToolbar:function(b){var a=this.getRegion("stickerToolbarRegion");a&&(b=new h({collection:new d(b.where({hidden:!1}))}),
a.show(b),b.setActivePack())}});a.exports("StickerLayoutView",c)})(window.LIModules);
(function(c){var l=c.requires("jquery"),d=c.requires("underscore"),e=c.requires("marionette"),g=c.requires("UserCollection"),m=c.requires("AttachmentsListView"),h=c.requires("UrlUtils"),n=c.requires("ErrorHandler"),p=c.requires("LazyLoader"),k=c.requires("Utils"),f=c.requires("LixValues"),q=c.requires("SyncQueue"),r=c.requires("PageViewTracking"),s=q.create("messageQueue"),e=e.LayoutView.extend({tagName:"li",className:function(){var a=["message",this._getClassName(this.model.getType())];this.model.isNew()&&
a.push("draft");return a.join(" ")},getTemplate:function(){var a=this.model,b=a.TYPES;switch(a.getType()){case b.GROUP:return"templates/thread-detail/message-types/group";case b.INMAIL:return"templates/thread-detail/message-types/inmail";case b.PERSON_ADDED:return"templates/thread-detail/message-types/person-added";case b.PERSON_REMOVED:return"templates/thread-detail/message-types/person-removed";case b.INTRO:return"templates/thread-detail/message-types/intro";case b.JOB_REFERRAL:return"templates/thread-detail/message-types/job-referral";
case b.UNSUPPORTED:return"templates/thread-detail/message-types/unsupported";case b.THREAD_UPDATED:return"templates/thread-detail/message-types/thread-name-updated";case b.INVITATION_ACCEPTED:return f.isEnabled("wonton.enableInvitationReply")?"templates/thread-detail/message-types/accepted-invitation":"templates/thread-detail/message-types/base";default:return"templates/thread-detail/message-types/base"}},regions:{attachmentsRegion:".message-attachments-region"},ui:{messageContainer:".message-container",
selectableArea:".selectable-area",selectableCheckbox:".selectable-checkbox",lssUnsubscribe:".lss-unsubscribe"},events:{click:"onSelectMessage","keydown @ui.selectableArea":"onKeydownSelectMessage","click @ui.cancelSend":"onCancelSend"},modelEvents:{"change:isSpam":"render",hydrate:"onHydrate",error:"onError"},triggers:{"click @ui.lssUnsubscribe":"lss:request:unsubscribe"},behaviors:{ErrorHandler:{behaviorClass:n}},selected:!1,templateHelpers:function(){var a=this.model,a={dateFormatter:this.dateFormatter,
sender:a.getSender().toJSON(),recipients:a.getValidRecipients().toJSON(),isCurrentUser:a.isFromCurrentUser(),isNew:a.isNew(),isNewDate:this.messageGroupingData.isNewDate,lazyLoadImages:p.shouldLazyLoad()};d.extend(a,this._getAdditionalData());return a},initialize:function(a){this.threadDetailState=a.threadDetailState;this.messageGroupingData=a.getMessageGroupingData(this.model);this.recipients=this.model.getValidRecipients();this.attachments=this.model.getAttachments();this.dateFormatter=k.timeFormatter(this.model,
{today:"today"})},onRender:function(){this.toggleViewCSS();this.toggleSelectable();this.showAttachments();this.model.shouldRetrySend&&this.triggerMethod("show:error")},onError:function(){f.isTreatment("wonton.queue.messages")&&this.$el.addClass("dequeued");this.triggerMethod("show:error");r.fireTracking("p_flagship3_messaging_conversation_detail_error_message_delivery_failed")},onSelectMessage:function(a){this.selectMessage(a);a.stopPropagation()},onKeydownSelectMessage:function(a){d.contains([13,
32],a.keyCode)&&(this.threadDetailState.inDefaultMode()||a.preventDefault(),this.selectMessage(a))},onHydrate:function(){this.$el.removeClass("draft");this.ui.messageContainer.attr("data-id",this.model.id)},onRetry:function(){f.isTreatment("wonton.queue.messages")?s.resume():this.model.send()},_getClassName:d.memoize(function(a){return a.toLowerCase().replace(/_/g,"-")}),_getAdditionalData:function(){var a=this.model,b=a.TYPES,c={};switch(a.getType()){case b.PERSON_ADDED:b=a.getCustomContent();a=
new g(b.participantChange.participants);d.extend(c,{newParticipants:a.toJSON(),addedYou:a.hasUser(k.getCurrentUser()),sharedHistory:b.showHistory});break;case b.PERSON_REMOVED:b=a.getCustomContent();a=new g(b.participantChange.removedParticipants);d.extend(c,{removedParticipants:a.toJSON()});break;default:b=a.hasMentions?a.mentionsBody:(b=a.getAnnotations())&&0<b.length?h.annotate(a.getBody(),a.getAnnotations()):h.linkify(a.getBody()),d.extend(c,{annotatedContent:b,recipientsCount:this.recipients.size(),
isNewGroup:this.messageGroupingData.isNewGroup,stickers:a.getStickers().toJSON()})}return c},_getDateFormatter:function(a){var b=new Date;a=new Date(a.getTimestamp());var c;b.setHours(0,0,0,0);a.setHours(0,0,0,0);c=(b-a)/864E5;return 0===c?"today":1===c?"yesterday":0<=b.getDay()-c?"date.d.long":b.getYear()===a.getYear()?"date.md.medium":"date.mdy.short"},showAttachments:function(){var a=this.getRegion("attachmentsRegion");a&&this.attachments&&this.attachments.size()&&!this.model.isSpam()&&a.show(new m({collection:this.attachments}))},
toggleViewCSS:function(){this.$el.toggleClass("other",!this.model.isFromCurrentUser()).toggleClass("group-conv",1<this.recipients.size()).toggleClass("new-grouping",this.messageGroupingData.isNewGroup).toggleClass("date",this.messageGroupingData.isNewDate).toggleClass("show-timestamp",this.messageGroupingData.showTimestamp)},updateGroupingData:function(a){d.extend(this.messageGroupingData,a);this.toggleViewCSS()},toggleSelected:function(a){var b=this.ui.selectableArea,c=this.ui.selectableCheckbox;
this.selected=a=d.isUndefined(a)?!this.selected:a;this.$el.toggleClass("selected",a);c.prop("checked",this.selected);b.attr("aria-selected")&&b.attr("aria-selected",a)},toggleSelectable:function(){this.$el.toggleClass("selectable",this.isSelectable())},isSelectable:function(){var a=this.model,b=this.threadDetailState;return b.inSelectMode()&&!(b.getMode()===b.MODES.BULK_SPAM&&a.isFromCurrentUser())&&!(b.getMode()===b.MODES.BULK_FORWARD&&a.hasSticker())&&!a.isType(a.TYPES.PERSON_ADDED)&&!a.isType(a.TYPES.THREAD_UPDATED)&&
!a.isType(a.TYPES.PERSON_REMOVED)},addAccessibilityAttributes:function(){var a={};this.isSelectable()&&(a["aria-selected"]=!1,a.tabindex=0,this.ui.selectableArea.attr(a))},removeAccessibilityAttributes:function(){this.ui.selectableArea.removeAttr("aria-selected tabindex")},selectMessage:function(a){var b;a&&(b=l(a.target));b&&b.hasClass("linkified")||!this.isSelectable()||(this.toggleSelected(),this.triggerMethod("messageSelected",this.selected))},focusOnCheckbox:function(){this.ui.selectableCheckbox.focus()},
isType:function(a){return this.model.isType(a)},getTimestamp:function(){return this.model.getTimestamp()}});c.exports("MessageView",e)})(window.LIModules);
(function(c){var f=c.requires("underscore"),l=c.requires("marionette"),p=c.requires("ThreadMessageModel"),q=c.requires("MessageView"),m=c.requires("ErrorHandler"),g=c.requires("Scroller"),r=c.requires("Loader"),s=c.requires("InboxChannel"),t=c.requires("Utils"),u=c.requires("UnsubscribeConfirmationModalView"),l=l.CompositeView.extend({template:"templates/thread-detail/messages",tagName:"div",id:"messages-list-wrapper",childView:q,childEvents:{"lss:request:unsubscribe":"onLssRequestUnsubscribe"},childViewOptions:function(){return{threadDetailState:this.threadDetailState,
getMessageGroupingData:f.bind(this.getMessageGroupingData,this)}},childViewContainer:".message-list",behaviors:{Scroller:{behaviorClass:g,scrollOnAdd:g.BOTTOM,scrollFromBoundary:100,scrollOnShow:g.BOTTOM,scrollOnInitialSync:g.LAST,maintainPositionOnSync:!0,maintainPositionFromBottom:!0},Loader:{behaviorClass:r},ErrorHandler:{behaviorClass:m,modelType:m.COLLECTION}},initialize:function(a){this.threadDetailState=a.threadDetailState;this.listenTo(this.threadDetailState,"change:mode",this.onStateChangeMode);
this.listenTo(this.threadDetailState.selectedMessages,"reset",this.onStateResetSelectedMessages)},onScrollNearTop:function(){this._fetchMoreMessages()},onScrollTop:function(){this._fetchMoreMessages()},_triggerError:function(a,b,d){"abort"!==b&&this.triggerMethod("show:error")},_fetchMoreMessages:function(){this._fetchXhr&&"resolved"!==this._fetchXhr.state()||(this._fetchXhr=null,(this._fetchXhr=this.collection.fetchOlder())&&this._fetchXhr.fail(f.bind(this._triggerError,this)));return this._fetchXhr},
onChildviewMessageSelected:function(a,b){var d=this.threadDetailState,n=a.model;b?d.addMessage(n):d.removeMessage(n)},onStateChangeMode:function(a){var b=this.children;a.inSelectMode()&&!a.isSelectMode(a.previous("mode"))?(a=b.filter(function(a){return a.isSelectable()}),b.call("toggleSelectable"),b=f.chain(a).sortBy(function(a){return a.getTimestamp()}).last().value(),b.selectMessage(),b.focusOnCheckbox()):b.call("toggleSelectable")},onStateResetSelectedMessages:function(a,b){var d=this.children;
f.each(b.previousModels,function(a){(a=d.findByModel(a))&&a.toggleSelected(!1)});d.call("toggleSelectable")},onLssRequestUnsubscribe:function(){var a=this.model;a.getValidRecipients().first();var b=s.request("show:modal",u,{thread:a});this.listenToOnce(b,"modal:yes:action",function(){var a=t.geti18nString("i18n_unsubscribe_successful",b.template);this.collection.sendUnsubscribeRequest().done(function(){this.triggerMethod("lss:unsubscribe:complete",a)}.bind(this)).fail(function(){this.triggerMethod("show:error");
this.$el.scrollTop(this.$el.position().top)}.bind(this))})},_getDate:function(a){return(new Date(a.getTimestamp())).setHours(0,0,0,0)},_getGroupingData:function(a,b){var d=this._getDate(b)!==this._getDate(a),c=b.get("sender").id!==a.get("sender").id,h=f.contains([a.getType(),b.getType()],p.TYPES.PERSON_ADDED),e=9E5<Math.abs(b.getTimestamp()-a.getTimestamp());return{isNewDate:d,isNewGroup:d||c||h,showTimestamp:e||d||c||h}},_getShowTimestamp:function(a,b){return f.pick(this._getGroupingData(a,b),"showTimestamp")},
getMessageGroupingData:function(a){var b=this.children,d=this.collection,c=d.indexOf(a),h={isNewDate:!0,isNewGroup:!0,showTimestamp:!0},e,k,g;if(0===c)e=this.topMessage||a,k=d.indexOf(e),0<k&&(b=b.findByModel(e),b.updateGroupingData(this._getGroupingData(d.at(k-1),e)),g=d.at(k+1),b.updateGroupingData(g?this._getShowTimestamp(g,e):{showTimestamp:!0})),this.lastTopMessageIndex=k,this.topMessage=a;else if(e=d.at(c-1))k=b.findByModel(e),h=this._getGroupingData(e,a),k.updateGroupingData(this._getShowTimestamp(e,
a));f.extend(h,{showTimestamp:d.last()===a});c===this.lastTopMessageIndex-1&&f.extend(h,this._getShowTimestamp(d.at(this.lastTopMessageIndex),a));return h}});c.exports("ThreadMessagesListView",l)})(window.LIModules);
(function(c){var f=c.requires("jquery"),d=c.requires("underscore"),e=c.requires("marionette");c.requires("Mentions");var g=c.requires("LixValues"),k=c.requires("Utils"),h=c.requires("InboxChannel"),l=e.ItemView.extend({template:"templates/thread-detail/compose/compose-textarea",id:"compose-textarea",className:"mentions-container",ui:{textarea:".compose-area",mirror:".mirror",shim:".textarea-shim",forwardAction:".forward-action"},events:{click:"onClick","focus @ui.textarea":"onFocus","blur @ui.textarea":"onBlur",
"click @ui.forwardAction":"onForwardAction","keydown @ui.textarea":"onKeyEvent","input @ui.textarea":"onNewCharacterEvent"},modelEvents:{"change:body":"onChangeBody",error:"onError"},threadEvents:{"change:draft":"onThreadChangeDraft",error:"onError"},disabled:!1,initialize:function(a){this.thread=a.thread;this.threadDetailState=a.threadDetailState;this.listenTo(this.threadDetailState,"change:mode",this.onStateChangeMode);e.bindEntityEvents(this,this.thread,this.threadEvents);this.bindUnfinishedMessageEvent();
h.reply("composeTextarea:contents",function(){return this.ui.textarea.val()},this)},templateHelpers:function(){var a=this.thread,b=a.getNewestMessage();return{recipients:b&&b.getValidRecipients().toJSON(),isNew:a.isNew(),showShim:!this.model.getBody()&&!a.isNew()}},onAttach:function(){var a=this.ui.textarea;this.startHeight=a.height();this.textareaVPadding=parseInt(a.css("padding-top"),10)+parseInt(a.css("padding-bottom"),10)+parseInt(a.css("border-top-width"),10)+parseInt(a.css("border-bottom-width"),
10);this.ui.mirror.css({width:a.width()});if(this.model.getBody())this.onChangeBody()},onDestroy:function(){this.unbindUnfinishedMessageEvent();h.stopReplying("composeTextarea:contents")},onClick:function(a){f(a.target).is(this.ui.forwardAction)||this.focusOnTextarea();this.removeShim()},onFocus:function(a){this.toggleShimVisibility(!1)},onBlur:function(a){g.isTreatment("wonton.composeMentions")&&this.model.setBody(this.ui.textarea.val());this.ui.textarea.val()?this.removeShim():this.toggleShimVisibility(!0)},
onForwardAction:function(){this.disabled||this.threadDetailState.enterForwardMode()},onKeyEvent:function(a){13!==a.keyCode||a.shiftKey&&!a.ctrlKey||this.trigger("composeTextarea:submit",a)},onNewCharacterEvent:function(){this.model.setBody(this.ui.textarea.val())},onStateChangeMode:function(a){this.toggleDisabled(a.inSelectMode())},onChangeBody:function(){var a=this.model.getBody(),b=this.ui.textarea.val();a!==b&&this.ui.textarea.val(a);this._resize()},onError:function(){this.focusOnTextarea()},onThreadChangeDraft:function(a,
b){e.unbindEntityEvents(this,this.model,this.modelEvents);this.model=b;e.bindEntityEvents(this,this.model,this.modelEvents);this.reset()},_resize:d.throttle(function(){var a=this.ui.textarea,b=a[0].scrollHeight,c;this.ui.mirror.text(this.model.getBody()+" ");c=this.ui.mirror.height();c>this.startHeight&&c<b?b=c+this.textareaVPadding:c<this.startHeight&&(b=this.startHeight+this.textareaVPadding);b!==a.innerHeight()&&0<b&&a.css("height",b)},30),syncModel:function(){var a=this.model.getBody(),b=this.ui.textarea.val();
g.isTreatment("wonton.composeMentions")&&a!==b&&this.model.setBody(b)},removeShim:function(){this.ui.shim&&(this.ui.shim.remove(),this.ui.shim=null)},toggleShimVisibility:function(a){this.ui.shim&&(d.isUndefined(a)?this.ui.shim.toggleClass("hidden"):this.ui.shim.toggleClass("hidden",!a))},toggleDisabled:function(a){var b=this.ui.textarea;this.disabled=a=d.isUndefined(a)?!this.disabled:!!a;this.$el.toggleClass("disabled",a);a?b.attr("disabled","disabled"):b.removeAttr("disabled")},reset:function(){this.ui.textarea.val(this.model.getBody()||
"");this.toggleDisabled(!1);this._resize();this.focusOnTextarea()},focusOnTextarea:function(){this.toggleDisabled(!1);this.removeShim();this.ui.textarea.focus()},bindUnfinishedMessageEvent:function(){this.unbindUnfinishedMessageEvent();f(window).on("beforeunload.unfinishedMessage",d.bind(function(a){if(this.model.getBody()){var b=k.geti18nString("i18n_unfinished_message_prompt","templates/thread-detail/compose/compose-textarea");return a.returnValue=b}},this))},unbindUnfinishedMessageEvent:function(){f(window).off("beforeunload.unfinishedMessage")}});
c.exports("ComposeTextarea",l)})(window.LIModules);
(function(c){var m=c.requires("jquery"),p=c.requires("underscore"),e=c.requires("marionette");c.requires("dust");var d=c.requires("docCookies"),x=c.requires("ComposeTextarea"),y=c.requires("StickerLayoutView");c.requires("StickerCollection");var z=c.requires("ThreadMessageModel"),A=c.requires("ThreadAttachmentModel"),B=c.requires("AttachmentsListView"),C=c.requires("EnterToSendCalloutView"),g=c.requires("ErrorHandler"),q=c.requires("LixValues"),D=c.requires("Utils"),n=c.requires("PageViewTracking"),
h=c.requires("InboxChannel"),w=c.requires("StickerChannel"),k=new Date((new Date).setYear((new Date).getFullYear()+2)),l={i18n_standard_error_msg:"",i18n_invalid_message_too_large:"",i18n_invalid_message_need_recipient:"",i18n_invalid_message_need_content:"",i18n_invalid_message_bad_attachments:"",i18n_invalid_message_too_many_attachments:"",i18n_invalid_recipients:"",i18n_group_mebc_limit_reached:"",i18n_too_new_to_linkedin:"",i18n_too_new_to_group:""},E={ERR_GENERIC:"i18n_standard_error_msg",ERR_MAX_CHARS:"i18n_invalid_message_too_large",
ERR_RECIPIENT_REQUIRED:"i18n_invalid_message_need_recipient",ERR_CONTENT_REQUIRED:"i18n_invalid_message_need_content",ERR_BAD_ATTACHMENTS:"i18n_invalid_message_bad_attachments",TOO_MANY_ATTACHMENTS:"i18n_invalid_message_too_many_attachments",INVALID_RECIPIENTS:"i18n_invalid_recipients",GROUP_MEBC_INVALID_RECIPIENTS:"i18n_invalid_recipients",GROUP_MEBC_LIMIT_REACHED:"i18n_group_mebc_limit_reached",TOO_NEW_TO_LINKEDIN:"i18n_too_new_to_linkedin",TOO_NEW_TO_GROUP:"i18n_too_new_to_group"},g=e.LayoutView.extend({template:"templates/thread-detail/compose/compose",
className:"compose-box",ui:{enterToSend:"#enter-to-send",enterToSendCheckbox:"#enter-to-send-checkbox",composeActionBar:".compose-action-bar",errorContainer:".error-container",form:".compose-message-form",formInputs:".compose-message-form input",formButtons:".compose-message-form button",submit:".message-submit",fileInputs:".message-attachment",fileInputLabels:".attachment-label",feedback:".disabled-feedback"},regions:{composeTextareaRegion:"#compose-textarea-region",attachmentRegion:".attachment-previews",
stickersRegion:".stickers-region"},events:{submit:"onSubmit",click:"onClick",keyup:"onKeyup","change @ui.fileInputs":"onFileInputChange","focus @ui.fileInputs":"toggleFileInputLabelsFocus","blur @ui.fileInputs":"toggleFileInputLabelsFocus","change @ui.enterToSendCheckbox":"onCheckboxChange"},messagesEvents:{update:"onUpdatedMessages"},modelEvents:{change:"onMessageChange",invalid:"onInvalidMessage"},attachmentEvents:{destroy:"onAttachmentRemove"},recipientEvents:{update:"onRecipientChange"},threadEvents:{"change:draft":"onThreadChangeDraft"},
calloutEvents:{"off:action":"onCalloutOff","ok:action":"onCalloutOk"},behaviors:{ErrorHandler:{behaviorClass:g}},disabled:!1,replyAdsRefreshCounter:0,initialize:function(a){this.replyAdsRefreshInterval=this._getReplyAdsRefreshInterval();this.thread=a.thread;this.threadDetailState=a.threadDetailState;e.bindEntityEvents(this,this.model.getAttachments(),this.attachmentEvents);e.bindEntityEvents(this,this.model.getRecipients(),this.recipientEvents);e.bindEntityEvents(this,this.thread,this.threadEvents);
e.bindEntityEvents(this,this.thread.getMessages(),this.messagesEvents);this.listenTo(w,"send:sticker",this._submitSticker);this.listenTo(this.threadDetailState,"change:mode",this.onStateChangeMode);l=D.geti18nStrings(l,"templates/thread-detail/compose/compose");a=d.getItem("enterSend");null!==a&&(d.setItem("enterSend",a,k,"/comm/messaging"),d.setItem("enterSend",a,k,"/messaging"))},templateHelpers:function(){var a=d.getItem("enterSend");return{isChecked:!a||"true"===a,isSimpleReply:this.getOption("isSimpleReply")}},
onAttach:function(){this.initializeComposeTextarea();this.initializeCallout();this._validate()},onBeforeShow:function(){var a=this.thread.getNewestMessage();a&&a.isType(a.TYPES.INMAIL)||this.showStickers()},onDestroy:function(){this.composeTextarea.destroy();this.callout&&this.callout.destroy()},onClick:function(a){var b=this.ui.form.add(this.ui.composeActionBar).add(this.ui.errorContainer);m(a.target).is(b)&&this.composeTextarea.focusOnTextarea()},onSubmit:function(a){window.RUM2.appTransitionStart();
a&&a.preventDefault();this._validate()&&this.submit()},onCheckboxChange:function(){n.fireTracking(this.ui.enterToSendCheckbox[0].checked?"wonton-press-enter-send-check":"wonton-press-enter-send-uncheck");this._doOnCheckboxChange()},onFileInputChange:function(a){function b(a){a.get("errorCode")||n.fireTracking("wonton-file-attach")}var c=a.target.files,e=this,d=function(a,c){var u,f=new A(c[0]);a.getAttachments().add(f);u=Array.prototype.slice.call(c,1);u.length?f.save().done(function(){b(f);d.call(e,
a,u)}):f.save().done(function(){b(f);e._validate()})};this.showAttachments();c.length&&p.bind(d,this,this.model,c)();a.target.value=null},onThreadChangeDraft:function(a,b){e.unbindEntityEvents(this,this.model,this.modelEvents);e.unbindEntityEvents(this,this.model.getAttachments(),this.attachmentEvents);e.unbindEntityEvents(this,this.model.getRecipients(),this.recipientEvents);this._hideError();this.model=b;e.bindEntityEvents(this,this.model,this.modelEvents);e.bindEntityEvents(this,this.model.getAttachments(),
this.attachmentEvents);e.bindEntityEvents(this,this.model.getRecipients(),this.recipientEvents)},onStateChangeMode:function(a){this.toggleDisabled(a.inSelectMode())},onRecipientChange:function(){this._validate()},onUpdatedMessages:function(){var a=this.thread,b,a=a&&a.getMentionDataSet();q.isTreatment("wonton.composeMentions")&&a&&(b=h.request("compose:mentions:delegator"))&&(b=b.getInstance(this.getRegion("composeTextareaRegion").currentView.el))&&(b=b.bloodhound.thread,b.clear(),b.add(a))},onMessageChange:function(){this._validate()},
onInvalidMessage:function(a,b){var c=this._getErrorUiString(b||"ERROR_GENERIC");"ERR_CONTENT_REQUIRED"===b||"ERR_RECIPIENT_REQUIRED"===b?this._hideError():this._showError(c)},onError:function(a,b){this.ui.submit.removeClass("submitting");this._validate();this._showError(this._getErrorUiString(b.getResponseHeader("X-Error-Code")||"ERR_GENERIC"))},onAttachmentRemove:function(){this._validate()},onCalloutOff:function(){n.fireTracking("wonton-press-enter-send-uncheck-pop");this.ui.enterToSendCheckbox.prop("checked",
!1);this._doOnCheckboxChange()},onCalloutOk:function(){this.onSubmit()},onComposeTextareaSubmit:function(a){var b=this.callout;if(a.mentions)return!1;if(a.ctrlKey)a.preventDefault(),this.onSubmit();else if(this.ui.enterToSendCheckbox[0].checked)if(a.preventDefault(),b)d.hasItem("sendPrompt")?(b.close(),this.onSubmit()):(b.open(),d.setItem("sendPrompt",!1,Infinity,"/messaging"),d.setItem("sendPrompt",!1,Infinity,"/comm/messaging"));else this.onSubmit()},_doOnCheckboxChange:function(){var a=this.ui.enterToSendCheckbox[0].checked;
d.setItem("enterSend",a,k,"/messaging");d.setItem("enterSend",a,k,"/comm/messaging");this.ui.submit.toggleClass("hidden",a)},_reset:function(){var a=this.getRegion("attachmentRegion");this.composeTextarea.toggleDisabled(!1);this._hideError();this.ui.submit.removeClass("submitting");a.empty();this.thread.setDraft();this._validate();h.request("conversations").restartPolling()},_submitSticker:function(a){a=new z({recipients:this.model.getValidRecipients(),type:this.model.getType(),timestamp:(new Date).getTime(),
stickers:[a.model]},{collection:this.thread.getMessages()});this.saveEntity({message:a,alwaysCallback:function(){w.trigger("close:sticker:dropdown");window.RUM2.appRenderComplete()}})},_validate:function(){var a=this.model.isValid();this.ui.submit.attr("disabled",!a);a&&this._hideError();return a},_getErrorUiString:function(a){return l[E[a]]},_hideError:function(){this.triggerMethod("hide:error")},_showError:function(a){this.triggerMethod("show:error",a)},_getReplyAdsRefreshInterval:function(){var a=
q.get("wonton.ads.refresh.reply")||"control";return"control"===a?0:parseInt(a.slice(1))},_shouldRefreshAds:function(){return 0===this.replyAdsRefreshInterval?!1:0===this.replyAdsRefreshCounter++%this.replyAdsRefreshInterval},initializeCallout:function(){if(!d.hasItem("sendPrompt")){var a=new C({elem:this.ui.enterToSend[0]});e.bindEntityEvents(this,a,this.calloutEvents);this.callout=a}},getComposeTextarea:function(){this.composeTextarea||(this.composeTextarea=new x({model:this.model,thread:this.thread,
threadDetailState:this.threadDetailState}));return this.composeTextarea},initializeComposeTextarea:function(){var a=this.getComposeTextarea();this.listenTo(a,"composeTextarea:submit",this.onComposeTextareaSubmit);this.getRegion("composeTextareaRegion").show(this.composeTextarea);this.options.focusOnShow&&this.composeTextarea.focusOnTextarea()},showStickers:function(){if(!this.getOption("isSimpleReply")){var a=new y;this.getRegion("stickersRegion").show(a)}},showAttachments:function(){var a=this.getRegion("attachmentRegion");
a.hasView()||a.show(new B({collection:this.model.getAttachments()}))},submit:function(){var a=(new Date).getTime(),b=this.model;this.composeTextarea.syncModel();this.composeTextarea.toggleDisabled(!0);this.ui.submit.addClass("submitting").attr("disabled","disabled");b.setTimestamp(a);this.saveEntity({messageCallback:m.noop,alwaysCallback:window.RUM2.appRenderComplete})},saveEntity:function(a){a=a||{};var b=a.message||this.model,c=a.thread||this.thread,e=a.threadCallback||m.noop,d=a.messageCallback||
m.noop,k=a.alwaysCallback||m.noop;a=b.getValidRecipients();var g=0,r,f,t,s,l,v;if(c&&b){h.request("sync:conversations");if(q.isTreatment("wonton.composeMentions")&&(r=h.request("compose:mentions:delegator"))&&(r=r.getInstance(this.getRegion("composeTextareaRegion").currentView.el))){f=r.mentionsData;if(t=f.length)b.hasMentions=!0,n.fireTracking("wonton-mentions-sent"),3<t?n.fireTracking("wonton-mentions-sent-lots"):n.fireTracking("wonton-mentions-sent-"+t);for(v={text:b.get("body"),attributes:[]};g<
t;g++)s=f[g],l={start:s.index,length:s.length},l.type={"com.linkedin.voyager.messaging.text.Entity":{urn:"urn:li:"+(s.type||"member")+":"+s.id}},v.attributes.push(l);b.set("attributedBody",v);b.hasMentions&&b.initializeMentions();r.clearMentions()}c.isNew()?(window.RUM2.setPageKey(c.isConversationStarter?"wonton-home-compose-send":"wonton-compose-send"),d={wait:!0,success:p.bind(function(a,b,d){var f=d.xhr;e.apply(this,arguments);if(f&&f.getResponseHeader("X-Error-Code"))this.onError(a,f);else q.isTreatment("wonton.ads.refresh.conversationSend")&&
h.trigger("ads:refresh",{pageKey:"wonton-compose-send"});c.isConversationStarter&&this._reset();h.request("track:comscore","wonton-compose-send")},this),error:p.bind(this.onError,this),complete:k},q.isTreatment("wonton.queue.messages")&&(d.queue="messageQueue"),c.get("cachedName")&&2<=a.length&&c.set("name",c.get("cachedName")),c.save({timestamp:b.get("timestamp"),messages:[b],participants:a},d)):(window.RUM2.setPageKey("wonton-reply-send"),this._shouldRefreshAds()&&h.trigger("ads:refresh",{pageKey:"wonton-reply-send"}),
this._reset(),c.addMessage(b),this.thread.setDraft(),b.send(),d(),k())}},toggleFileInputLabelsFocus:function(a){p.each(a.target.labels,function(b){m(b).toggleClass("focus","focusin"===a.type)})},toggleDisabled:function(a){this.disabled=a=p.isUndefined(a)?!this.disabled:!!a;this.$el.toggleClass("disabled",a);a?(this.ui.formInputs.attr("disabled","disabled"),this.ui.formButtons.attr("disabled","disabled")):(this.ui.formInputs.removeAttr("disabled"),this.ui.formButtons.removeAttr("disabled"))}});c.exports("ComposeView",
g)})(window.LIModules);
(function(a){var b=a.requires("marionette").ItemView.extend({template:"templates/thread-detail/compose/disabled-compose",id:"disabled-compose",initialize:function(a){this.thread=a.thread},templateHelpers:function(){return{blockedReason:this.thread.getBlockedReason()}}});a.exports("DisabledComposeView",b)})(window.LIModules);
(function(c){var f=c.requires("underscore"),d=c.requires("marionette"),h=c.requires("Dropdowner"),e=c.requires("Utils"),d=d.ItemView.extend({template:"templates/thread-detail/compose/contact-info",id:"contact-info",className:"dropdown",ui:{emailCheckbox:"#email-checkbox",phoneCheckbox:"#phone-checkbox",phoneInput:"#contact-phone-input",emailSelect:"#contact-email-select"},modelEvents:{"change:shareEmail":"onShareEmailChange","change:sharePhone":"onSharePhoneChange"},events:{"keyup @ui.phoneInput":"onPhoneInputKeyEvent",
"paste @ui.phoneInput":"onPhoneInputKeyEvent"},triggers:{"change @ui.emailCheckbox":"emailCheckbox:change","change @ui.phoneCheckbox":"phoneCheckbox:change","change @ui.emailSelect":"emailSelect:change"},behaviors:{Dropdowner:{behaviorClass:h,orientation:"top left",closeOnClick:!1}},templateHelpers:function(){var a=e.getCurrentUser(),b=a.getEmails(),c=a.getPreferredEmail(),d=f.find(b,function(a){return a===c}),g=this.model;return{canShareEmail:g.canShareEmail(),canSharePhone:g.canSharePhone(),emails:b,
preferredEmailIndex:f.isNumber(d)?d:0,phone:a.getPhone()}},onShareEmailChange:function(a){var b=e.getCurrentUser();this.ui.emailCheckbox.prop("checked",a.canShareEmail());b.setPreferredEmail(this.ui.emailSelect.find(".email-value:selected").val())},onSharePhoneChange:function(a){var b=e.getCurrentUser();this.ui.phoneCheckbox.prop("checked",a.canSharePhone());b.setPhone(this.ui.phoneInput.val())},onEmailCheckboxChange:function(){this.model.setShareEmail(this.ui.emailCheckbox[0].checked)},onPhoneCheckboxChange:function(){this.model.setSharePhone(this.ui.phoneCheckbox[0].checked)},
onEmailSelectChange:function(){this.model.setShareEmail(!0)},onPhoneInputKeyEvent:function(){var a=e.getCurrentUser(),b=this.ui.phoneInput.val();a.setPhone(b);this.model.setSharePhone(!!b)},open:function(){this.triggerMethod("dropdown:open")},close:function(){this.triggerMethod("dropdown:close")}});c.exports("ContactInfoView",d)})(window.LIModules);
(function(b){var d=b.requires("underscore"),a=b.requires("ComposeTextarea"),e=b.requires("PageViewTracking");b.requires("Utils");d=a.extend({template:"templates/thread-detail/compose/inmail-compose-textarea",className:"inmail mentions-container",ui:d.extend({},a.prototype.ui,{quickReplies:"#quick-replies",quickReplyTrigger:"#quick-reply-trigger",quickReplyClose:".close-quick-replies",actionButton:".action-button"}),triggers:d.extend({},a.prototype.triggers,{"click @ui.quickReplyTrigger":"show:quickReplies",
"click @ui.quickReplyClose":"hide:quickReplies"}),events:d.extend({},a.prototype.events,{"click @ui.actionButton":"onSelectQuickReply"}),initialize:function(c){a.prototype.initialize.apply(this,arguments);this.isRecruiterInMail=!!c.isRecruiterInMail},onBeforeShow:function(){this.isRecruiterInMail||this.ui.quickReplyTrigger.addClass("hidden")},onShowQuickReplies:function(){this.ui.quickReplies.removeClass("hidden");this.ui.quickReplyTrigger.addClass("hidden");this.ui.textarea.addClass("hidden");this.toggleShimVisibility(!1)},
onHideQuickReplies:function(){this.ui.quickReplies.addClass("hidden");this.ui.quickReplyTrigger.removeClass("hidden");this.ui.textarea.removeClass("hidden");this.toggleShimVisibility(!0)},onChangeBody:function(c){a.prototype.onChangeBody.apply(this,arguments);this.isRecruiterInMail&&this.ui.quickReplyTrigger.toggleClass("hidden",!!this.model.getBody())},onSelectQuickReply:function(c){var a=$(c.currentTarget),b=a.data("accept");c.preventDefault();-1<c.currentTarget.className.indexOf("hear-more")?e.fireTracking("messaging_quickreply_interested"):
-1<c.currentTarget.className.indexOf("keep-in-touch")?e.fireTracking("messaging_quickreply_maybe_later"):e.fireTracking("messaging_quickreply_no_thanks");this.triggerMethod("hide:quickReplies");this.triggerMethod(b?"accept:inmail":"decline:inmail");this.model.setBody(a.data("message"));this.focusOnTextarea()},onAcceptInmail:function(){this.model.setAcceptAction()},onDeclineInmail:function(){this.model.setDeclineAction()}});b.exports("InmailComposeTextarea",d)})(window.LIModules);
(function(c){var e=c.requires("jquery"),d=c.requires("underscore"),f=c.requires("marionette");c.requires("ThreadMessageModel");var b=c.requires("ComposeView"),g=c.requires("ShareInfoModel"),h=c.requires("ContactInfoView"),k=c.requires("InmailComposeTextarea"),l=c.requires("LixValues"),e=b.extend({template:"templates/thread-detail/compose/inmail-compose",className:"inmail compose-box",ui:d.extend({},b.prototype.ui,{shareContactCheckbox:"#share-contact-info-checkbox",topActions:".compose-action-bar.top"}),
shareInfoEvents:{"change:shareEmail":"onChangeShareInfoShare","change:sharePhone":"onChangeShareInfoShare"},triggers:d.extend({},b.prototype.triggers,{"change @ui.shareContactCheckbox":"checkbox:change","click @ui.calloutTrigger":"toggle:callout"}),regions:d.extend({},b.prototype.regions,{contactInfoRegion:"#contact-info-region"}),initialize:function(a){b.prototype.initialize.apply(this,arguments);this._canShareContactInfo()&&(this.shareInfo=new g,f.bindEntityEvents(this,this.shareInfo,this.shareInfoEvents));
this.isRecruiterInMail=!!a.isRecruiterInMail;this._setAcceptAction()},templateHelpers:function(){var a=b.prototype.templateHelpers.apply(this,arguments);d.extend(a,{sender:this.thread.getNewestMessage().getSender().toJSON(),hasShareOption:this._canShareContactInfo(),isChecked:!1});return a},onAttach:function(){b.prototype.onAttach.apply(this,arguments);this.initializeContactInfo()},onBeforeShow:function(){b.prototype.onBeforeShow.apply(this,arguments);this.ui.enterToSend.addClass("hidden");this.ui.enterToSendCheckbox.attr("disabled",
"disabled")},onCheckboxChange:function(){this.shareInfo&&(this.shareInfo.setShare(this.ui.shareContactCheckbox[0].checked),this.contactInfo.open())},onDeclineInmail:function(){var a;this._canShareContactInfo()&&(a=this.shareInfo,a.setShareEmail(!1),a.setSharePhone(!1))},onShowQuickReplies:function(){this.ui.composeActionBar.addClass("hidden")},onHideQuickReplies:function(){this.ui.composeActionBar.removeClass("hidden")},onChangeShareInfoShare:function(){this.shareInfo&&this.ui.shareContactCheckbox.prop("checked",
this.shareInfo.canShareInfo())},onChangeBody:function(a){this.model.setBody(a)},onThreadChangeDraft:function(){b.prototype.onThreadChangeDraft.apply(this,arguments);this._canShareContactInfo()&&this._setAcceptAction()},_setAcceptAction:function(){var a=this.model;this._canShareContactInfo()?a.setAcceptAction(this._getShareInfo()):a.setAcceptAction()},_canShareContactInfo:function(){return this.thread.getNewestMessage().canShareContactInfo()},_getShareInfo:function(){if(this.shareInfo)return this.shareInfo.getShareInfo()},
initializeContactInfo:function(){this._canShareContactInfo()&&(this.contactInfo=new h({model:this.shareInfo}),this.getRegion("contactInfoRegion").show(this.contactInfo))},initializeComposeTextarea:function(){this.composeTextarea=new k({model:this.model,thread:this.thread,threadDetailState:this.threadDetailState,isRecruiterInMail:this.isRecruiterInMail});this.listenTo(this.composeTextarea,"decline:inmail",this.onDeclineInmail);this.listenTo(this.composeTextarea,"show:quickReplies",this.onShowQuickReplies);
this.listenTo(this.composeTextarea,"hide:quickReplies",this.onHideQuickReplies);this.getRegion("composeTextareaRegion").show(this.composeTextarea);this.isRecruiterInMail&&l.isTreatment("wonton.quickReplyAutoShow")&&this.composeTextarea.triggerMethod("show:quickReplies")},getComposeTextarea:function(){this.composeTextarea||this.initializeComposeTextarea();return this.composeTextarea},showStickers:e.noop,toggleDisabled:function(a){b.prototype.toggleDisabled.apply(this,arguments);this._canShareContactInfo()&&
(a?this.ui.shareContactCheckbox.attr("disabled","disabled"):this.ui.shareContactCheckbox.removeAttr("disabled"))},submit:function(){this._canShareContactInfo()&&!this.model.isDeclined()&&this.model.setAcceptAction(this._getShareInfo());b.prototype.submit.apply(this,arguments)},saveEntity:function(){b.prototype.saveEntity.apply(this,arguments);this.triggerMethod("inmail:replied")}});c.exports("InmailComposeView",e)})(window.LIModules);
(function(c){var e=c.requires("uuid"),f=c.requires("InboxChannel"),d=c.requires("TrackingQueue");c.exports("ConversationStartersTracking",new function(){function c(b){var a=window.location.href,d=document.referrer,g=f.request("pageKeys"),e="urn:li:page:"+g,h=f.request("locale");return{eventInfo:{topicName:b,eventName:b,appId:"com.linkedin.d_flagship3"},eventBody:{requestHeader:{path:a,referer:d,pageKey:g,interfaceLocale:h},header:{pageInstance:{pageUrn:e,trackingId:k},time:(new Date).getTime()},moduleKey:"desktop-inbox-conversation-starters"}}}
var k=e.generate(!0);return{trackImpression:function(b){var a=c("PropImpressionEvent");a.eventBody.entities=[b];d.add(a)},trackAction:function(b){var a=c("PropActionEvent");a.eventBody.trackingId=b.trackingId;a.eventBody.propUrn=b.propUrn;a.eventBody.actionCategory=b.actionCategory;a.eventBody.controlUrn="urn:li:control:"+f.request("pageKeys")+"-"+b.controlName;a.eventBody.actionType=b.actionType;d.add(a)},MODULE_KEY:"desktop-inbox-conversation-starters"}})})(window.LIModules);
(function(b){var d=b.requires("marionette"),f=b.requires("ConversationStarterModel"),c=b.requires("ConversationStartersTracking"),e=b.requires("InboxChannel"),g=b.requires("Utils"),h=b.requires("ComposeView"),k=b.requires("ThreadDetailState"),l=b.requires("ThreadModel"),m=b.requires("dust"),n=b.requires("jSecure"),d=d.LayoutView.extend({tagName:"li",className:"conversation-starter",ui:{showQuickReplyButton:".show-quick-reply",dismissButton:".dismiss-prop",composeButton:".compose-button"},events:{"click @ui.showQuickReplyButton":"_showQuickReplyButtonHandler",
"click @ui.dismissButton":"_trackConversationDismissed"},visibleAt:0,regions:{composeRegion:".compose-region"},templateHelpers:function(){var a;if(this.model.get("type")===f.TYPES.BIRTHDAY)switch(a=g.daysUntil(this.model.get("details").birthdayDetails.date),a){case -1:a="yesterday";break;case 0:a="today";break;case 1:a="tomorrow";break;default:a=0<a?"future":"past"}return{birthdayRelativeDate:a}},getTemplate:function(){var a=f.TYPES;switch(this.model.get("type")){case a.BIRTHDAY:return"templates/conversation-starters/types/birthday";
case a.JOB_CHANGE:return"templates/conversation-starters/types/job-change";case a.WORK_ANNIVERSARY:return"templates/conversation-starters/types/work-anniversary"}},initialize:function(){this.setVisibility(!0)},onDestroy:function(){this.setVisibility(!1)},setVisibility:function(a){!this.visibleAt&&a&&(this.visibleAt=(new Date).getTime());this.visibleAt&&!a&&(c.trackImpression({urn:this.model.get("urn"),visibleTime:this.visibleAt,duration:(new Date).getTime()-this.visibleAt,trackingId:this.model.get("trackingId"),
listPosition:{index:this.$el.index()+1},size:{width:this.$el.width(),height:this.$el.height()}}),this.visibleAt=0)},_conversationStarted:function(a){this._trackConversationStarted();this._showToast(a);this._addMessageToThreads()},_trackConversationExpanded:function(){c.trackAction({trackingId:this.model.get("trackingId"),propUrn:this.model.get("urn"),actionCategory:"EXPAND",controlName:"prop_action",actionType:"expandMessage"})},_trackConversationStarted:function(){c.trackAction({trackingId:this.model.get("trackingId"),
propUrn:this.model.get("urn"),actionCategory:"MESSAGE",controlName:"send_message",actionType:"message"})},_trackConversationDismissed:function(){c.trackAction({trackingId:this.model.get("trackingId"),propUrn:this.model.get("urn"),actionCategory:"DISMISS",controlName:"dismiss",actionType:"dismiss"});this.dismiss()},_addMessageToThreads:function(){var a=this._getComposeView();e.trigger("thread:created",a.thread);e.request("conversations").restartPolling()},_createComposeview:function(a){a=a||{};a=new l(null,
{composeFields:a,onSave:a.onSend});var b=new k({thread:a}),c=a.getDraft(),b=new h({model:c,thread:a,threadDetailState:b,isSimpleReply:!0});a.isConversationStarter=!0;return b},_setComposeView:function(a){this.composeView=a},_getComposeView:function(){return this.composeView},_showQuickReplyButtonHandler:function(a){a=$(a.target).closest("."+this.className);this.showQuickReply(a)},_showToast:function(a){a&&m.render("templates/conversation-starters/messaged-toast",{},_.bind(function(b,c){var d=$(n.parseHTML($.parseHTML(c))),
e=g.getActiveTransitionEvent(),f=this._getComposeView().$el;a.append(d);setTimeout(_.bind(this.dismiss,this),1500);f.on(e,function(){d.addClass("show")});this.toggleComposeViewActiveState(!1)},this))},showQuickReply:function(a){a&&a.length&&(this._setComposeView(this._createComposeview({isConversationStarter:!0,recipients:this.model.get("target"),body:g.geti18nString("i18n_compose_body_placeholder",this.getTemplate()),onSend:_.bind(this._conversationStarted,this,a)})),this._trackConversationExpanded(),
this.showComposeView())},showComposeView:function(a){if(a=a||this._getComposeView())this.$el.addClass("in-compose"),this.getRegion("composeRegion").show(a),this.toggleComposeViewActiveState(!0)},toggleComposeViewActiveState:function(a){var b=this._getComposeView();b&&(a?b.$el.addClass("active"):b.$el.removeClass("active"))},dismiss:function(){var a=this.$el.outerHeight(!0),b=g.getActiveTransitionEvent();this.$el.on(b,_.bind(function(){this.model.destroy();e.trigger("conversation:starter:dismissed")},
this));this.$el.addClass("dismissed").css({"margin-top":-1*a})}});b.exports("ConversationStartersItemView",d)})(window.LIModules);
(function(a){var c=a.requires("underscore"),b=a.requires("marionette"),d=a.requires("TrackingQueue"),e=a.requires("ConversationStartersItemView"),b=b.CollectionView.extend({tagName:"ul",className:"conversation-starters-list",childView:e,initialize:function(){this.onDocumentVisibilityChange=c.bind(function(){this.setVisibility("visible"===document.visibilityState)},this);document.addEventListener("visibilitychange",this.onDocumentVisibilityChange);this.onWindowBeforeUnload=c.bind(function(){this.setVisibility(!1);
d.flush(!1)},this);window.addEventListener("beforeunload",this.onWindowBeforeUnload)},setVisibility:function(a){this.children.call("setVisibility",a)},onDestroy:function(){document.removeEventListener("visibilitychange",this.onDocumentVisibilityChange);window.removeEventListener("beforeunload",this.onWindowBeforeUnload)}});a.exports("ConversationStartersListView",b)})(window.LIModules);
(function(a){var c=a.requires("underscore"),b=a.requires("marionette"),d=a.requires("InboxChannel"),e=a.requires("PageViewTracking"),f=a.requires("Utils");a.requires("ComposeView");b=b.LayoutView.extend({tagName:"li",className:"close-connection",template:"templates/conversation-starters/close-connection",ui:{sendMessageButton:".send-message-button"},triggers:{"click @ui.sendMessageButton":"action:sendMessage"},onActionSendMessage:function(){d.trigger("compose:thread",{recipients:this.model,body:f.geti18nString("i18n_compose_body_placeholder",
this.getTemplate()),onSend:c.bind(this.onSendComplete,this),isConversationStarter:!0})},onSendComplete:function(){e.fireTracking("wonton-holiday-promo-send");this.options.collection.remove(this.model)}});a.exports("CloseConnectionsItemView",b)})(window.LIModules);
(function(a){var b=a.requires("marionette"),c=a.requires("CloseConnectionsItemView"),b=b.CollectionView.extend({tagName:"ul",className:"close-connections-list",childView:c,childViewOptions:function(){return{collection:this.collection}}});a.exports("CloseConnectionsListView",b)})(window.LIModules);
(function(a){var b=a.requires("marionette"),c=a.requires("CloseConnectionsListView"),d=a.requires("ConversationStartersListView"),e=a.requires("Utils"),b=b.LayoutView.extend({id:"conversation-starters",template:"templates/conversation-starters/conversation-starters",ui:{closeHomeButton:".close-home-button",newMessageButton:".new-message-button"},regions:{closeConnectionsList:".close-connections-list-region",conversationStartersList:".conversation-starters-list-region"},triggers:{"click @ui.closeHomeButton":"action:closeHome",
"click @ui.newMessageButton":"action:compose"},onRender:function(){this.getRegion("closeConnectionsList").show(new c({collection:this.options.closeConnections}));this.getRegion("conversationStartersList").show(new d({collection:this.options.conversationStarters}))},templateHelpers:function(){return{currentUser:e.getCurrentUser().toJSON(),hasConversationStarters:0<this.options.conversationStarters.length,hasCloseConnections:0<this.options.closeConnections.length}}});a.exports("ConversationStartersView",
b)})(window.LIModules);
(function(a){var b=a.requires("underscore"),c=a.requires("ComposeTextarea"),d=a.requires("PageViewTracking");a.requires("Utils");b=c.extend({template:"templates/thread-detail/compose/inmail-compose-textarea-mini",className:"inmail",ui:b.extend({},c.prototype.ui,{miniActionButton:".mini-action",miniQuickReply:"#mini-quick-reply"}),events:b.extend({},c.prototype.events,{"click @ui.miniActionButton":"onSelectMiniQuickReply"}),templateHelpers:function(){return{lastSender:this.model.collection.getNewestSynced().getSender().toJSON(),
variantEnabled:!0,showMiniMaybe:!0}},onShowMiniQuickReply:function(){this.ui.miniQuickReply.removeClass("hidden");this.ui.textarea.addClass("hidden");this.toggleShimVisibility(!1)},onHideMiniQuickReply:function(){this.ui.miniQuickReply.addClass("hidden");this.ui.textarea.removeClass("hidden");this.toggleShimVisibility(!1)},onSelectMiniQuickReply:function(a){var b=$(a.currentTarget),c=b.data("accept");a.preventDefault();-1<a.currentTarget.className.indexOf("reply")?d.fireTracking("messaging_quickreply_b_reply"):
-1<a.currentTarget.className.indexOf("maybe")?d.fireTracking("messaging_quickreply_b_maybe_later"):d.fireTracking("messaging_quickreply_b_not_interested");this.triggerMethod("hide:miniQuickReply");this.triggerMethod(c?"accept:inmail":"decline:inmail");this.model.setBody(b.data("message"));this.focusOnTextarea()},onAcceptInmail:function(){this.model.setAcceptAction()},onDeclineInmail:function(){this.model.setDeclineAction()}});a.exports("InmailComposeTextareaMiniB",b)})(window.LIModules);
(function(b){var c=b.requires("underscore"),e=b.requires("ComposeTextarea"),d=b.requires("PageViewTracking");b.requires("Utils");c=e.extend({template:"templates/thread-detail/compose/inmail-compose-textarea-mini",className:"inmail",ui:c.extend({},e.prototype.ui,{quickReplies:"#quick-replies",quickReplyClose:".close-quick-replies",actionButton:".action-button",miniActionButton:".mini-action",miniQuickReply:"#mini-quick-reply",quickReplySend:"#quick-replies .message-submit",quickReplyCancel:"#quick-replies .message-cancel",
notInterested:".compose-textarea-actions .not-interested"}),triggers:c.extend({},e.prototype.triggers,{"click @ui.quickReplyClose":"hide:quickReplies","click @ui.quickReplySend":"submit:quickReply"}),events:c.extend({},e.prototype.events,{"click @ui.actionButton":"onSelectQuickReply","click @ui.quickReplyCancel":"onQuickReplyCancel","click @ui.miniActionButton":"onSelectMiniQuickReply"}),templateHelpers:function(){return{lastSender:this.model.collection.getNewestSynced().getSender().toJSON(),variantEnabled:!0,
showMiniMaybe:!1}},onShowQuickReplies:function(){this.ui.quickReplies.removeClass("hidden");this.ui.textarea.addClass("hidden");this.toggleShimVisibility(!1)},onHideQuickReplies:function(){this.ui.quickReplies.addClass("hidden");this.ui.textarea.removeClass("hidden");this.toggleShimVisibility(!0)},onShowMiniQuickReply:function(){this.ui.quickReplies.addClass("hidden");this.ui.textarea.addClass("hidden");this.ui.miniQuickReply.removeClass("hidden");this.toggleShimVisibility(!1)},onHideMiniQuickReply:function(){this.ui.miniQuickReply.addClass("hidden");
this.ui.quickReplies.addClass("hidden");this.ui.textarea.addClass("hidden");this.toggleShimVisibility(!1)},onQuickReplyCancel:function(a){a&&a.preventDefault();this.model.setBody("");this.triggerMethod("show:miniQuickReply");this.triggerMethod("accept:inmail");this.ui.actionButton.removeClass("selected");this.ui.quickReplySend.attr("disabled",!0)},onSelectQuickReply:function(a){var f=$(a.currentTarget),b=f.data("accept");a.preventDefault();-1<a.currentTarget.className.indexOf("hear-more")?d.fireTracking("messaging_quickreply_c_maybe_later"):
-1<a.currentTarget.className.indexOf("keep-in-touch")?d.fireTracking("messaging_quickreply_c_not_the_right_position"):d.fireTracking("messaging_quickreply_c_no_thanks");this.triggerMethod(b?"accept:inmail":"decline:inmail");this.model.setBody(f.data("message"));f.siblings().removeClass("selected");f.addClass("selected");this.ui.quickReplySend.attr("disabled",!1)},onSelectMiniQuickReply:function(a){var b=$(a.currentTarget),c=b.data("accept");a.preventDefault();-1<a.currentTarget.className.indexOf("reply")?
d.fireTracking("messaging_quickreply_c_reply"):d.fireTracking("messaging_quickreply_c_not_interested");this.triggerMethod("hide:miniQuickReply");this.triggerMethod(c?"accept:inmail":"decline:inmail");c?(this.triggerMethod("hide:quickReplies"),this.model.setBody(b.data("message")),this.focusOnTextarea()):this.triggerMethod("show:quickReplies")},onAcceptInmail:function(){this.model.setAcceptAction()},onDeclineInmail:function(){this.model.setDeclineAction()}});b.exports("InmailComposeTextareaMiniC",
c)})(window.LIModules);
(function(b){var c=b.requires("underscore"),d=b.requires("ComposeTextarea"),e=b.requires("PageViewTracking");b.requires("Utils");c=d.extend({template:"templates/thread-detail/compose/inmail-compose-textarea-mini",className:"inmail",ui:c.extend({},d.prototype.ui,{quickReplies:"#quick-replies",quickReplyClose:".close-quick-replies",actionButton:".action-button",quickReplySend:"#quick-replies .message-submit",quickReplyCancel:"#quick-replies .message-cancel",notInterested:".compose-textarea-actions .not-interested"}),
triggers:c.extend({},d.prototype.triggers,{"click @ui.quickReplyClose":"hide:quickReplies","click @ui.quickReplySend":"submit:quickReply"}),events:c.extend({},d.prototype.events,{"click @ui.actionButton":"onSelectQuickReply","click @ui.quickReplyCancel":"onQuickReplyCancel","click @ui.notInterested":"onSelectMiniQuickReply"}),templateHelpers:function(){return{lastSender:this.model.collection.getNewestSynced().getSender().toJSON(),variantEnabled:!0,showMiniMaybe:!1}},onShowQuickReplies:function(){this.ui.quickReplies.removeClass("hidden");
this.ui.textarea.addClass("hidden");this.toggleShimVisibility(!1)},onHideQuickReplies:function(){this.ui.quickReplies.addClass("hidden");this.ui.textarea.removeClass("hidden");this.toggleShimVisibility(!0)},onShowMiniQuickReply:function(){this.ui.quickReplies.addClass("hidden");this.ui.textarea.removeClass("hidden");this.ui.notInterested.removeClass("hidden")},onHideMiniQuickReply:function(){this.ui.notInterested.addClass("hidden")},onQuickReplyCancel:function(a){a&&a.preventDefault();this.model.setBody("");
this.triggerMethod("show:miniQuickReply");this.triggerMethod("accept:inmail");this.ui.actionButton.removeClass("selected");this.ui.quickReplySend.attr("disabled",!0)},onChangeBody:function(a){d.prototype.onChangeBody.apply(this,arguments);this.model.getBody()?this.triggerMethod("hide:miniQuickReply"):this.triggerMethod("show:miniQuickReply")},onSelectQuickReply:function(a){var f=$(a.currentTarget),b=f.data("accept");a.preventDefault();-1<a.currentTarget.className.indexOf("hear-more")?e.fireTracking("messaging_quickreply_d_maybe_later"):
-1<a.currentTarget.className.indexOf("keep-in-touch")?e.fireTracking("messaging_quickreply_d_not_the_right_position"):e.fireTracking("messaging_quickreply_d_no_thanks");this.triggerMethod(b?"accept:inmail":"decline:inmail");this.model.setBody(f.data("message"));f.siblings().removeClass("selected");f.addClass("selected");this.ui.quickReplySend.attr("disabled",!1)},onSelectMiniQuickReply:function(a){var b=$(a.currentTarget).data("accept");a.preventDefault();-1<a.currentTarget.className.indexOf("not-interested")&&
e.fireTracking("messaging_quickreply_d_not_interested");this.triggerMethod("hide:miniQuickReply");this.triggerMethod(b?"accept:inmail":"decline:inmail");this.triggerMethod("show:quickReplies")},onAcceptInmail:function(){this.model.setAcceptAction()},onDeclineInmail:function(){this.model.setDeclineAction()}});b.exports("InmailComposeTextareaMiniD",c)})(window.LIModules);
(function(a){a.requires("jquery");var d=a.requires("underscore"),e=a.requires("marionette");a.requires("ThreadMessageModel");a.requires("ComposeView");var b=a.requires("InmailComposeView");a.requires("ShareInfoModel");a.requires("ContactInfoView");var f=a.requires("InmailComposeTextareaMiniB"),g=a.requires("InmailComposeTextareaMiniC"),h=a.requires("InmailComposeTextareaMiniD"),c=a.requires("LixValues"),k=b.extend({className:"inmail variant",ui:d.extend({},b.prototype.ui,{cancel:".message-cancel"}),
events:d.extend({},b.prototype.events,{"click @ui.cancel":"onCancel","click @ui.notInterested":"onNotInterested"}),composeTextareaEvents:{"decline:inmail":"onDeclineInmail","submit:quickReply":"submit","show:miniQuickReply":"onShowMiniQuickReply","hide:miniQuickReply":"onHideMiniQuickReply","show:quickReplies":"onShowQuickReplies","hide:quickReplies":"onHideQuickReplies"},templateHelpers:function(){var a=b.prototype.templateHelpers.apply(this,arguments);d.extend(a,{hasCancelButton:!c.isControl("wonton.quickReplyVariants")});
return a},onCancel:function(a){a&&a.preventDefault();this.model.setBody("");this.composeTextarea.triggerMethod("show:miniQuickReply")},onShowQuickReplies:function(){this.ui.composeActionBar.addClass("hidden")},onHideQuickReplies:function(){this.ui.composeActionBar.removeClass("hidden")},onShowMiniQuickReply:function(){"D"===c.get("wonton.quickReplyVariants")?(this.ui.composeActionBar.addClass("invisible"),this.ui.composeActionBar.removeClass("hidden")):(this.el.classList.add("mini"),this.onShowQuickReplies())},
onHideMiniQuickReply:function(){"D"===c.get("wonton.quickReplyVariants")?this.ui.composeActionBar.removeClass("invisible"):(this.el.classList.remove("mini"),this.onHideQuickReplies())},initializeComposeTextarea:function(){var a={model:this.model,thread:this.thread,threadDetailState:this.threadDetailState};switch(c.get("wonton.quickReplyVariants")){case "B":this.composeTextarea=new f(a);break;case "C":this.composeTextarea=new g(a);break;default:this.composeTextarea=new h(a)}e.bindEntityEvents(this,
this.composeTextarea,this.composeTextareaEvents);this.getRegion("composeTextareaRegion").show(this.composeTextarea);this.composeTextarea.triggerMethod("show:miniQuickReply")}});a.exports("InmailComposeViewMini",k)})(window.LIModules);
(function(b){var c=b.requires("backbone").Model.extend({url:"/inbox/detail",_fetchXhr:void 0,fetchContent:function(){this.contentFetched||(this._fetchXhr=this.fetch({data:{itemId:this.id},beforeSend:function(a){a.setRequestHeader("X-FS-SSR-Embed-Render-Server",1)},success:_.bind(function(){this.contentFetched=!0},this),dataType:"html"}))},abortFetchRequests:function(){this._fetchXhr&&this._fetchXhr.abort()},parse:function(a){return{htmlContent:a}}});b.exports("SponsoredInmailModel",c)})(window.LIModules);
(function(a){var b=a.requires("marionette"),c=a.requires("LazyLoader"),b=b.ItemView.extend({template:"templates/thread-detail/sponsored-inmail/sponsored-inmail-sender",id:"participants-view",templateHelpers:function(){return{sender:this.model.getSender().toJSON(),lazyLoadImages:c.shouldLazyLoad()}}});a.exports("SponsoredInmailSenderView",b)})(window.LIModules);
(function(c){var d=c.requires("marionette"),f=c.requires("Loader"),e=c.requires("InboxChannel"),d=d.ItemView.extend({template:"templates/thread-detail/sponsored-inmail/sponsored-inmail-detail",className:"sponsored-inmail-detail scroller",ui:{form:"form",anchor:".leadGen-anchor",checkbox:'input[type\x3d"checkbox"][name\x3d"shareEmail"]',completeMsg:"#leadGen-complete"},events:{"submit @ui.form":"leadGenSubmit","click @ui.anchor":"leadGenSubmit","click @ui.checkbox":"updateLeadGenUrl"},modelEvents:{sync:"render"},
behaviors:{Loader:{behaviorClass:f,listenToCollection:!1}},initialize:function(a){this.thread=a.thread;this.listenTo(this.thread,"change:actioned",this.toggleActioned)},onRender:function(){var a=this.model.get("htmlContent"),b=this._getSponsoredInmailAd(a);this.$el.html(a);this.bindUIElements();b&&(e.trigger("ads:showSponsoredInmailAd",b),this.sponsoredInMailAdShown=!0);this.toggleActioned()},onDestroy:function(){this.sponsoredInMailAdShown&&e.trigger("ads:hideSponsoredInmailAd")},_getSponsoredInmailAd:function(a){var b=
$(a).find("#sponsored-inmail-context");a=b.data("li-ad-unit-image-url");b=b.data("li-action-url");return a?{imageUrl:a,actionUrl:b}:!1},updateLeadGenUrl:function(){var a=this.ui.checkbox.is(":checked")?"share-email-url":"dont-share-email-url",a=this.ui.form.data(a);this.ui.anchor.attr("href",a);this.ui.form.attr("action",a)},leadGenSubmit:function(a){a.preventDefault();$.ajax({url:this.ui.anchor.attr("href"),method:"GET"});this.thread.markAsActioned()},toggleActioned:function(){this.thread.isActioned()&&
(this.ui.form.hide(),this.ui.completeMsg.show())}});c.exports("SponsoredInmailDetailView",d)})(window.LIModules);
(function(b){var c=b.requires("marionette"),d=b.requires("SponsoredInmailSenderView"),e=b.requires("SponsoredInmailDetailView"),f=b.requires("ThreadDetailBehavior"),g=b.requires("InboxChannel"),c=c.LayoutView.extend({template:"templates/thread-detail/container",id:"sponsored-inmail-layout",attributes:{"data-jump-link-id":"active-conversation-details",tabindex:"-1"},regions:{participantsRegion:"#participants-region",messagesRegion:"#messages-region"},behaviors:{ThreadDetailBehavior:{behaviorClass:f}},
onShow:function(){var a=this.model.getMessages();a&&(a.syncedOnce||a.donePaging)&&g.trigger("threaddetail:shown")},onBeforeShow:function(){this.showSender();this.showDetail()},onDestroy:function(){this.model.sponsoredInMailModel.abortFetchRequests()},showSender:function(){var a=new d({model:this.model.getNewestSyncedMessage()});this.getRegion("participantsRegion").show(a)},showDetail:function(){var a=new e({model:this.model.sponsoredInMailModel,thread:this.model});this.getRegion("messagesRegion").show(a)},
setInitialThreadFocus:function(){this.$el.focus()}});b.exports("SponsoredInmailLayoutView",c)})(window.LIModules);
(function(c){var e=c.requires("underscore"),f=c.requires("marionette"),h=c.requires("ErrorHandler"),k=c.requires("Utils"),l=c.requires("PageViewTracking"),g=c.requires("InboxChannel"),d={i18n_select_any_message_to_perform_action:"",i18n_num_messages_selected:"",i18n_bulk_select_mode_exit:""},f=f.ItemView.extend({getTemplate:function(){var a=this.threadDetailState,b=a.MODES;switch(a.getMode()){case b.BULK_FORWARD:return"templates/thread-detail/prompts/bulk-forward";case b.BULK_SPAM:return"templates/thread-detail/prompts/bulk-spam";
default:return""}},id:"prompt-view",ui:{cancelAction:".cancel-action",reportAsSpamAction:".report-as-spam-action",forwardAction:".forward-action"},triggers:{"click @ui.cancelAction":"cancel","click @ui.reportAsSpamAction":"reportAsSpam","click @ui.forwardAction":"forward"},behaviors:{ErrorHandler:{behaviorClass:h}},initialize:function(a){this.threadDetailState=a.threadDetailState;this.listenTo(this.threadDetailState.getSelectedMessages(),"update",this.onStateUpdateSelectedMessages)},templateHelpers:function(){return{messagesSelected:this.threadDetailState.getNumOfSelectedMessages()}},
onShow:function(){this._calci18nStrings("templates/thread-detail/prompts/base")},onStateUpdateSelectedMessages:function(){var a=this.threadDetailState,b=a.getNumOfSelectedMessages();a.inDefaultMode()||this.render();this._calci18nStrings("templates/thread-detail/prompts/base",{messagesSelected:this.threadDetailState.getNumOfSelectedMessages()});this._hideError();g.trigger("announce",0<b?d.i18n_num_messages_selected:d.i18n_select_any_message_to_perform_action)},onCancel:function(){this.threadDetailState.reset();
this._calci18nStrings("templates/main-page");g.trigger("announce",d.i18n_bulk_select_mode_exit)},onReportAsSpam:function(){var a=this.threadDetailState,b=a.reportSelectedMessagesAsSpam();this._hideError();b.done(e.bind(a.reset,a)).fail(e.bind(this._showError,this))},onForward:function(){l.fireTracking("wonton-forward");this.threadDetailState.forwardSelectedMessages()},_hideError:function(){this.triggerMethod("hide:error")},_showError:function(a,b,c){"abort"!==b&&this.triggerMethod("show:error")},
_calci18nStrings:function(a,b){e.extend(d,k.geti18nStrings(d,a,b))}});c.exports("PromptView",f)})(window.LIModules);
(function(c){var f=c.requires("underscore"),h=c.requires("marionette"),r=c.requires("ComposeView"),m=c.requires("Mentions"),s=c.requires("EditGroupNameView"),t=c.requires("DisabledComposeView"),n=c.requires("InmailComposeView"),u=c.requires("InmailComposeViewMini"),v=c.requires("ThreadMessagesListView"),w=c.requires("PillBoxListView"),x=c.requires("ParticipantsListView"),y=c.requires("ParticipantsView"),z=c.requires("ActionsView"),A=c.requires("PromptView"),B=c.requires("ThreadDetailBehavior"),C=
c.requires("ThreadDetailState"),p=c.requires("ThreadMessageModel"),k=c.requires("InboxChannel"),e=c.requires("LixValues"),q=c.requires("Utils"),l={ACTIVE:"notifyall",ACTIVE_FOR_MENTIONS_ONLY:"mention",MUTE:"muted"},h=h.LayoutView.extend({template:"templates/thread-detail/container",id:"thread-layout",attributes:{"data-jump-link-id":"active-conversation-details",tabindex:"-1"},ui:{invitationStatusRegion:"#invitation-status-region",actionStatusBar:"#action-status-bar"},regions:{participantsListRegion:"#participants-list-region",
participantsRegion:"#participants-region",actionsRegion:"#actions-region",promptRegion:"#prompt-region",messagesRegion:"#messages-region",composeRegion:"#compose-region",nameGroupRegion:"#name-group-region"},keyboardShortcuts:{"ctrl+alt+d":"setInitialThreadFocus"},modelEvents:{hydrate:"onHydrate","change:notificationStatus":"onNotificationChange"},childEvents:{"inmail:replied":"onInmailReplied","mark:as:leave:action":"onConversationLeave","mark:as:return:action":"onConversationReturn","show:edit:group:name":"onShowEditGroupName",
"invitation:accept":"onInvitationAccept","invitation:reject":"onInvitationReject","lss:unsubscribe:complete":"onLssUnsubscribeComplete"},behaviors:{ThreadDetailBehavior:{behaviorClass:B}},initialize:function(){var a=this.model;this.state=new C({thread:a});this.listenTo(this.state,"change:mode",this.onStateChangeMode);a.hasDraft()?a.isCustomReply()&&a.setInvitation():a.setDraft();this.listenTo(a.getMessages(),"update",this.onThreadMessagesChange);e.isTreatment("wonton.composeMentions")&&k.reply("compose:mentions:delegator",
function(){return this.mentionsDelegator||!1},this)},templateHelpers:function(){var a=this.model.getInvitation(),b=this.model.isNew(),d=a?a.isSentInvitation():!1,c=a?a.isPendingInvitation()&&!b:!1,a=d?a.getTimestamp():"",g=e.isEnabled("wonton.enableInvitationReply");return{isNewThread:b,isSentInvitation:g&&d,isPendingInvitation:g&&c,invitationSentDate:a}},onShow:function(){var a=this.model,b=l[a.get("notificationStatus")]||"",a=a.getMessages();e.isTreatment("wonton.composeMentions")&&this.$el.addClass(b);
a&&(a.syncedOnce||a.donePaging)&&k.trigger("threaddetail:shown")},onBeforeShow:function(){this.model.isNew()?this.showPillBoxListView():this.showParticipants();e.isEnabled("wonton.enableNameConversation_edit")&&this.model.isAlive()&&this.addEditGroupNameView();this.showCompose();this.setEditMode()},onDestroy:function(){this.model.getMessages().abortFetchRequests()},onStateChangeMode:function(a,b){var d=this.$el,c=a.MODES;this.model.isNew()||(d.removeClass(f.values(c).join(" ")),d.addClass(b),d.removeClass("in-add-mode in-select-mode in-list-mode"),
b===c.ADD_PARTICIPANT?d.addClass("in-add-mode"):b===c.PARTICIPANT_LIST?(d.addClass("in-list-mode"),this.showParticipantsList()):b!==c.DEFAULT&&(d.addClass("in-select-mode"),this.showPrompt()))},onHydrate:function(){this.render();this.showParticipants();this.model.setDraft();this.showCompose();this.setEditMode();e.isEnabled("wonton.enableNameConversation")&&this.addEditGroupNameView()},onNotificationChange:function(){var a=this.$el,b=this.model.get("notificationStatus");e.isTreatment("wonton.composeMentions")&&
Object.keys(l).forEach(function(d){a.toggleClass(l[d],d===b)})},onInmailReplied:function(){this.showCompose(!0)},onThreadMessagesChange:function(){var a=this.model.getNewestMessage(),b=this.getRegion("composeRegion").currentView;b instanceof n&&a.getType()!==a.TYPES.INMAIL&&(a=b.getComposeTextarea().ui.textarea.val(),this.showCompose(),a&&(b=this.getRegion("composeRegion").currentView,b.getComposeTextarea().ui.textarea.val(a)))},onConversationLeave:function(){this.showCompose()},onConversationReturn:function(){this.showCompose()},
onShowEditGroupName:function(){this.editGroupNameView.showForm()},onInvitationAccept:function(){this.model.getInvitation().acceptInvite().done(f.bind(this.onInvitationActionDone,this,!0))},onInvitationReject:function(){this.model.getInvitation().ignoreInvite().done(f.bind(this.onInvitationActionDone,this,!1))},onLssUnsubscribeComplete:function(a,b){this.showActionStatus(b)},onInvitationActionDone:function(a){var b,d=this.model;b=d.getInvitation();var c=a?"i18n_connected":"i18n_declined",e=a?{name:d.getInvitationSenderName()}:
{};this.ui.invitationStatusRegion.hide();b.setInvitationResolved();this.showActions();b=q.geti18nString(c,this.template,e);this.showActionStatus(b);a&&(a=d.getNewestMessage().getValidRecipients(),b=q.getCurrentUser(),a.remove(b),a=new p({recipients:a,sender:b,type:p.TYPES.INVITATION_ACCEPTED,timestamp:Date.now()},{collection:d.getMessages()}),d.getMessages().add(a))},showActionStatus:function(a){this.ui.actionStatusBar.text(jSecure.htmlUnencode(a)).show()},hideActionStatus:function(){this.ui.actionStatusBar.hide()},
showPillBoxListView:function(){var a=this.model,a=new w({model:a.getDraft(),thread:a});this.getRegion("participantsRegion").show(a)},addEditGroupNameView:function(){var a=this.model,b=a.isNew();this.editGroupNameView=new s({model:a,draft:a.getDraft(),mode:b?"COMPOSE":"EDIT"});this.getRegion("nameGroupRegion").show(this.editGroupNameView)},showParticipants:function(){var a=this.model,a=new y({model:a.getNewestMessage()||a.getDraft(),thread:a,threadDetailState:this.state});this.getRegion("participantsRegion").show(a)},
showParticipantsList:function(){var a=this.model,a=new x({model:a.getNewestMessage()||a.getDraft(),thread:a,threadDetailState:this.state,threadLayoutView:this});this.getRegion("participantsListRegion").show(a);a.setDefaultFocus()},showActions:function(){var a=new z({model:this.model,threadDetailState:this.state});this.getRegion("actionsRegion").show(a)},showMessages:function(){var a=this.model.getMessages(),b=new v({collection:a,model:this.model,threadDetailState:this.state});this.model.isNew()||
a.fetchInitial();this.getRegion("messagesRegion").show(b)},getComposeView:function(a){var b=this.model,c=b.getNewestMessage()||b.getDraft();a={model:b.getDraft(),thread:b,threadDetailState:this.state,focusOnShow:a||c.isConversationStarter()};b.isBlocked()||!b.isAlive()?b=new t(a):c.isType(c.TYPES.INMAIL)&&!c.isFromCurrentUser()?(a.isRecruiterInMail=c.isRecruiterInMail(),b=e.isControl("wonton.quickReplyVariants")||!a.isRecruiterInMail?new n(a):new u(a)):b=new r(a);return b},showCompose:function(a){var b=
this.model,c=this.getRegion("composeRegion");a=this.getComposeView(a);var f=[],g={mentionsTL:"templates/thread-detail/mentions/mention-match"};c.show(a);e.isTreatment("wonton.composeMentions")&&b.isAddable()&&(b.isNew()||(f=b.getMentionDataSet()),g.mentionsThread={dataset:f},this.mentionsDelegator?c.$el[0].classList.contains("hasMentionsDelegator")||(this.mentionsDelegator=new m.Delegator(c.$el,g)):this.mentionsDelegator=new m.Delegator(c.$el,g))},showPrompt:function(){var a=new A({threadDetailState:this.state});
this.getRegion("promptRegion").show(a)},setEditMode:function(){var a=this.model.isNew();this.$el.toggleClass("new-thread",a);a||(this.showActions(),this.showMessages(),this.model.hasPendingInvitation()&&k.request("sync:conversations"))},focusRegion:function(a){switch(a){case "participantsRegion":this.getRegion(a).currentView.setInitialFocus();break;default:this.setInitialThreadFocus()}},setInitialThreadFocus:function(){this.$el.focus()}});c.exports("ThreadLayoutView",h)})(window.LIModules);
(function(a){var b=a.requires("marionette"),d=a.requires("docCookies"),e=a.requires("InboxChannel"),f=a.requires("Utils"),g=a.requires("InboxTour"),h=a.requires("LegoData"),c,b=b.ItemView.extend({template:"templates/right-rail/learn-more",id:"learn-more",events:{"click .close":"onClose",transitionend:"destroy"},triggers:{"click .start-tour":"tour:start"},initialize:function(){c=a.requires("PlayLego")},onShow:function(){var a=h.get("messaging_learn_more");c.fireImpressionEvent([a&&a.trackingToken])},
onClose:function(){this._setDisabledCookie();this._dismiss()},templateHelpers:function(){return{invitationsUrl:e.request("config").urls.invitationsUrl,firstName:f.getCurrentUser().getFirstName()}},onTourStart:function(){g.run()},_setDisabledCookie:function(){d.setItem("X-LinkedIn-Learn-More-Enabled",!1,Infinity,"/messaging")},_dismiss:function(){var a=this.$el.height();this.$el.addClass("dismissed").css("margin-top",-a)}},{COOKIE_NAME:"X-LinkedIn-Learn-More-Enabled"});a.exports("LearnMoreView",b)})(window.LIModules);
(function(c){var h=c.requires("jquery"),f=c.requires("underscore"),m=c.requires("marionette"),g=c.requires("backbone"),t=c.requires("ThreadModel"),u=c.requires("ControlsView"),v=c.requires("ThreadListView"),w=c.requires("ThreadLayoutView"),n=c.requires("LearnMoreView");c.requires("ConversationStartersCollection");var x=c.requires("ConversationStartersView");c.requires("ConversationStartersTracking");c.requires("ConnectionCollection");var y=c.requires("AnnouncerView"),z=c.requires("TopTextAdView"),
A=c.requires("DisplayAdsView"),B=c.requires("KeyboardShortcutsListModalView"),C=c.requires("SponsoredInmailModel"),D=c.requires("SponsoredInmailLayoutView"),p=c.requires("PageViewTracking"),E=c.requires("LegoData"),q=c.requires("Utils"),k=c.requires("LixValues"),l=c.requires("docCookies"),d=c.requires("InboxChannel"),r=c.requires("SyncQueue").create("messageQueue"),F=m.LayoutView.extend({el:"#inbox-main",template:"templates/main-page",tagName:"div",id:"inbox-main",COMPOSE_PAGE_KEY:"wonton-compose-send",
childEvents:{"action:navigateToHome":"navigateToHome","action:closeHome":"closeConversationStarters","action:compose":"composeNewThread"},inboxChannelEvents:{"change:conversations":"showThreadList","show:modal":"showModal","modal:hidden":"onModalHidden","compose:thread":"composeNewThread","thread:created":"addThreadToList","conversation:starter:dismissed":"onConversationStarterDismissed"},keyboardShortcuts:{"ctrl+alt+c":"onShortcutCompose","?":"onShortcutKeyboardShortcutList"},regions:{inboxLeftRegion:"#inbox-list",
inboxCenterRegion:"#inbox-body",topTextAdRegion:"#top-text-ad-region",displayAdsRegion:"#display-ads-region",controlsRegion:"#inbox-actions",learnMoreRegion:"#learn-more-region",conversationStartersRegion:"#conversation-starters-region",modalRegion:"#modal-region"},hasDraft:!1,initialize:function(a){this.thread=a.thread;this.threads=a.threads;this.conversationStarters=a.conversationStarters;this.closeConnections=a.closeConnections;m.bindEntityEvents(this,d,this.inboxChannelEvents);d.reply("show:modal",
f.bind(this.showModal,this))},onRender:function(){var a=k.get("chrome.apollo1"),a=a&&0===a.indexOf("treatment");this.$el.toggleClass("apollo-nav",a);h(window).on("beforeunload",function(){if(r.isProcessing||0<r.calls.length)return q.geti18nString("i18n_unsent_messages_pending","templates/main-page")})},onDestroy:function(){h(window).off("beforeunload.unfinishedCompose")},onDraftSyncDestroy:function(){this.toggleHasDraft()},onShortcutCompose:function(){this.composeNewThread()},onShortcutKeyboardShortcutList:function(){k.isTreatment("wonton.enableShortcutModal")&&
d.trigger("show:modal",B)},_showBasePage:function(){this.showControls();this.showThreadList();this.showAdRegion();this.showLearnMore();new y},showThread:function(){this._showBasePage();this.thread&&this.showThreadLayout(this.thread);d.trigger("launch:complete")},shouldShowConversationStarters:function(){return!this.hasConversations()||this.hasConversationStarters()||this.shouldShowHolidayPromo()},hasConversations:function(){var a=d.request("conversations");return a&&a.length},hasConversationStarters:function(){return!!(this.conversationStarters&&
0<this.conversationStarters.length)},shouldShowHolidayPromo:function(){return this.hasCloseConnections()&&!l.getItem("holidayPromoClosed")},hasCloseConnections:function(){return!!(this.closeConnections&&0<this.closeConnections.length)},showConversationStartersOnPageLoad:function(){this._showBasePage();this.shouldShowConversationStarters()?this.showConversationStarters():this.hideConversationStarters();d.trigger("launch:complete")},showConversationStarters:function(){var a=this.getRegion("inboxCenterRegion"),
b=this.getRegion("controlsRegion"),e=new x({conversationStarters:this.conversationStarters,closeConnections:this.closeConnections});a.show(e);this.thread=null;this.threadListView&&this.threadListView.toggleActive();b.currentView&&b.currentView.disableHomeButton()},hideConversationStarters:function(){var a=this.thread||this.threadListView.collection.first();this.threadListView.toggleActive(a);this.showThreadLayout(a)},closeConversationStarters:function(){this.hasCloseConnections()&&l.setItem("holidayPromoClosed",
!0,2592E3,"/messaging");this.hideConversationStarters()},showCompose:function(){this._showBasePage();this.composeNewThread(window.composeInfo)},showSearch:function(a,b){this.showControls();this.showLearnMore();this.showAdRegion();this.showSearchList(a,b);this.showThreadLayout(this.thread)},showThreadList:function(a){a=a||d.request("conversations");var b=new v({model:a.summary,thread:this.thread,collection:a});this.listenTo(a,"draft:created",this.showThreadLayout);this.listenTo(b,"select:conversation",
this.selectConversation);this.listenTo(b,"leave:active:conversation",this.leaveActiveConversation);this.listenTo(b,"return:active:conversation",this.returnActiveConversation);this.getRegion("inboxLeftRegion").show(b);b.bindKeyboardShortcuts();this.threadListView=b},showSearchList:function(a,b){var e=this.getRegion("controlsRegion").currentView.getRegion("searchRegion").currentView;e.setKeyword(b);e.search(a)},showControls:function(){this.getRegion("controlsRegion").show(new u({model:this.threads.summary}))},
selectConversation:function(a){var b=this.getRegion("inboxCenterRegion");b.once("show",function(){var a=b.currentView;a&&a.setInitialThreadFocus()});this.showThreadLayout(a)},showThreadLayout:function(a){var b=this.getRegion("inboxCenterRegion"),e=!1,c;this.getRegion("controlsRegion").currentView.enableHomeButton();a?(a.isSponsoredInmail()?(a.sponsoredInMailModel||(a.sponsoredInMailModel=new C({id:a.getNewestSyncedMessage().id})),c=new D({model:a}),a.sponsoredInMailModel.fetchContent()):c=new w({model:a}),
b.show(c),a.isNew()&&(window.RUM2.appRenderComplete(),this.listenToOnce(a,"hydrate",this.navigateToThread),e=!0)):(b.empty(),d.trigger("threaddetail:shown"));e||this.navigateToThread(a)},navigateToThread:function(a){var b=a&&(a.id||a.cid),b=b?"thread/"+b:"";this.thread=a;this.triggerMethod("change:thread",this.thread);d.trigger("navigate",b);d.request("track:comscore","wonton-conversation")},showLearnMore:function(a){var b=E.get("messaging_learn_more");l.removeItem(n.COOKIE_NAME,"/messaging");"show"===
k.get("wonton.tour")&&b&&this.getRegion("learnMoreRegion").show(new n(a))},navigateToHome:function(){d.trigger("navigate","/");p.fireTracking("wonton-grid");d.request("track:comscore","wonton-grid");this.showConversationStarters()},showAdRegion:function(){var a=new z,b=new A,e=this.getRegion("topTextAdRegion"),c=this.getRegion("displayAdsRegion");this.listenToOnce(a,"adblock:on",function(){e.$el.addClass("hidden")});this.listenToOnce(b,"adblock:on",function(){c.$el.addClass("hidden")});e.show(a);
c.show(b)},showModal:function(a,b){var c;a&&!this.modalShown&&(c=new a(b||{}),this.getRegion("modalRegion").show(c),this.modalShown=!0);return c},onModalHidden:function(){this.modalShown=!1},addThreadToList:function(a){var b;a&&(b=d.request("conversations"),this._appendNewMessageToThreadList(b,a),b.add(a),this.thread=a)},_appendNewMessageToThreadList:function(a,b){if(!(!a instanceof g.Collection||!b instanceof g.Model)){var c=b.get("participants"),d=b.get("messages"),s=this._getThreadByParticipants(a,
c);s&&f.isArray(d.models)&&d.models.forEach(function(a){s.get("messages").add(a)})}},_getThreadByParticipants:function(a,b){return!a instanceof g.Collection||!b||0===b.length?!1:f.find(a.models,function(a){a=a.get("participants");if(a.length===b.length)return this._verifyAllParticipantsMatch(a,b)}.bind(this))},_verifyAllParticipantsMatch:function(a,b){return!a instanceof g.Collection||!b instanceof g.Collection?!1:a.models.every(function(a){return!f.isEmpty(f.findWhere(b.models,{id:a.id}))})},composeNewThread:function(a){var b=
d.request("conversations"),c;window.RUM2.appTransitionStart();window.RUM2.setPageKey("wonton-message-compose");this.hasDraft||(p.fireTracking("wonton-message-compose"),d.request("track:comscore","wonton-message-compose"),this.thread=c=new t(null,{composeFields:a,onSave:a.onSend}),b.add(c),b.trigger("draft:created",c),this.listenToOnce(c,"sync destroy",this.onDraftSyncDestroy),this.toggleHasDraft());d.trigger("ads:refresh",{pageKey:this.COMPOSE_PAGE_KEY});return c},onConversationStarterDismissed:function(){var a;
this.shouldShowConversationStarters()||(a=this.thread||this.threadListView.collection.first(),this.showThreadLayout(a),this.threadListView.toggleActive(a),d.trigger("conversation:starters:empty"))},leaveActiveConversation:function(a){if(a=this.getRegion("inboxCenterRegion").currentView)a.onConversationLeave()},returnActiveConversation:function(a){if(a=this.getRegion("inboxCenterRegion").currentView)a.onConversationReturn()},toggleHasDraft:function(a){var b=this.getRegion("controlsRegion").currentView,
c=h(window);this.hasDraft=f.isUndefined(a)?!this.hasDraft:a;b.disableCompose(this.hasDraft);if(this.hasDraft)c.on("beforeunload.unfinishedCompose",f.bind(function(a){if(this.hasDraft&&0===d.request("composeTextarea:contents").length){var b=q.geti18nString("i18n_unfinished_compose_prompt","templates/main-page");return a.returnValue=b}},this));else c.off("beforeunload.unfinishedCompose")}});c.exports("InboxLayoutView",F)})(window.LIModules);
(function(b,t){function d(a){var b=window.globalNav&&window.globalNav.inbox||{},e="A"!==c.get("comm.inbox.notificationStyle");a=a||{};_.extend(this,f.Events);this.data=a;this.conversations=new k(a.conversations,{parse:!0,preloaded:!0});this.searchResults=new k(a.searchResults,{parse:!0,polling:!1});this.selectedThreadInfo=a.selectedThreadInfo&&new q(a.selectedThreadInfo,{parse:!0});a.props?this.conversationStarters=new l(a.props,{parse:!0}):(this.conversationStarters=new l,this.conversationStarters.fetch());
a.connections?this.closeConnections=new m(a.connections,{parse:!0}):(this.closeConnections=new m,c.isTreatment("wonton.holidayPromo")&&this.closeConnections.fetch());r.request("initialize",{masterConversations:this.conversations,activeConversations:this.conversations,searchConversations:this.searchResults,config:this.data});a.conversations.meta&&(n.uploadInfoToken=a.conversations.meta.uploadInfoToken);s.pollOnInit()&&this.conversations.startPolling();this.conversations.meta&&this.listenTo(this.conversations.meta,
"change:uploadInfoToken",function(a,b){n.uploadInfoToken=b});e&&b.setNavCount&&this.conversations.summary&&this.listenTo(this.conversations.summary,"change:unreadCount",function(a,c){_.isNumber(c)&&b.setNavCount(c)})}function g(){var a=window.globalNav&&window.globalNav.inbox;"A"===c.get("comm.inbox.notificationStyle")&&a&&a.setNavCount&&a.setNavCount(0)}function p(a){return a&&a.first()&&a.first().isSponsoredInmail()&&"unlessSponsoredInMail"===c.get("wonton.conversationStartersV2")}var f=b.requires("backbone"),
s=b.requires("Utils"),k=b.requires("ThreadCollection"),l=b.requires("ConversationStartersCollection"),m=b.requires("ConnectionCollection"),h=b.requires("InboxLayoutView"),n=b.requires("ThreadAttachmentModel"),q=b.requires("ThreadModel"),c=b.requires("LixValues"),r=b.requires("InboxChannel");d.prototype.threadAction=function(a){a=new h({threads:this.conversations,thread:this.conversations.get(a)||this.selectedThreadInfo||this.conversations.first(),conversationStarters:this.conversationStarters,closeConnections:this.closeConnections,
model:new f.Model(this.data)});g();a.render();a.showThread()};d.prototype.filterAction=function(a){var b={};if(a){a=a.split("\x26");for(var e=0;e<a.length;e++){var d=a[e].split("\x3d");2===d.length&&(b[decodeURIComponent(d[0])]=decodeURIComponent(d[1]))}}a=new h({threads:this.conversations,thread:b.keyword?this.searchResults.first():this.selectedThreadInfo?this.selectedThreadInfo:p(this.conversations)?this.conversations.first():c.isControl("wonton.conversationStartersV2")?this.conversations.first():
null,conversationStarters:this.conversationStarters,closeConnections:this.closeConnections,model:new f.Model(this.data)});g();a.render();b.keyword?a.showSearch(this.searchResults,b.keyword):p(this.conversations)?a.showThread():c.isControl("wonton.conversationStartersV2")?a.showThread():a.showConversationStartersOnPageLoad()};d.prototype.composeAction=function(){var a=new h({threads:this.conversations,conversationStarters:this.conversationStarters,closeConnections:this.closeConnections});g();a.render();
a.showCompose()};b.exports("InboxController",d)})(window.LIModules);
(function(a){var b=a.requires("marionette").AppRouter.extend({appRoutes:{"":"filterAction","?*query":"filterAction","thread(/:id)":"threadAction",compose:"composeAction"}});a.exports("InboxRouter",b)})(window.LIModules);
(function(a){var b=a.requires("jquery");b(function(){b.ajax(play.assetUrl("images/icons.svg")).done(function(a){b(a.firstChild).css({position:"fixed",display:"none"}).prependTo("body")})})})(window.LIModules);
(function(a){var b=a.requires("jquery"),l=a.requires("ModalDialogBox"),m=a.requires("Dropdown"),h=a.requires("dust"),n=a.requires("Utils"),c,d;b(function(){c=a.requires("Inbox");c.on("start",function(){var g=b("#feedback-link"),c=b("#privacy-nav");new m(c,{eventType:"hover",triggerSelector:".subnav-trigger"});var k;d=d||a.requires("t8");g.data("dialog")||(new d.Resources(h.i18n,h)).get("i18n_send_feedback","templates/footer",{},function(b,a){k=new l(g,{title:a,decorators:["scripts/shared/Dialog/AjaxLoading"],
cssDependencies:"css!scss/themes/katy/modules/feedback/feedback",width:500,fitToWindow:!1});g.data("dialog",k)});b(document).on("click","#dialog .feedback-btn",function(a){a.preventDefault();a=b("#dialog");var c=b("#feedback-form"),e=b("#feedback_info"),f=b("#content-feedbackInfoForm"),d=b("#feedback-success");a.find(".site-feedback").addClass("showing-feedback-form");f.on("keyup",function(){var a=f.val().length-500;e.find(".check-textarea-message").remove();0<a&&f.after(n.geti18nString("i18n_feedback_characters_exceeded",
"templates/footer",{numExceededCharacters:a}))});e.on("submit",function(a){a.preventDefault();500>=f.val().length&&b.ajax({url:e.attr("action"),method:e.attr("method"),data:e.serialize(),headers:{"X-IsAJAXForm":1,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}}).then(function(){c.hide();d.show()})})})})})})(window.LIModules);
(function(b){var e=b.requires("jquery");LI&&LI.define&&LI.define("RumMarker");b.exports("RumMarker",function(){var a=b.imports("RUM")||{},d=a.streamMetrics||{};e(window).load(function(){d.timeToPageInteractive=Date.now&&Date.now()||(new Date).getTime()});return{timeToAboveFold:function(a){d.timeToAboveFold=a},setRenderTime:function(b,c){a.timeMarks=a.timeMarks||{};a.timeMarks["ClientSideRender_"+b]=c},setModuleArrivalTime:function(b,c){a.timeMarks=a.timeMarks||{};a.timeMarks["ModuleArrival_"+b]=c}}}())})(window.LIModules);
(function(b,m){var n=b.requires("jquery"),f=b.requires("underscore"),e=b.requires("backbone"),a=b.requires("marionette");b.requires("UserModel");var p=b.requires("InboxRouter"),q=b.requires("InboxController"),r=b.requires("PageViewTracking"),h=b.requires("RumTracking"),s=b.requires("LazyLoader");b.requires("TrackingQueue");var k=b.requires("LegoData"),l=b.requires("LixValues"),t=b.requires("Utils"),u=b.requires("InboxTour"),v=e.Radio.channel("inbox"),g=null;e.Marionette.Renderer.render=function(a,
b){var c;a="function"===typeof a?a():a;dust.render(a,b,function(b,d){b&&m.log("error loading template: "+a+" with error: "+b);c=d});if(f.isUndefined(c))throw Error("Render failed for the following template: "+a);return c};var g=new a.Application,a=e.history.location.pathname,c=e.history.history,d=window.document.title;0===a.indexOf("/comm")&&c.replaceState({},d,a.substr(5));0===a.indexOf("/inbox")&&(0===a.indexOf("/inbox/mailbox/message/download")?c.replaceState({},d,a.replace("inbox/mailbox/message/download",
"messaging")):0===a.indexOf("/inbox/messages/received")?c.replaceState({},d,a.replace("inbox/messages/received","messaging")):0===a.indexOf("/inbox/nav-summary")?c.replaceState({},d,a.replace("inbox/nav-summary","messaging")):c.replaceState({},d,a.replace("inbox","messaging")));0===a.indexOf("/mbox")&&c.replaceState({},d,a.replace("mbox","messaging"));0===a.indexOf("/sendMsg")&&c.replaceState({},d,a.replace("sendMsg","messaging/compose"));0===a.indexOf("/msgToConns")&&c.replaceState({},d,a.replace("msgToConns",
"messaging/compose"));g.on("start",function(a){r.init(n(document.body));"function"===typeof h&&(window.RUM2=new h({"web-ui-framework":"MARIONETTE","request-sampling-rate":.01}));var b=f.extend(a.memberProfile,a.contactInfo);t.setCurrentUser(b);window.composeInfo=a.composeInfo;l.create(a.lixValues);k.create(a.legoData);s.initialize();var c=new p({controller:new q(f.pick(a,"conversations props connections searchResults selectedThreadInfo currentUser urls pageKeys locale".split(" ")))});v.on("navigate",
function(a){c.navigate(a,{replace:!0})});e.history.start({pushState:!0,root:"/messaging/"});"show"===l.get("wonton.tour")&&k.get("messaging_feature_tour")&&u.run()});b.exports("Inbox",g)})(window.LIModules,window.console);
